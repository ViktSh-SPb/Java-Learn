–í —Ç–µ–æ—Ä–µ–º–µ **CAP** —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ç–∏ (**Partitioning, P**) ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–µ —É—Å–ª–æ–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º—É —Å–¥–µ–ª–∞—Ç—å –≤—ã–±–æ—Ä –º–µ–∂–¥—É **–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é (Availability, A)** –∏ **—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é (Consistency, C)**.
# üß© **–ö–∞–∫ –≤–ª–∏—è–µ—Ç Partitioning –Ω–∞ Availability –∏ Consistency**
## üõë 1. –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ Partition (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å–µ—Ç–∏)
–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Ä—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –≤—Å–µ —É–∑–ª—ã –º–æ–≥—É—Ç —Å–≤–æ–±–æ–¥–Ω–æ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è.
–≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–æ–º—É, —á—Ç–æ **–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å C –∏ A –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ**.
# üéØ **–ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –≤—ã–±–∏—Ä–∞–µ—Ç Consistency (C) –ø—Ä–∏ Partition**
–û–Ω–∞ –¥–æ–ª–∂–Ω–∞ **–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å Availability (A)**.
### ‚úî –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
‚Äî —É–∑–ª—ã –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∑–∞–ø—Ä–æ—Å—ã, –ø–æ–∫–∞ –Ω–µ –º–æ–≥—É—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.
### ‚ùå –¢–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
‚Äî —á–∞—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞ –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞.
**–ü—Ä–∏–º–µ—Ä:**  
Zookeeper, Etcd, Consul ‚Äî –±–ª–æ–∫–∏—Ä—É—é—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.
# üéØ **–ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –≤—ã–±–∏—Ä–∞–µ—Ç Availability (A) –ø—Ä–∏ Partition**
–û–Ω–∞ –¥–æ–ª–∂–Ω–∞ **–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å Consistency (C)**.
### ‚úî –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
‚Äî –∫–∞–∂–¥—ã–π —É–∑–µ–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–≤—è–∑—å –Ω–∞—Ä—É—à–µ–Ω–∞.
### ‚ùå –ü–æ—Ç–µ—Ä—è —Å—Ç—Ä–æ–≥–æ–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏
‚Äî –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É–∑–ª–∞—Ö (eventual consistency).
**–ü—Ä–∏–º–µ—Ä:**  
Cassandra, Dynamo, Riak ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç—É –≤ —Ä–∞–∑–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–∞—Ö –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –ø–æ–∑–∂–µ.
# üìå –ò—Ç–æ–≥–æ–≤—ã–π —ç—Ñ—Ñ–µ–∫—Ç Partition –≤ CAP

|–í —Å–ª—É—á–∞–µ P –Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å|–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º|–ß–µ–º –∂–µ—Ä—Ç–≤—É–µ–º|
|---|---|---|
|**CP —Å–∏—Å—Ç–µ–º–∞**|–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å|–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é|
|**AP —Å–∏—Å—Ç–µ–º–∞**|–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å|–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é|
# üîç –ü–æ—á–µ–º—É —Ç–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?
Partition –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ —á–∞—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ –º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º**–ß—Ç–æ–±—ã:
- —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å **Consistency** ‚Üí –Ω—É–∂–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã, –ø–æ–∫–∞ —Å–≤—è–∑–∏ –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è.
- —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å **Availability** ‚Üí –Ω—É–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É –¥–∞–∂–µ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–Ω–∞—Ä—É—à–∞—è Consistency).
# ‚≠ê –ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π)
**–ü—Ä–∏ Partition —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ–π –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–π:  
–æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–±—Ä–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –¥–≤—É—Ö.**