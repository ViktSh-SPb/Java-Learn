## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `GenerationType.IDENTITY`
–ü—Ä–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ **`IDENTITY`** –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è **—Å–∞–º–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö**, –æ–±—ã—á–Ω–æ —á–µ—Ä–µ–∑:
- `AUTO_INCREMENT` (MySQL),
- `IDENTITY` (SQL Server),
- `SERIAL` (PostgreSQL).
–ü—Ä–∏–º–µ—Ä:
```java
@Entity
public class Author {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;
}
```
üìå –ö–æ–≥–¥–∞ Hibernate —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±—ä–µ–∫—Ç:
1. –û–Ω **–≤—ã–ø–æ–ª–Ω—è–µ—Ç `INSERT` —Å—Ä–∞–∑—É**, —á—Ç–æ–±—ã –±–∞–∑–∞ **—Å–∞–º–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∞ ID**.
2. –ó–∞—Ç–µ–º –≤—ã–∑—ã–≤–∞–µ—Ç `getGeneratedKeys()` (—á–µ—Ä–µ–∑ JDBC), —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ ID.
## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `IDENTITY`

|–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ|–û–ø–∏—Å–∞–Ω–∏–µ|
|---|---|
|‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞**|–ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ sequence. –í—Å—ë –¥–µ–ª–∞–µ—Ç —Å–∞–º–∞ –ë–î.|
|‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**|–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø–æ—á—Ç–∏ –≤—Å–µ–º–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –°–£–ë–î (MySQL, SQL Server, PostgreSQL, SQLite).|
|‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**|ID –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —É–Ω–∏–∫–∞–ª–µ–Ω ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∞–º–æ–π –ë–î.|
|‚úÖ **–ú–∏–Ω–∏–º—É–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**|–ù–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å sequence –∏–ª–∏ table generator.|
|‚úÖ **–•–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è CRUD-—Å–µ—Ä–≤–∏—Å–æ–≤**|–ï—Å–ª–∏ –≤—Å—Ç–∞–≤–∫–∏ –æ–¥–∏–Ω–æ—á–Ω—ã–µ (–Ω–µ –±–∞—Ç—á–µ–≤—ã–µ), —Ç–æ IDENTITY –≤–ø–æ–ª–Ω–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞.|
## üê¢ –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ (–≤ –æ—Å–Ω–æ–≤–Ω–æ–º ‚Äî –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ)

|–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫|–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ|
|---|---|
|‚ö†Ô∏è **Hibernate –Ω–µ –∑–Ω–∞–µ—Ç ID –¥–æ –≤—Å—Ç–∞–≤–∫–∏**|–ò–∑-–∑–∞ —ç—Ç–æ–≥–æ **Hibernate –Ω–µ –º–æ–∂–µ—Ç –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å INSERT** –¥–æ `flush()` ‚Äî –æ–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ**.|
|‚ö†Ô∏è **–ù–µ—Ç batch insert**|–¢–∞–∫ –∫–∞–∫ ID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è _—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏_, Hibernate –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å `INSERT ...; INSERT ...;` –ø–∞–∫–µ—Ç–Ω–æ. –ö–∞–∂–¥–∞—è –≤—Å—Ç–∞–≤–∫–∞ ‚Üí –æ—Ç–¥–µ–ª—å–Ω—ã–π SQL-–∑–∞–ø—Ä–æ—Å.|
|‚ö†Ô∏è **–ë–æ–ª—å—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –ë–î**|–ù–∞ –∫–∞–∂–¥—É—é —Å—É—â–Ω–æ—Å—Ç—å ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π INSERT –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π round-trip –∫ –ë–î.|
|‚ö†Ô∏è **–ü—Ä–æ–±–ª–µ–º—ã —Å –∫–∞—Å–∫–∞–¥–Ω—ã–º–∏ –≤—Å—Ç–∞–≤–∫–∞–º–∏**|–ü—Ä–∏ `@OneToMany(cascade = PERSIST)` Hibernate –¥–æ–ª–∂–µ–Ω —Å–Ω–∞—á–∞–ª–∞ –≤—Å—Ç–∞–≤–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—è (—á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ ID), –ø–æ—Ç–æ–º –¥–µ—Ç–µ–π. –≠—Ç–æ –ª–æ–º–∞–µ—Ç –ø–∞–∫–µ—Ç–Ω–æ—Å—Ç—å –∏ –ø–æ—Ä—è–¥–æ–∫.|
|‚ö†Ô∏è **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –ë–î**|–†–µ–∞–ª–∏–∑–∞—Ü–∏—è `IDENTITY` –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è: `AUTO_INCREMENT` –≤ MySQL ‚â† `IDENTITY` –≤ SQL Server.|
## üìä –ü—Ä–∏–º–µ—Ä: –ø–æ—á–µ–º—É –Ω–µ—Ç batch-–≤—Å—Ç–∞–≤–æ–∫
–°—Ä–∞–≤–Ω–∏–º –¥–≤–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤:
```java
for (int i = 0; i < 5; i++) {
    entityManager.persist(new Author("Author " + i));
}
```
### üßÆ –° `IDENTITY`
Hibernate –≤—ã–ø–æ–ª–Ω–∏—Ç 5 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
```sql
insert into author (name) values ('Author 0');
insert into author (name) values ('Author 1');
insert into author (name) values ('Author 2');
insert into author (name) values ('Author 3');
insert into author (name) values ('Author 4');
```
‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ ID –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏**.
### üöÄ –° `SEQUENCE`
Hibernate –∑–Ω–∞–µ—Ç ID –∑–∞—Ä–∞–Ω–µ–µ –∏ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å batch-–≤—Å—Ç–∞–≤–∫—É:
```sql
select nextval('author_seq') from generate_series(1,5);
insert into author (id, name) values (?, ?), (?, ?), (?, ?), (?, ?), (?, ?);
```
–≠—Ç–æ **–≤ —Ä–∞–∑—ã –±—ã—Å—Ç—Ä–µ–µ** –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–∞—Ö –¥–∞–Ω–Ω—ã—Ö.
## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

|–°—Ü–µ–Ω–∞—Ä–∏–π|–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å `IDENTITY`|
|---|---|
|–ï–¥–∏–Ω–∏—á–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏ (CRUD API)|‚úÖ –û—Ç–ª–∏—á–Ω–æ|
|–ú–∞—Å—Å–æ–≤—ã–µ –≤—Å—Ç–∞–≤–∫–∏ (batch import, ETL)|‚ùå –ü–ª–æ—Ö–æ|
|–ö–∞—Å–∫–∞–¥–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏ (`@OneToMany`)|‚ö†Ô∏è –°—Ä–µ–¥–Ω–µ, –∏–∑-–∑–∞ –ø–æ—Ä—è–¥–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π|
|–ß—Ç–µ–Ω–∏–µ / –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ / —É–¥–∞–ª–µ–Ω–∏–µ|‚ö° –ë–µ–∑ —Ä–∞–∑–Ω–∏—Ü—ã (–≤–ª–∏—è–Ω–∏—è –Ω–µ—Ç)|
## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π `IDENTITY`, –µ—Å–ª–∏:
- –£ —Ç–µ–±—è **–ø—Ä–æ—Å—Ç—ã–µ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏** (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∑–∞ —Ä–∞–∑);
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **MySQL** –∏–ª–∏ **SQL Server**, –≥–¥–µ —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç;
- –¢–µ–±–µ –Ω–µ –≤–∞–∂–Ω—ã batch-–≤—Å—Ç–∞–≤–∫–∏.
üö´ –ò–∑–±–µ–≥–∞–π `IDENTITY`, –µ—Å–ª–∏:
- –¢—ã —Ä–∞–±–æ—Ç–∞–µ—à—å —Å **PostgreSQL / Oracle**, –≥–¥–µ –µ—Å—Ç—å `SEQUENCE`;
- –ù—É–∂–Ω–∞ **–º–∞—Å—Å–æ–≤–∞—è –≤—Å—Ç–∞–≤–∫–∞** (batch);
- –¢—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å **–∫–∞—Å–∫–∞–¥–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è** (`cascade = PERSIST`) ‚Äî –æ–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º–∏.
## üß† –ò—Ç–æ–≥

|–ö—Ä–∏—Ç–µ—Ä–∏–π|`IDENTITY`|
|---|---|
|–ì–¥–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è ID|–í –ë–î –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ|
|–ö–æ–≥–¥–∞ ID –∏–∑–≤–µ—Å—Ç–µ–Ω|–ü–æ—Å–ª–µ `INSERT`|
|–ü–æ–¥–¥–µ—Ä–∂–∫–∞ batch insert|‚ùå –ù–µ—Ç|
|–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –≤—Å—Ç–∞–≤–∫–∞—Ö|‚úÖ –û—Ç–ª–∏—á–Ω–∞—è|
|–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –≤—Å—Ç–∞–≤–∫–∞—Ö|üê¢ –ù–∏–∑–∫–∞—è|
|–ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏|‚úÖ –î–∞|
|–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å|CRUD / REST API —Å –ø—Ä–æ—Å—Ç—ã–º–∏ –≤—Å—Ç–∞–≤–∫–∞–º–∏|
|–ö–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å|Bulk operations, —Å–ª–æ–∂–Ω—ã–µ –∫–∞—Å–∫–∞–¥—ã|
