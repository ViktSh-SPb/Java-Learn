В **Stream API** методы `findFirst()` и `findAny()` оба возвращают **Optional**, содержащий элемент потока, но **есть ключевое различие** в поведении, особенно для **параллельных потоков**.
## 1. `findFirst()`
- Возвращает **первый элемент** потока по **порядку источника**.
- Гарантирует **детерминированный результат** для **последовательного и параллельного потока**.
- Может быть **медленнее** на параллельных потоках, так как нужно сохранить порядок.
### Пример:
```java
List<String> names = List.of("Anna", "Bob", "Charlie");

Optional<String> first = names.stream()
                              .filter(s -> s.length() > 2)
                              .findFirst();

System.out.println(first.orElse("None")); // Anna
```
## 2. `findAny()`
- Возвращает **любой элемент**, который удовлетворяет условию.
- Для **последовательного потока** обычно совпадает с `findFirst()`.
- Для **параллельного потока** может вернуть **любой подходящий элемент**, что позволяет **оптимизировать выполнение**.
### Пример:
```java
List<String> names = List.of("Anna", "Bob", "Charlie");

Optional<String> any = names.parallelStream()
                            .filter(s -> s.length() > 2)
                            .findAny();

System.out.println(any.orElse("None")); // может быть Anna, Bob или Charlie
```
## 3. Отличия в таблице

|Метод|Последовательный поток|Параллельный поток|Порядок гарантирован|
|---|---|---|---|
|`findFirst()`|Первый элемент|Первый элемент|Да|
|`findAny()`|Первый элемент|Любой элемент|Нет|
## 4. Когда использовать
- **`findFirst()`**: когда важен порядок элементов.
- **`findAny()`**: когда порядок не важен, а важна **производительность**, особенно для параллельных потоков.