–ú–Ω–æ–≥–∏–µ –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–∏—à—É—Ç —Å **–∫–æ—Ä—Ä–µ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–¥–∑–∞–ø—Ä–æ—Å–∞–º–∏** (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ `WHERE` –∏–ª–∏ `SELECT`), –∞ –∏—Ö –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–µ `JOIN`.
## üß† –ü–æ—á–µ–º—É JOIN –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –ø–æ–¥–∑–∞–ø—Ä–æ—Å
- –ü–æ–¥–∑–∞–ø—Ä–æ—Å —á–∞—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –≤–Ω–µ—à–Ω–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞**.
- JOIN –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä—É –ø–æ—Å—Ç—Ä–æ–∏—Ç—å **–æ–¥–∏–Ω –ø–ª–∞–Ω —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å—ë **–∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥**.
- –í JOIN –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –∏ –ø–ª–∞–Ω—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ.
## üìä –ü—Ä–∏–º–µ—Ä 1. –ü–æ–¥–∑–∞–ø—Ä–æ—Å –≤ `WHERE` ‚Üí JOIN
### ‚ùå –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:
```sql
SELECT e.id, e.name
FROM employees e
WHERE e.department_id IN (
    SELECT d.id
    FROM departments d
    WHERE d.location = 'Moscow'
);
```
üëâ –ó–¥–µ—Å—å –ø–æ–¥–∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–Ω–æ–≥–æ —Ä–∞–∑.
### ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:
```sql
SELECT e.id, e.name
FROM employees e
JOIN departments d ON e.department_id = d.id
WHERE d.location = 'Moscow';
```
üìà –¢–µ–ø–µ—Ä—å:
- –ü–æ–¥–∑–∞–ø—Ä–æ—Å —É–±—Ä–∞–Ω,
- –∏–Ω–¥–µ–∫—Å—ã –ø–æ `department_id` –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã,
- –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—É–¥–µ—Ç –ø—Ä–æ—â–µ –∏ –±—ã—Å—Ç—Ä–µ–µ.
## üìä –ü—Ä–∏–º–µ—Ä 2. –ü–æ–¥–∑–∞–ø—Ä–æ—Å –≤ `SELECT` ‚Üí JOIN + –∞–≥—Ä–µ–≥–∞—Ç
### ‚ùå –ú–µ–¥–ª–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:
```sql
SELECT c.id, c.name,
       (SELECT COUNT(*) FROM orders o WHERE o.customer_id = c.id) AS order_count
FROM customers c;
```
üëâ –ü–æ–¥–∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ `customers`.
### ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:
```sql
SELECT c.id, c.name, COUNT(o.id) AS order_count
FROM customers c
LEFT JOIN orders o ON c.id = o.customer_id
GROUP BY c.id, c.name;
```
üìà –¢–µ–ø–µ—Ä—å –ø–æ–¥—Å—á—ë—Ç –∑–∞–∫–∞–∑–æ–≤ –¥–µ–ª–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –ø—Ä–æ—Ö–æ–¥–æ–º —á–µ—Ä–µ–∑ `GROUP BY`.
## üìä –ü—Ä–∏–º–µ—Ä 3. EXISTS ‚Üí JOIN (–∏–Ω–æ–≥–¥–∞)
### ‚ùå –ü–æ–¥–∑–∞–ø—Ä–æ—Å —Å EXISTS:
```sql
SELECT c.id, c.name
FROM customers c
WHERE EXISTS (
    SELECT 1 FROM orders o WHERE o.customer_id = c.id
);
```
### ‚úÖ –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç —á–µ—Ä–µ–∑ JOIN (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ ‚Äî –∞–∫–∫—É—Ä–∞—Ç–Ω–æ!):
```sql
SELECT DISTINCT c.id, c.name
FROM customers c
JOIN orders o ON c.id = o.customer_id;
```
üìå `DISTINCT` –Ω—É–∂–µ–Ω, –µ—Å–ª–∏ —É –∫–ª–∏–µ–Ω—Ç–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–∫–∞–∑–æ–≤, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.
> ‚ö†Ô∏è _–ò–Ω–æ–≥–¥–∞ `EXISTS` –±—ã—Å—Ç—Ä–µ–µ, –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –±–æ–ª—å—à–∏–µ –∏ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ ‚Äî –ø–æ—ç—Ç–æ–º—É —Å—Ä–∞–≤–Ω–∏–≤–∞–π –ø–ª–∞–Ω—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (`EXPLAIN`)._
## üß≠ –û–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ó–∞–º–µ–Ω—è–π –ø–æ–¥–∑–∞–ø—Ä–æ—Å—ã –Ω–∞ `JOIN` —Ç–∞–º, –≥–¥–µ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ.
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π `LEFT JOIN` –≤–º–µ—Å—Ç–æ –ø–æ–¥–∑–∞–ø—Ä–æ—Å–æ–≤, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã.
- üßÆ –ï—Å–ª–∏ —Å—á–∏—Ç–∞–µ—à—å –∞–≥—Ä–µ–≥–∞—Ç—ã (`COUNT`, `SUM`, `MAX`) ‚Äî –ª—É—á—à–µ `JOIN` + `GROUP BY`, —á–µ–º –ø–æ–¥–∑–∞–ø—Ä–æ—Å –≤ `SELECT`.
- üìä –ü—Ä–æ–≤–µ—Ä—è–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å `EXPLAIN` ‚Äî –∏–Ω–æ–≥–¥–∞ –°–£–ë–î —Å–∞–º–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –ø–æ–¥–∑–∞–ø—Ä–æ—Å, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞.
- üß≠ –°–ª–µ–¥–∏ –∑–∞ –∏–Ω–¥–µ–∫—Å–∞–º–∏ –Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–ª—è—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
‚úÖ **–ò—Ç–æ–≥:**  
`JOIN` –ø–æ–∑–≤–æ–ª—è–µ—Ç –°–£–ë–î –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –æ–¥–∏–Ω –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –∏ –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ —ç—Ç–æ **—Å–µ—Ä—å—ë–∑–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç** –∑–∞–ø—Ä–æ—Å—ã –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø–æ–¥–∑–∞–ø—Ä–æ—Å–∞–º–∏.