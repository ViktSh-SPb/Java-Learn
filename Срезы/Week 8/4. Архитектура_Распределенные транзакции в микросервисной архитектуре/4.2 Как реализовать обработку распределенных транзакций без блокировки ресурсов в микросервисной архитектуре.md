–í –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (2PC/3PC) –ø–ª–æ—Ö–æ –ø–æ–¥—Ö–æ–¥—è—Ç –∏–∑-–∑–∞ **–±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —Å–Ω–∏–∂–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏**. –ß—Ç–æ–±—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ **–±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤**, –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –ø–æ–¥—Ö–æ–¥—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–µ–π –∏–ª–∏ —Å–æ–±—ã—Ç–∏–π–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è**.
–ù–∏–∂–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã.
# 1Ô∏è‚É£ **Saga Pattern (–±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫)**
**–ò–¥–µ—è:** –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å **–ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ.  
–ï—Å–ª–∏ —à–∞–≥ –Ω–µ —É–¥–∞—ë—Ç—Å—è ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–æ–Ω–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è**, —á—Ç–æ–±—ã –æ—Ç–∫–∞—Ç–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —à–∞–≥–∏.
### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
1. **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è (Orchestration)**
    - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π Saga Coordinator —É–ø—Ä–∞–≤–ª—è–µ—Ç —à–∞–≥–∞–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
    - –û—Ç–∫–∞–∑ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ ‚Üí –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —à–∞–≥–æ–≤.
2. **–•–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—è (Choreography)**
    - –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞.
    - –°–µ—Ä–≤–∏—Å—ã –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è —Å–æ–±—ã—Ç–∏—è–º–∏ (Event Bus), –∏–Ω–∏—Ü–∏–∏—Ä—É—è —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –∏–ª–∏ –æ—Ç–∫–∞—Ç—ã.
**–ü–ª—é—Å—ã:**
- –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.
- –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ —Å event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.
**–ú–∏–Ω—É—Å—ã:**
- –ù–µ—Ç —Å—Ç—Ä–æ–≥–æ–π ACID-—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏, —Ç–æ–ª—å–∫–æ **eventual consistency**.
- –ù—É–∂–Ω–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è.
# 2Ô∏è‚É£ **Event-driven / Eventual Consistency**
**–ò–¥–µ—è:** —Å–µ—Ä–≤–∏—Å—ã —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥—å/—à–∏–Ω—É —Å–æ–æ–±—â–µ–Ω–∏–π (Kafka, RabbitMQ, NATS).
- –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞.
- –î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–ª—É—á–∞—é—Ç —Å–æ–±—ã—Ç–∏–µ –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç —Å–≤–æ–∏ —à–∞–≥–∏.
- –ü—Ä–∏ –æ—à–∏–±–∫–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏.
**–ü–ª—é—Å—ã:**
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ.
**–ú–∏–Ω—É—Å—ã:**
- –î–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è.
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
# 3Ô∏è‚É£ **–õ–æ–∫–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è–º–∏**
- –ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∫ **–ª–æ–∫–∞–ª—å–Ω–∞—è ACID-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è** –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ë–î –∏–ª–∏ —Å–µ—Ä–≤–∏—Å–µ.
- –ü—Ä–∏ —Å–±–æ–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–æ—Ç–∫–∞—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —à–∞–≥–æ–≤** —á–µ—Ä–µ–∑ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.
**–ü—Ä–∏–º–µ—Ä:**
1. –°–ø–∏—Å–∞–Ω–∏–µ –¥–µ–Ω–µ–≥ —Å –∫–∞—Ä—Ç—ã ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è.
2. –ï—Å–ª–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –Ω–µ —É–¥–∞–ª–æ—Å—å ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: –≤–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–≥.
**–ü–ª—é—Å—ã:**
- –ü—Ä–æ—Å—Ç–∞ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö —Å–∏—Å—Ç–µ–º.
- –ù–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
**–ú–∏–Ω—É—Å—ã:**
- –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏.
# 4Ô∏è‚É£ **–ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫**
1. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** —à–∞–≥–æ–≤ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è.
2. **–õ–æ–∫–∞–ª—å–Ω–∞—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å** –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ (ACID –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞).
3. **–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** –≤–º–µ—Å—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –æ—Ç–∫–∞—Ç–∞.
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞—É–¥–∏—Ç —Å–æ–±—ã—Ç–∏–π** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Saga.
# üîë **–ò—Ç–æ–≥**
–ß—Ç–æ–±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Saga Pattern** (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∏–ª–∏ —Ö–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—è).
- –ü—Ä–∏–º–µ–Ω—è—Ç—å **Event-driven –ø–æ–¥—Ö–æ–¥—ã** —Å –æ—á–µ—Ä–µ–¥—è–º–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.
- –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **–ª–æ–∫–∞–ª—å–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏**.
- –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ **eventual consistency**, –∞ –Ω–µ —á–µ—Ä–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.