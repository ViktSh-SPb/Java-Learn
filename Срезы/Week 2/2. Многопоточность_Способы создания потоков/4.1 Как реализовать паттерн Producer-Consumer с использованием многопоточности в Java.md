**Producer-Consumer** ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏, –≥–¥–µ:
- **Producer (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å)** ‚Äî —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á–∏/–¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–º–µ—â–∞–µ—Ç –∏—Ö –≤ –æ—á–µ—Ä–µ–¥—å.
- **Consumer (–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å)** ‚Äî –∑–∞–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö.
–¶–µ–ª—å ‚Äî **—Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π** —á–µ—Ä–µ–∑ –æ–±—â–∏–π –±—É—Ñ–µ—Ä (–æ–±—ã—á–Ω–æ –æ—á–µ—Ä–µ–¥—å).
## üîπ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `BlockingQueue` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
Java —É–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –ø–æ—Ç–æ–∫–æ-–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ –≤ –ø–∞–∫–µ—Ç–µ `java.util.concurrent`, –Ω–∞–ø—Ä–∏–º–µ—Ä `LinkedBlockingQueue`.
### –ü—Ä–∏–º–µ—Ä:
```java
import java.util.concurrent.BlockingQueue;
import java.util.concurrent.LinkedBlockingQueue;

class Producer implements Runnable {
    private BlockingQueue<Integer> queue;

    public Producer(BlockingQueue<Integer> queue) {
        this.queue = queue;
    }

    @Override
    public void run() {
        try {
            for (int i = 1; i <= 5; i++) {
                System.out.println("Producer produced: " + i);
                queue.put(i); // –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∞
                Thread.sleep(500);
            }
            queue.put(-1); // —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–∞—Ä–∫–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
}

class Consumer implements Runnable {
    private BlockingQueue<Integer> queue;

    public Consumer(BlockingQueue<Integer> queue) {
        this.queue = queue;
    }

    @Override
    public void run() {
        try {
            while (true) {
                Integer value = queue.take(); // –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞
                if (value == -1) {
                    break; // –∑–∞–≤–µ—Ä—à–∞–µ–º
                }
                System.out.println("Consumer consumed: " + value);
                Thread.sleep(1000);
            }
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
}

public class Main {
    public static void main(String[] args) {
        BlockingQueue<Integer> queue = new LinkedBlockingQueue<>(3); // –±—É—Ñ–µ—Ä –Ω–∞ 3 —ç–ª–µ–º–µ–Ω—Ç–∞

        Thread producer = new Thread(new Producer(queue));
        Thread consumer = new Thread(new Consumer(queue));

        producer.start();
        consumer.start();
    }
}
```
## üîπ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- `queue.put()` ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –ø–æ–ª–Ω–∞.
- `queue.take()` ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞.
- –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É **–Ω–µ –Ω—É–∂–Ω—ã —Ä—É—á–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏** (`wait()`, `notify()`).
## üîπ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (—á–µ—Ä–µ–∑ `wait()`/`notifyAll()`)
–ú–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ `List` –∏–ª–∏ –º–∞—Å—Å–∏–≤—É.
```java
import java.util.LinkedList;
import java.util.Queue;

class Buffer {
    private final Queue<Integer> queue = new LinkedList<>();
    private final int capacity = 3;

    public synchronized void produce(int value) throws InterruptedException {
        while (queue.size() == capacity) {
            wait(); // –∂–¥—ë–º, –ø–æ–∫–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –æ—Å–≤–æ–±–æ–¥–∏—Ç –º–µ—Å—Ç–æ
        }
        queue.add(value);
        System.out.println("Produced: " + value);
        notifyAll(); // —Ä–∞–∑–±—É–¥–∏–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π
    }

    public synchronized int consume() throws InterruptedException {
        while (queue.isEmpty()) {
            wait(); // –∂–¥—ë–º, –ø–æ–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –¥–æ–±–∞–≤–∏—Ç —ç–ª–µ–º–µ–Ω—Ç
        }
        int value = queue.poll();
        System.out.println("Consumed: " + value);
        notifyAll(); // —Ä–∞–∑–±—É–¥–∏–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π
        return value;
    }
}

class Producer extends Thread {
    private final Buffer buffer;
    public Producer(Buffer buffer) { this.buffer = buffer; }

    public void run() {
        for (int i = 1; i <= 5; i++) {
            try {
                buffer.produce(i);
                Thread.sleep(500);
            } catch (InterruptedException e) {
                interrupt();
            }
        }
    }
}

class Consumer extends Thread {
    private final Buffer buffer;
    public Consumer(Buffer buffer) { this.buffer = buffer; }

    public void run() {
        for (int i = 1; i <= 5; i++) {
            try {
                buffer.consume();
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                interrupt();
            }
        }
    }
}

public class Main {
    public static void main(String[] args) {
        Buffer buffer = new Buffer();
        new Producer(buffer).start();
        new Consumer(buffer).start();
    }
}
```
## üîπ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤
- ‚úÖ **`BlockingQueue`** ‚Äî –ø—Ä–æ—â–µ, –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, –º–µ–Ω—å—à–µ –∫–æ–¥–∞, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.
- ‚öôÔ∏è **`wait/notify`** ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —É—á–µ–±–Ω—ã–π –ø—Ä–∏–º–µ—Ä, –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.
