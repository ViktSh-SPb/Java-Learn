## üß© 1. **–í—ã–±—Ä–∞—Ç—å –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**
–ù–∞–∏–±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ:
- **HikariCP** ‚Äî –±—ã—Å—Ç—Ä—ã–π –∏ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π (—á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Spring Boot).
- **Apache DBCP2** ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π, –Ω–æ —á—É—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ.
- **C3P0** ‚Äî —É—Å—Ç–∞—Ä–µ–≤—à–∏–π, –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.
üëâ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **HikariCP**.
## ‚öôÔ∏è 2. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å**
### –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –Ω–∞ **Maven**:
```xml
<dependency>
    <groupId>com.zaxxer</groupId>
    <artifactId>HikariCP</artifactId>
    <version>5.1.0</version>
</dependency>
```
### –ï—Å–ª–∏ Spring Boot ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥—Ä–∞–π–≤–µ—Ä –ë–î (Hikari –∏–¥—ë—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
## üß≠ 3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É–ª–∞**
–ï—Å–ª–∏ **Spring Boot**, –¥–æ–±–∞–≤—å –≤ `application.yml` –∏–ª–∏ `application.properties`:
```yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/mydb
    username: myuser
    password: secret
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10         # –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª-–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
      minimum-idle: 5               # –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –≤ –ø—É–ª–µ
      idle-timeout: 30000           # –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è –¥–æ –∑–∞–∫—Ä—ã—Ç–∏—è (–º—Å)
      max-lifetime: 1800000         # –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–º—Å)
      connection-timeout: 30000     # —Ç–∞–π–º–∞—É—Ç –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–º—Å)
```
–ï—Å–ª–∏ **–±–µ–∑ Spring**, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø—É–ª –≤—Ä—É—á–Ω—É—é:
```java
HikariConfig config = new HikariConfig();
config.setJdbcUrl("jdbc:postgresql://localhost:5432/mydb");
config.setUsername("myuser");
config.setPassword("secret");
config.setMaximumPoolSize(10);

HikariDataSource dataSource = new HikariDataSource(config);
```
## üõ†Ô∏è 4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—É–ª —Å DAO / Repository**
–í–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ `DriverManager.getConnection()` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `DataSource`.
```java
try (Connection connection = dataSource.getConnection();
     PreparedStatement stmt = connection.prepareStatement("SELECT * FROM users")) {

    ResultSet rs = stmt.executeQuery();
    while (rs.next()) {
        System.out.println(rs.getString("name"));
    }

} catch (SQLException e) {
    e.printStackTrace();
}
```
> ‚úÖ –ü—É–ª —Å–∞–º —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ ‚Äî –ø–æ—Å–ª–µ `close()` —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è, –∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –ø—É–ª.
## üß∞ 5. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ORM (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JPA/Hibernate)**
–í `application.yml`:
```yaml
spring:
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate.dialect: org.hibernate.dialect.PostgreSQLDialect
```
## üß™ 6. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—É–ª–∞**
- –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Hikari:
    ```yaml
    logging:
      level:
        com.zaxxer.hikari: DEBUG
    ```
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å, –∞ **–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**.
## üßº 7. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `maximumPoolSize` –ø–æ–¥ —Ä–µ–∞–ª—å–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É.
- –°–ª–µ–¥–∏—Ç—å –∑–∞:
    - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–∞–Ω—è—Ç—ã—Ö –∏ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π;
    - –≤—Ä–µ–º–µ–Ω–µ–º –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è;
    - —Ç–∞–π–º-–∞—É—Ç–∞–º–∏.
- –ú–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å [HikariCP Metrics](https://github.com/brettwooldridge/HikariCP#health-checks) —Å Prometheus / Micrometer.
## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:

|–ß—Ç–æ –±—ã–ª–æ|–ß—Ç–æ —Å—Ç–∞–ª–æ|
|---|---|
|`DriverManager.getConnection()`|`HikariDataSource.getConnection()`|
|–ù–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å|–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –ø—É–ª|
|–í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞|–ë—ã—Å—Ç—Ä–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ|
|–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É—Ç–µ—á–∫–∏|–£–ø—Ä–∞–≤–ª—è–µ–º—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª|
‚úÖ **–ò—Ç–æ–≥–æ–≤—ã–µ —à–∞–≥–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –ø—É–ª–∞.
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DataSource.
3. –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ DriverManager –Ω–∞ DataSource.
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ –ª–æ–≥–∏/–º–µ—Ç—Ä–∏–∫–∏.
5. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É–ª–∞.