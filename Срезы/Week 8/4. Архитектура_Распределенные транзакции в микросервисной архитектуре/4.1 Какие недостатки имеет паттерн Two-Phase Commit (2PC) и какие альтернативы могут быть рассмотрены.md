–ü–∞—Ç—Ç–µ—Ä–Ω **Two-Phase Commit (2PC)** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –Ω–æ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ –±–æ–ª—å—à–∏—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –æ–Ω –∏–º–µ–µ—Ç —Ä—è–¥ —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏—Ö –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã.
# üîπ –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ 2PC

|–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫|–ü—Ä–∏—á–∏–Ω–∞ / –û–ø–∏—Å–∞–Ω–∏–µ|
|---|---|
|**–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤**|–£—á–∞—Å—Ç–Ω–∏–∫–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç —Ä–µ—Å—É—Ä—Å—ã –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±–µ–∏—Ö —Ñ–∞–∑, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∑–∞–¥–µ—Ä–∂–∫–∞–º –∏ deadlock.|
|**–°–Ω–∏–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏**|–ï—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –∏–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–Ω—É—Ç—å, —Å–Ω–∏–∂–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (CAP).|
|**–í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞**|–î–≤–µ —Ñ–∞–∑—ã (prepare + commit) –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞.|
|**–°–ª–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è**|–° —Ä–æ—Å—Ç–æ–º —á–∏—Å–ª–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤—Ä–µ–º—è –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å–±–æ–µ–≤ —Ä–∞—Å—Ç—ë—Ç.|
|**–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Å–±–æ—è–º —Å–µ—Ç–∏**|Partition –∏–ª–∏ –ø–æ—Ç–µ—Ä—è —Å–æ–æ–±—â–µ–Ω–∏–π –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏–ª–∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.|
|**–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**|–¢—Ä–µ–±—É–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç —Å–∏—Å—Ç–µ–º—É.|
# üîπ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã 2PC
1. **Saga Pattern**
    - **–ò–¥–µ—è:** –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â–∏–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏.
    - **–ü–ª—é—Å—ã:** –≤—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å, –Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
    - **–ú–∏–Ω—É—Å—ã:** eventual consistency, —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–π.
2. **Event-driven / Eventual Consistency**
    - **–ò–¥–µ—è:** —Å–µ—Ä–≤–∏—Å—ã –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è —Å–æ–±—ã—Ç–∏—è–º–∏ —á–µ—Ä–µ–∑ —à–∏–Ω—É —Å–æ–æ–±—â–µ–Ω–∏–π (Kafka, RabbitMQ) –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ—Å—Ç–∏–≥–∞—é—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
    - **–ü–ª—é—Å—ã:** –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏.
    - **–ú–∏–Ω—É—Å—ã:** –Ω–µ—Ç —Å—Ç—Ä–æ–≥–æ–π ACID-—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏, –≤–æ–∑–º–æ–∂–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è.
3. **Three-Phase Commit (3PC)**
    - –î–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Ñ–∞–∑—É –º–µ–∂–¥—É prepare –∏ commit –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–±–æ—è—Ö.
    - **–ú–∏–Ω—É—Å—ã:** –µ—â—ë –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª, –≤—Å—ë —Ä–∞–≤–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.
4. **–õ–æ–∫–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ + –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏**
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∫–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–∫–∞—Ç–∞.
    - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ —Å —á–∞—Å—Ç–∏—á–Ω–æ–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é.
# üîπ –ò—Ç–æ–≥

|–ü–æ–¥—Ö–æ–¥|ACID|–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å|–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å|–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ|
|---|---|---|---|---|
|2PC|–î–∞|–ù–∏–∑–∫–∞—è –ø—Ä–∏ —Å–±–æ—è—Ö|–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞|–ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–±–∞–Ω–∫, —Ñ–∏–Ω–∞–Ω—Å—ã)|
|Saga|Eventual|–í—ã—Å–æ–∫–∞—è|–•–æ—Ä–æ—à–∞—è|–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, e-commerce, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ|
|Event-driven|Eventual|–í—ã—Å–æ–∫–∞—è|–û—Ç–ª–∏—á–Ω–∞—è|–°–æ–±—ã—Ç–∏–π–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏|
|3PC|–î–∞|–°—Ä–µ–¥–Ω—è—è|–°—Ä–µ–¥–Ω—è—è|–†–µ–¥–∫–æ, –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏|
