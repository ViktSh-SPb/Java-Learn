## 1️⃣ Топик в Kafka
**Топик (Topic)** — это основная логическая сущность для обмена сообщениями в Kafka.
- **Описание:**
    - Топик — это логический канал, куда продюсеры публикуют сообщения.
    - Каждый топик разбит на **партиции (partitions)**.
    - Сообщения внутри партиции **упорядочены по offset** (позиции).
    - Топики хранят сообщения на диске и могут быть **ретеншн политикой** (например, хранить последние 7 дней или N сообщений).
- **Особенности:**
    - Продюсер отправляет сообщение в топик.
    - Каждый consumer group читает топик независимо:
        - Внутри одной группы сообщение читается **только одним consumer**.
        - Разные группы могут читать одно и то же сообщение параллельно.
    - Routing (маршрутизация) — через **ключ сообщения (key)**, который определяет, в какую партицию попадет сообщение.
## 2️⃣ Соответствие RabbitMQ
В RabbitMQ нет прямого аналога топика, но есть похожие концепции:

|Kafka|RabbitMQ|Пояснение|
|---|---|---|
|**Topic (топик)**|**Exchange + Queue(s)**|В RabbitMQ сообщения публикуются в exchange, который затем направляет их в одну или несколько очередей (queues) по правилам маршрутизации (routing key, headers, fanout и т.д.)|
|**Partition**|нет прямого аналога|В Kafka партиции нужны для масштабирования и параллельного потребления. В RabbitMQ параллельность достигается через несколько очередей и несколько consumer-ов.|
|**Consumer Group**|нет прямого аналога|В Kafka группа потребителей делит сообщения внутри топика. В RabbitMQ один queue может иметь несколько consumer-ов — они автоматически распределяют нагрузку (round-robin) между собой.|
## 3️⃣ Главное отличие
- **Kafka топик = логический поток сообщений**; хранение, упорядочение и ретеншн встроены.
- **RabbitMQ exchange + queues = маршрутизируемый поток сообщений**; хранение и упорядочение зависят от очередей и их настроек.
- В RabbitMQ **можно направлять одно сообщение в несколько очередей одновременно** (fanout, topic, headers), а в Kafka **каждое сообщение пишется один раз в топик**, дублирование для разных подписчиков реализуется consumer groups.
## 4️⃣ Схематично
**Kafka:**
```
Producer -> Topic -> Partition(s) -> Consumer Groups
```
**RabbitMQ:**
```
Producer -> Exchange -> Queue(s) -> Consumer(s)
```
- Топик Kafka ≈ Exchange + Queue в RabbitMQ, если брать только "передачу сообщения от продюсера к потребителю".
- Основное отличие: **встроенные партиции и offset tracking** у Kafka; RabbitMQ делает это через очереди и acknowledgements.