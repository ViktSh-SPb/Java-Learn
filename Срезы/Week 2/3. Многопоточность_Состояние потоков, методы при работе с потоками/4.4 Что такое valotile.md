## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `volatile`?
`volatile` ‚Äî —ç—Ç–æ **–∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ** –≤ Java, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã:
1. **–í—Å–µ –ø–æ—Ç–æ–∫–∏ –≤–∏–¥–µ–ª–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π** —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
2. –ò–∑–±–µ–∂–∞—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ö/–∫—ç—à–∞—Ö –ø–æ—Ç–æ–∫–æ–≤.
    ## üîπ –ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑ `volatile`
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –¥–µ—Ä–∂–∞—Ç—å **–ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é** –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ —Å–≤–æ—ë–º –∫—ç—à–µ CPU. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–æ–º—É, —á—Ç–æ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –¥—Ä—É–≥–∏–µ –æ–± —ç—Ç–æ–º "–Ω–µ —É–∑–Ω–∞—é—Ç".
```java
class Worker extends Thread {
    private boolean running = true;

    public void run() {
        while (running) { // –º–æ–∂–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å—Å—è, –∏ –ø–æ—Ç–æ–∫ –±—É–¥–µ—Ç –∫—Ä—É—Ç–∏—Ç—å—Å—è –≤–µ—á–Ω–æ
        }
        System.out.println("–ü–æ—Ç–æ–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω");
    }

    public void stopWork() {
        running = false;
    }
}
```
–í —ç—Ç–æ–º –∫–æ–¥–µ –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è**, –ø–æ—Ç–æ–º—É —á—Ç–æ `running` –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–ª–∞—Å—å.
## üîπ –†–µ—à–µ–Ω–∏–µ ‚Äî `volatile`

```java
class Worker extends Thread {
    private volatile boolean running = true;

    public void run() {
        while (running) {
        }
        System.out.println("–ü–æ—Ç–æ–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω");
    }

    public void stopWork() {
        running = false;
    }
}
```
–¢–µ–ø–µ—Ä—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `running` –≤ –æ–¥–Ω–æ–º –ø–æ—Ç–æ–∫–µ —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ –≤ –¥—Ä—É–≥–æ–º.
## üîπ –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
1. **`volatile` ‚â† —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é**
    - –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ **–≤–∏–¥–∏–º–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π** –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏;
    - **–Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π**.
–ù–∞–ø—Ä–∏–º–µ—Ä:
```java
volatile int counter = 0;

public void increment() {
    counter++; // –ù–ï –∞—Ç–æ–º–∞—Ä–Ω–æ! (—á—Ç–µ–Ω–∏–µ ‚Üí –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç ‚Üí –∑–∞–ø–∏—Å—å)
}
```
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `AtomicInteger`.
2. **–ì–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `volatile`**:
    - —Ñ–ª–∞–≥–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞ (`running`, `shutdown`),
    - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —á–∏—Ç–∞—é—Ç—Å—è/–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
3. **–ì–¥–µ –ù–ï —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `volatile`**:
    - –¥–ª—è —Å—á—ë—Ç—á–∏–∫–æ–≤, –∫–æ–ª–ª–µ–∫—Ü–∏–π, –∏–ª–∏ –ª—é–±—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏.
## üîπ –ò—Ç–æ–≥
`volatile` ‚Äî —ç—Ç–æ **–∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ**, –∫–æ—Ç–æ—Ä–æ–µ:
- –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç **–≤–∏–¥–∏–º–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π** –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏,
- **–Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å** –æ–ø–µ—Ä–∞—Ü–∏–π.
–û–±—ã—á–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è **—Ñ–ª–∞–≥–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞–º–∏**.