# üöÄ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è DDD –≤ –º–æ–Ω–æ–ª–∏—Ç
## **1. –ê–Ω–∞–ª–∏–∑ –¥–æ–º–µ–Ω–∞ –∏ –≤—ã–¥–µ–ª–µ–Ω–∏–µ Bounded Contexts**
–ü—Ä–µ–∂–¥–µ —á–µ–º –º–µ–Ω—è—Ç—å –∫–æ–¥, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
- –ø—Ä–æ–≤–µ—Å—Ç–∏ **–¥–æ–º–µ–Ω–Ω—ã–µ –≤–æ—Ä–∫—à–æ–ø—ã** —Å –±–∏–∑–Ω–µ—Å-—ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏,
- —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å **Ubiquitous Language**,
- –≤—ã–¥–µ–ª–∏—Ç—å **–¥–æ–º–µ–Ω–Ω—ã–µ –ø–æ–¥–º–æ–¥—É–ª–∏** –∏ **–≥—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤**.
‚û°Ô∏è –≠—Ç–æ –¥–∞—Å—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫–∏–µ —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—á–µ—Å–∫–∏ –æ—Ç–¥–µ–ª–∏–º—ã, –∞ –∫–∞–∫–∏–µ —Å–º–µ—à–∞–Ω—ã.
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –∫–∞—Ä—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ (**Context Map**) ‚Äî –æ—Å–Ω–æ–≤–∞ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —à–∞–≥–æ–≤.
## **2. –í–≤–µ–¥–µ–Ω–∏–µ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏ –º–æ–Ω–æ–ª–∏—Ç–∞**
–ö–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã, –º–æ–∂–Ω–æ:
- —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞ **–º–æ–¥—É–ª–∏/–ø–∞–∫–µ—Ç—ã**, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ Bounded Context,
- –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å –∫–ª–∞—Å—Å–æ–≤ (package-private),
- —Å–æ–∑–¥–∞—Ç—å ‚Äú—á–∏—Å—Ç—ã–µ‚Äù –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏.
–≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –ø–æ—Ö–æ–∂—É—é –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é ‚Äî –Ω–æ –≤–Ω—É—Ç—Ä–∏ –º–æ–Ω–æ–ª–∏—Ç–∞.
## **3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –æ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã**
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
- –≤—ã–¥–µ–ª–∏—Ç—å **Domain —Å–ª–æ–π** (Entity, Value Objects, Aggregates),
- –æ—Ç–¥–µ–ª–∏—Ç—å –æ—Ç —Å–µ—Ä–≤–∏—Å–æ–≤, DTO –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤,
- –≤—ã–Ω–µ—Å—Ç–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –∏ —Å–µ—Ä–≤–∏—Å–æ–≤.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã:
- **Rich Domain Model**, –∞ –Ω–µ "–∞–Ω–µ–º–∏—á–Ω–∞—è" –º–æ–¥–µ–ª—å,
- **–∞–≥—Ä–µ–≥–∞—Ç—ã** –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏,
- **Value Objects** –≤–º–µ—Å—Ç–æ —Ä–∞–∑–º–∞–∑–∞–Ω–Ω—ã—Ö primitive fields.
## **4. –í–≤–µ–¥–µ–Ω–∏–µ Application Layer**
Application layer:
- orchestration,
- —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏,
- –≤—ã–∑–æ–≤—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤,
- –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –¥–æ–º–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
–≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ Domain layer.
–ú–æ–Ω–æ–ª–∏—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ ‚Äú—á–∏—Å—Ç—ã–º‚Äù –∏ –º–æ–¥—É–ª—å–Ω—ã–º.
## **5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Domain Events –≤–Ω—É—Ç—Ä–∏ –º–æ–Ω–æ–ª–∏—Ç–∞**
–í–≤–æ–¥–∏–º —Å–∏—Å—Ç–µ–º—É —Å–æ–±—ã—Ç–∏–π, –¥–∞–∂–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö:
- DomainEvent
- DomainEventPublisher
- —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ö–µ–Ω–¥–ª–µ—Ä—ã.
–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç:
- –æ—Å–ª–∞–±–∏—Ç—å —Å–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏,
- –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∫ –±—É–¥—É—â–µ–º—É –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã.
–≠—Ç–æ —É–∂–µ "–º–∏–Ω–∏ CQRS + Event Driven" –≤–Ω—É—Ç—Ä–∏ –º–æ–Ω–æ–ª–∏—Ç–∞.
## **6. Anti-Corruption Layer (ACL) –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏**
–í –º–µ—Å—Ç–∞—Ö, –≥–¥–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è:
- –≤–≤–æ–¥–∏—Ç—å –∞–¥–∞–ø—Ç–µ—Ä—ã,
- –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –º–æ–¥–µ–ª–∏,
- —Å–∫—Ä—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –ª–æ–≥–∏–∫—É –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –æ—Ç –¥—Ä—É–≥–æ–≥–æ.
–≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç "—Ç–µ–∫—É—â–µ–µ" –ø—Ä–æ–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏.
## **7. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤—ã–Ω–µ—Å–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã**
–ö–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–Ω–µ—Ç –º–æ–¥—É–ª—å–Ω–æ–π:
1. –í—ã–±–∏—Ä–∞–µ—Ç—Å—è **–Ω–∞–∏–º–µ–Ω–µ–µ —Å–≤—è–∑–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç** (–Ω–∞–ø—Ä–∏–º–µ—Ä, Catalog).
2. –í—ã–Ω–æ—Å–∏—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å.
3. –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è ‚Äî —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è/REST/message broker.
4. –ú–æ–Ω–æ–ª–∏—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç ‚Äú—Ö—É–¥–µ—Ç—å‚Äù.
–°—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **Strangler Fig Pattern**.
# üéØ –ü–æ—Ä—è–¥–æ–∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è (–ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω)
### **–®–∞–≥ 1** ‚Äî –≤—ã–¥–µ–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –∫–∞—Ä—Ç—É
### **–®–∞–≥ 2** ‚Äî —Ä–∞–∑–¥–µ–ª–∏—Ç—å –º–æ–Ω–æ–ª–∏—Ç –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–æ–¥—É–ª–∏
### **–®–∞–≥ 3** ‚Äî –≤—ã–Ω–µ—Å—Ç–∏ –¥–æ–º–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –≤ rich domain model
### **–®–∞–≥ 4** ‚Äî –≤–≤–µ—Å—Ç–∏ application layer
### **–®–∞–≥ 5** ‚Äî –≤–Ω–µ–¥—Ä–∏—Ç—å domain events (–≤–Ω—É—Ç—Ä–∏ –º–æ–Ω–æ–ª–∏—Ç–∞)
### **–®–∞–≥ 6** ‚Äî –æ—Ç–¥–µ–ª–∏—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç –¥–æ–º–µ–Ω–∞
### **–®–∞–≥ 7** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ACL –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö –º–æ–¥—É–ª–µ–π
### **–®–∞–≥ 8** ‚Äî –≥–æ—Ç–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º (–µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
# üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–∫—Ç–∏–∫–∏
### ‚úî –°—Ç—Ä–∞—Ç–µ–≥–∏—è ‚Äú–°–Ω–∞—Ä—É–∂–∏ –≤–Ω—É—Ç—Ä—å‚Äù
–ù–∞—á–∏–Ω–∞–µ–º —Å API –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Ç–æ–ª—â—É –ª–æ–≥–∏–∫–∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏–º –≤ –¥–æ–º–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.
### ‚úî –°—Ç—Ä–∞—Ç–µ–≥–∏—è ‚Äú–ò–∑–Ω—É—Ç—Ä–∏ –Ω–∞—Ä—É–∂—É‚Äù
–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞—ë–º —á–∏—Å—Ç—É—é –º–æ–¥–µ–ª—å, API –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–æ—Ç–æ–º.
### ‚úî –°—Ç—Ä–∞—Ç–µ–≥–∏—è "–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å"
–°–æ–∑–¥–∞—ë–º –Ω–æ–≤—É—é –¥–æ–º–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å —Ä—è–¥–æ–º ‚Äî –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è–µ–º —Å—Ç–∞—Ä—É—é.
# üî• –ò—Ç–æ–≥
DDD –º–æ–∂–Ω–æ –≤–Ω–µ–¥—Ä–∏—Ç—å **–¥–∞—Ä–≤–∏–Ω–∏—Å—Ç–∏—á–µ—Å–∫–∏** ‚Äî –ø–æ—ç—Ç–∞–ø–Ω–æ, –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã.
DDD –ø–æ–º–æ–≥–∞–µ—Ç:
- —É–º–µ–Ω—å—à–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å,
- —É–ª—É—á—à–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ –¥–æ–º–µ–Ω–∞,
- –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–æ–Ω–æ–ª–∏—Ç –∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º,
- —Å–Ω–∏–∑–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å,
- —É–ª—É—á—à–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å.