–í **Hibernate** (–∏ –≤ JPA) —Å—É—â–µ—Å—Ç–≤—É–µ—Ç **—Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è** –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ Java –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.  
–≠—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, **–∫–∞–∫ –∏–º–µ–Ω–Ω–æ Hibernate —Ö—Ä–∞–Ω–∏—Ç –æ–±—ä–µ–∫—Ç—ã-–ø–æ—Ç–æ–º–∫–∏** –∏ **–∫–∞–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü —Å–æ–∑–¥–∞—ë—Ç**.
## üß© –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ Hibernate

|–°—Ç—Ä–∞—Ç–µ–≥–∏—è|–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è|–û–ø–∏—Å–∞–Ω–∏–µ|
|---|---|---|
|**Single Table (–û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤)**|`@Inheritance(strategy = InheritanceType.SINGLE_TABLE)`|–í—Å–µ –∫–ª–∞—Å—Å—ã –∏ –∏—Ö –ø–æ—Ç–æ–º–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **–æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ**. –û—Ç–ª–∏—á–∞—é—Ç—Å—è –ø–æ **–¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ç–æ—Ä–Ω–æ–º—É —Å—Ç–æ–ª–±—Ü—É**.|
|**Joined (–¢–∞–±–ª–∏—Ü–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º)**|`@Inheritance(strategy = InheritanceType.JOINED)`|–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è **—Å–≤–æ—è —Ç–∞–±–ª–∏—Ü–∞**, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è –ø–æ `JOIN` –ø—Ä–∏ –≤—ã–±–æ—Ä–∫–µ.|
|**Table per Class (–û—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å)**|`@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)`|–ö–∞–∂–¥—ã–π –ø–æ–¥–∫–ª–∞—Å—Å –∏–º–µ–µ—Ç **—Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏**, –≤–∫–ª—é—á–∞—è —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ.|
## üîπ 1. SINGLE_TABLE ‚Äî –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ –≤—Å—é –∏–µ—Ä–∞—Ä—Ö–∏—é
```java
@Entity
@Inheritance(strategy = InheritanceType.SINGLE_TABLE)
@DiscriminatorColumn(name = "type")
public abstract class Payment {
    @Id
    private Long id;
    private BigDecimal amount;
}

@Entity
@DiscriminatorValue("CREDIT")
public class CreditPayment extends Payment {
    private String creditCardNumber;
}

@Entity
@DiscriminatorValue("CASH")
public class CashPayment extends Payment {
    private String receiptNumber;
}
```
üóÑÔ∏è –í —Ç–∞–±–ª–∏—Ü–µ `payment` –±—É–¥—É—Ç –∫–æ–ª–æ–Ω–∫–∏:
```
id | amount | credit_card_number | receipt_number | type
```
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ ‚Äî –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ.
- –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç—Ä–æ–∫ ‚Äî `NULL`.
‚úÖ **–ü–ª—é—Å—ã:** –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–Ω–µ—Ç JOIN).  
‚ùå **–ú–∏–Ω—É—Å—ã:** –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ `NULL`-–ø–æ–ª–µ–π.
## üîπ 2. JOINED ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ JOIN
```java
@Entity
@Inheritance(strategy = InheritanceType.JOINED)
public abstract class Payment {
    @Id
    private Long id;
    private BigDecimal amount;
}

@Entity
public class CreditPayment extends Payment {
    private String creditCardNumber;
}

@Entity
public class CashPayment extends Payment {
    private String receiptNumber;
}
```
üóÑÔ∏è –¢–∞–±–ª–∏—Ü—ã:
- `payment (id, amount)`
- `credit_payment (id, credit_card_number)`
- `cash_payment (id, receipt_number)`
Hibernate –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `JOIN`, —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞.
‚úÖ **–ü–ª—é—Å—ã:** —á–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –Ω–µ—Ç `NULL`.  
‚ùå **–ú–∏–Ω—É—Å—ã:** –º–µ–¥–ª–µ–Ω–Ω–µ–µ –ø—Ä–∏ –≤—ã–±–æ—Ä–∫–µ (JOIN'—ã).
## üîπ 3. TABLE_PER_CLASS ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å
```java
@Entity
@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)
public abstract class Payment {
    @Id
    private Long id;
    private BigDecimal amount;
}

@Entity
public class CreditPayment extends Payment {
    private String creditCardNumber;
}

@Entity
public class CashPayment extends Payment {
    private String receiptNumber;
}
```
üóÑÔ∏è –¢–∞–±–ª–∏—Ü—ã:
- `credit_payment (id, amount, credit_card_number)`
- `cash_payment (id, amount, receipt_number)`
–ö–∞–∂–¥—ã–π –ø–æ–¥–∫–ª–∞—Å—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è **–≤ —Å–≤–æ–µ–π —Ç–∞–±–ª–∏—Ü–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é**.
‚úÖ **–ü–ª—é—Å—ã:** –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö JOIN –∏ `NULL`.  
‚ùå **–ú–∏–Ω—É—Å—ã:** —Ç—Ä—É–¥–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–±—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã (Hibernate –¥–µ–ª–∞–µ—Ç `UNION`).
## üß† –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏

|–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è|–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ|
|---|---|
|`@Inheritance(strategy = ...)`|–ó–∞–¥–∞—ë—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.|
|`@DiscriminatorColumn`|–î–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–ª–æ–Ω–∫—É –¥–ª—è —Ä–∞–∑–ª–∏—á–∏—è —Ç–∏–ø–æ–≤ (–æ–±—ã—á–Ω–æ –ø—Ä–∏ SINGLE_TABLE).|
|`@DiscriminatorValue`|–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ç–æ—Ä–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.|
|`@MappedSuperclass`|–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –±–µ–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã (—Ç–æ–ª—å–∫–æ –ø–æ–ª—è –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è).|
## üîπ –ü—Ä–∏–º–µ—Ä —Å `@MappedSuperclass`
```java
@MappedSuperclass
public abstract class BaseEntity {
    @Id
    @GeneratedValue
    private Long id;

    private LocalDate createdAt;
}

@Entity
public class User extends BaseEntity {
    private String name;
}
```
üóÑÔ∏è –¢–∞–±–ª–∏—Ü–∞ `user` –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏: `id`, `created_at`, `name`.  
`BaseEntity` –Ω–µ –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã ‚Äî —Ç–æ–ª—å–∫–æ ‚Äú–Ω–∞—Å–ª–µ–¥—É–µ—Ç‚Äù –ø–æ–ª—è.
## ‚úÖ –†–µ–∑—é–º–µ

|–°—Ç—Ä–∞—Ç–µ–≥–∏—è|–¢–∞–±–ª–∏—Ü|JOIN|NULL-–ø–æ–ª—è|–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å|
|---|---|---|---|---|
|**SINGLE_TABLE**|1|‚ùå|‚úÖ|üî• –ë—ã—Å—Ç—Ä–∞—è|
|**JOINED**|N|‚úÖ|‚ùå|‚öôÔ∏è –°—Ä–µ–¥–Ω—è—è|
|**TABLE_PER_CLASS**|N|‚ùå|‚ùå|üê¢ –ú–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–∏ UNION|
