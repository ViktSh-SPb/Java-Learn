## üß© 1. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–æ—Ñ–∏–ª—å –≤ Maven
–ü—Ä–æ—Ñ–∏–ª—å (`<profile>`) ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ Maven, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç:
- –º–µ–Ω—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –ø–ª–∞–≥–∏–Ω—ã –∏–ª–∏ –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏;
- –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ (`<properties>`);
- –∑–∞–¥–∞–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏–ª–∏ —Å–±–æ—Ä–æ—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
–ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø—Ä–æ–µ–∫—Ç **–ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏**.
## ‚öôÔ∏è 2. –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è
–ü—Ä–∏–º–µ—Ä –≤ `pom.xml`:
```xml
<project>
    ...
    <properties>
        <app.env>dev</app.env>  <!-- —Å–≤–æ–π—Å—Ç–≤–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -->
    </properties>

    <profiles>
        <!-- –ü—Ä–æ—Ñ–∏–ª—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ -->
        <profile>
            <id>dev</id>
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
            <properties>
                <app.env>dev</app.env>
                <db.url>jdbc:h2:mem:devdb</db.url>
            </properties>
        </profile>

        <!-- –ü—Ä–æ—Ñ–∏–ª—å –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã -->
        <profile>
            <id>test</id>
            <properties>
                <app.env>test</app.env>
                <db.url>jdbc:mysql://localhost:3306/testdb</db.url>
            </properties>
        </profile>

        <!-- –ü—Ä–æ—Ñ–∏–ª—å –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω -->
        <profile>
            <id>prod</id>
            <properties>
                <app.env>prod</app.env>
                <db.url>jdbc:mysql://prod-server:3306/proddb</db.url>
            </properties>
        </profile>
    </profiles>
</project>
```
## üîπ 3. –ö–∞–∫ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
### 1Ô∏è‚É£ –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
```bash
mvn clean install -Ptest
```
- `-P<id>` ‚Üí –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `id` (`test`, `prod`).
- –ï—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –∏–º–µ–µ—Ç `<activeByDefault>true</activeByDefault>`, –æ–Ω –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω –¥—Ä—É–≥–æ–π.
### 2Ô∏è‚É£ –ß–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ
```bash
mvn clean install -Denv=prod
```
–ò –≤ `pom.xml` –º–æ–∂–Ω–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∫ —Å–≤–æ–π—Å—Ç–≤—É:
```xml
<activation>
    <property>
        <name>env</name>
        <value>prod</value>
    </property>
</activation>
```
- Gradle –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å, –µ—Å–ª–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç.
### 3Ô∏è‚É£ –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª `settings.xml`
–ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ –≤ Maven `settings.xml` (`~/.m2/settings.xml`) –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –ª–æ–∫–∞–ª—å–Ω–æ:
```xml
<settings>
    <profiles>
        <profile>
            <id>ci</id>
            <properties>
                <db.url>jdbc:mysql://ci-server:3306/cidb</db.url>
            </properties>
        </profile>
    </profiles>

    <activeProfiles>
        <activeProfile>ci</activeProfile>
    </activeProfiles>
</settings>
```
## üîπ 4. –ì–¥–µ –ø—Ä–æ—Ñ–∏–ª–∏ —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
1. **–†–∞–∑–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
    - dev ‚Üí H2 (in-memory)
    - prod ‚Üí PostgreSQL / MySQL
```xml
<dependencies>
    <dependency>
        <groupId>com.h2database</groupId>
        <artifactId>h2</artifactId>
        <scope>runtime</scope>
    </dependency>
</dependencies>
```
2. **–†–∞–∑–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã / –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**:
    - –¥–ª—è —Å–±–æ—Ä–∫–∏ JAR, WAR, —Ç–µ—Å—Ç–æ–≤.
3. **–†–∞–∑–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞**:
    - URL –ë–î, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã API –∏ —Ç.–¥.
## üîπ 5. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ
```java
@Value("${db.url}")
private String dbUrl;
```
- Maven –ø–æ–¥—Å—Ç–∞–≤–∏—Ç `db.url` –∏–∑ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è.
## ‚úÖ –ò—Ç–æ–≥

|–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å|–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å|
|---|---|
|–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å|`-P<id>` –≤ –∫–æ–º–∞–Ω–¥–µ Maven|
|–ê–≤—Ç–æ–ø—Ä–æ—Ñ–∏–ª—å|`<activeByDefault>true</activeByDefault>`|
|–ü–æ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É —Å–≤–æ–π—Å—Ç–≤—É|`<activation><property>`|
|–ß–µ—Ä–µ–∑ settings.xml|`<activeProfiles>`|

> –ü—Ä–æ—Ñ–∏–ª–∏ –¥–µ–ª–∞—é—Ç –ø—Ä–æ–µ–∫—Ç –≥–∏–±–∫–∏–º –∏ –ø–æ–∑–≤–æ–ª—è—é—Ç **–±–µ–∑–±–æ–ª–µ–∑–Ω–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É dev, test –∏ prod** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ POM.