Вот **правила для соблюдения принципа инверсии зависимостей (Dependency Inversion Principle, DIP)** из SOLID:

---

## 1. Зависите от абстракций, а не от реализаций

- Модули высокого уровня (бизнес-логика) **не должны зависеть от конкретных классов**, а только от интерфейсов или абстрактных классов.
    
- Реализации можно подменять без изменения остального кода.
    

---

## 2. Создавайте абстракции на основе бизнес-требований

- Интерфейсы должны описывать **поведение, которое нужно системе**, а не детали реализации.
    
- Пример: `Notifier` вместо `EmailNotifier` или `SmsNotifier`.
    

---

## 3. Модули низкого уровня должны реализовывать абстракции

- Конкретные классы (низкого уровня) реализуют интерфейсы, на которые ссылаются классы высокого уровня.
    
- Это позволяет легко подменять реализации (например, при тестировании или смене технологии).
    

---

## 4. Инвертируйте направление зависимости

- Класс высокого уровня **не создает объекты сам** — ему передают зависимости извне (через конструктор, фабрику или DI-контейнер).
    

---

## 5. Используйте внедрение зависимостей (Dependency Injection)

- Передавайте зависимости через:
    
    - **Конструктор** (предпочтительно),
        
    - **Сеттеры**,
        
    - **Методы**.
        

---

## 6. Изолируйте детали реализации

- Реализация должна быть **скрыта за интерфейсом** и не «просачиваться» в код высокого уровня.
    
- При замене реализации код высокого уровня не должен изменяться.
    

---

## 7. Избегайте прямого использования new

- Создание экземпляров должно происходить в фабриках, билдерах или DI-контейнерах.
    
- Классы высокого уровня не должны «знать», как именно создается объект.
    

---

## 8. Держите интерфейсы маленькими и стабильными

- Абстракции должны быть **простыми и устойчивыми к изменениям**.
    
- Чем меньше методов в интерфейсе, тем проще заменить реализацию.
    

---

## 9. Применяйте DIP совместно с другими принципами SOLID

- DIP работает вместе с **OCP** (новая реализация добавляется без изменения кода) и **ISP** (разделение интерфейсов).
    

---

## 10. Не злоупотребляйте абстракциями

- Не нужно делать интерфейсы ради интерфейсов.
    
- Применяйте DIP для частей системы, которые **могут изменяться** или должны быть легко заменяемы (например, хранилища данных, каналы уведомлений).
    

---

Хочешь, я **покажу пример нарушения DIP и правильного кода на Java** (например, зависимость сервиса уведомлений от конкретного EmailSender)? Или сделать **диаграмму зависимости до/после DIP**?