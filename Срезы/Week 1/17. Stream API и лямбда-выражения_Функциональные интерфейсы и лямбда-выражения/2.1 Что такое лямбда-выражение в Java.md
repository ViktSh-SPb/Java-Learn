**Лямбда-выражение в Java** — это краткая форма записи _анонимной функции_, которая позволяет передавать поведение (код) как значение. Лямбды появились в **Java 8** и чаще всего используются с **функциональными интерфейсами** и **Stream API**.
## 1. Зачем нужны лямбды
До Java 8 поведение передавали через анонимные классы — это было громоздко:
```java
button.addActionListener(new ActionListener() {
    @Override
    public void actionPerformed(ActionEvent e) {
        System.out.println("Clicked");
    }
});
```
С лямбдой:
```java
button.addActionListener(e -> System.out.println("Clicked"));
```
✔ меньше кода  
✔ лучше читаемость  
✔ проще работать с коллекциями и потоками
## 2. Синтаксис лямбда-выражения
Общий вид:
```java
(параметры) -> { тело }
```
Примеры:
```java
() -> System.out.println("Hello")

x -> x * 2

(x, y) -> x + y

(String s) -> s.length()
```
Можно опускать:
- типы параметров (выводятся компилятором)
- фигурные скобки и `return`, если выражение одно
```java
(x, y) -> x + y   // вместо { return x + y; }
```
## 3. Функциональный интерфейс
Лямбда **всегда реализует функциональный интерфейс** — интерфейс с **одним абстрактным методом**.
Пример:
```java
@FunctionalInterface
public interface Calculator {
    int sum(int a, int b);
}
```
Использование:
```java
Calculator calc = (a, b) -> a + b;
System.out.println(calc.sum(2, 3)); // 5
```
Аннотация `@FunctionalInterface` необязательна, но помогает избежать ошибок.
## 4. Встроенные функциональные интерфейсы (java.util.function)
Самые важные:

|Интерфейс|Метод|Пример|
|---|---|---|
|`Predicate<T>`|`boolean test(T)`|`x -> x > 0`|
|`Function<T,R>`|`R apply(T)`|`s -> s.length()`|
|`Consumer<T>`|`void accept(T)`|`x -> System.out.println(x)`|
|`Supplier<T>`|`T get()`|`() -> new User()`|
Пример:
```java
Predicate<Integer> isPositive = x -> x > 0;
```
## 5. Лямбды и Stream API
Одна из главных причин появления лямбд:
```java
List<Integer> nums = List.of(1, 2, 3, 4);

nums.stream()
    .filter(x -> x % 2 == 0)
    .map(x -> x * 10)
    .forEach(System.out::println);
```
## 6. Захват переменных (effectively final)
Лямбда может использовать переменные из внешнего контекста, **если они effectively final**:
```java
int factor = 10;

Function<Integer, Integer> f = x -> x * factor;
// factor = 20; ❌ нельзя менять
```
## 7. Чем лямбда отличается от анонимного класса

|Лямбда|Анонимный класс|
|---|---|
|Не создает отдельный класс|Создает класс|
|Нет собственного `this`|Есть свой `this`|
|Только для функциональных интерфейсов|Для любых интерфейсов|
|Короткая запись|Много шаблонного кода|
## 8. Когда использовать лямбды
✔ обработка коллекций  
✔ колбэки  
✔ стратегии поведения  
✔ Stream API  
❌ если логика сложная и плохо читается