**–ü–∞—Ç—Ç–µ—Ä–Ω Saga** ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ **—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö **–±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (2PC/3PC)**.
–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, Saga —Ä–∞–∑–±–∏–≤–∞–µ—Ç **–æ–¥–Ω—É –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é** –Ω–∞ **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞.
# üîπ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è
1. –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö **–ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**.
2. –ö–∞–∂–¥–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **—É—Å–ø–µ—à–Ω–æ –∏–ª–∏ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é**, –µ—Å–ª–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –Ω–µ –ø—Ä–æ—à–ª–∏.
3. –í –∏—Ç–æ–≥–µ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è **eventual consistency** (–¥–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–º–∏).
# üîπ –ü—Ä–∏–º–µ—Ä
–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º –∑–∞–∫–∞–∑ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ, –≤–∫–ª—é—á–∞—é—â–∏–π:
1. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞** (Order Service)
2. **–°–ø–∏—Å–∞–Ω–∏–µ –¥–µ–Ω–µ–≥ —Å –∫–∞—Ä—Ç—ã** (Payment Service)
3. **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Å–∫–ª–∞–¥–µ** (Inventory Service)
**–°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Saga:**
- **Step 1:** Order Service —Å–æ–∑–¥–∞–ª –∑–∞–∫–∞–∑ ‚úÖ
- **Step 2:** Payment Service —Å–ø–∏—Å–∞–ª –¥–µ–Ω—å–≥–∏ ‚úÖ
- **Step 3:** Inventory Service –Ω–µ —Å–º–æ–≥ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä ‚ùå
**–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è:**
- Payment Service –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ–Ω—å–≥–∏
- Order Service –æ—Ç–º–µ–Ω—è–µ—Ç –∑–∞–∫–∞–∑
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, **–≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å–±–æ–π –Ω–∞ –æ–¥–Ω–æ–º –∏–∑ —à–∞–≥–æ–≤**.
# üîπ –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Saga
1. **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è (Orchestration)**
    - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö —à–∞–≥–æ–≤.
    - –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –ø–æ—Ä—è–¥–æ–∫, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö.
    - –ü—Ä–∏–º–µ—Ä: –æ—Ç–¥–µ–ª—å–Ω—ã–π Saga Service.
2. **–•–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—è (Choreography)**
    - –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞.
    - –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç –¥–µ–π—Å—Ç–≤–∏—è –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.
    - –ü—Ä–∏–º–µ—Ä: —Å–µ—Ä–≤–∏—Å A —Å–æ–∑–¥–∞–ª –∑–∞–∫–∞–∑ ‚Üí —Å–æ–±—ã—Ç–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å B –¥–ª—è –æ–ø–ª–∞—Ç—ã ‚Üí —Å–æ–±—ã—Ç–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å C –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
# üîπ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Saga
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–∞–∂–¥–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ.
- **–í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**: —Å–±–æ–∏ –≤ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**: –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.
# üîπ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **–ù–µ—Ç —Å—Ç—Ä–æ–≥–æ–π ACID-—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è eventual consistency.
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ **–∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**.
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
# üîπ –ò—Ç–æ–≥
**Saga** ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏:
- –î–µ–ª–∏—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ —à–∞–≥–∏.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é** –≤–º–µ—Å—Ç–æ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —Å –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.