## 1️⃣ **Что значит, что Redis — это in-memory хранилище**
**In-memory** означает, что **все данные Redis хранятся в оперативной памяти (RAM)**, а не на диске.
### Последствия:
1. **Сверхвысокая скорость доступа**
    - Чтение и запись в память происходит за миллисекунды или даже микросекунды.
2. **Ограничение по объёму данных**
    - Всю базу нужно умещать в RAM. Если данных много, требуется больше памяти или шардинг.
3. **Долговечность не гарантирована по умолчанию**
    - Если сервер выключается без сохранения, данные в памяти теряются.
    - Redis поддерживает **RDB snapshots** и **AOF** для сохранения на диск.
### Пример:
```text
SET user:1 "Alice"
GET user:1  => "Alice"
```
- Операция выполняется почти мгновенно, так как данные уже в памяти.
## 2️⃣ **Как работает TTL (Time-To-Live) в Redis**
**TTL** — это механизм **автоматического истечения срока действия ключа**.
- Позволяет Redis автоматически удалять устаревшие данные.
- Очень полезно для кэшей, сессий, временных токенов.
### Основные команды:

|Команда|Описание|
|---|---|
|`EXPIRE key seconds`|Установить TTL для ключа в секундах|
|`TTL key`|Узнать оставшееся время жизни ключа|
|`PERSIST key`|Отменить TTL и сделать ключ бессрочным|
|`SET key value EX seconds`|Сразу установить ключ с TTL|
### Пример:
```text
SET session:12345 "userdata" EX 3600
TTL session:12345  => 3599 (осталось секунд)
```
- Через 3600 секунд ключ автоматически удалится.
- Redis проверяет TTL **периодически и при обращении к ключу**.
- Если TTL истёк, ключ удаляется и память освобождается.
### ✅ Итог
1. **In-memory**:
    - Данные хранятся в RAM → сверхбыстро, но нужно управлять памятью.
2. **TTL**:
    - Автоматическое удаление ключей по истечении заданного времени.
    - Идеально для кэшей, сессий, временных токенов и лимитов.