–ê–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã **CAP** –∏ **PACELC** ‚Äî —ç—Ç–æ –¥–≤–∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã –≤ **—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö**, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö.
# üèõ **CAP theorem (–¢–µ–æ—Ä–µ–º–∞ CAP)**
–§–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –ø—Ä–∏ **—Å–±–æ–µ —Å–µ—Ç–∏** (Partition).
## üìå **CAP = Consistency, Availability, Partition Tolerance**
### **1. Consistency (C) ‚Äî —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**
–í—Å–µ —É–∑–ª—ã –≤–∏–¥—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.  
–ü–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ —Å—Ä–∞–∑—É —á–∏—Ç–∞–µ—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
### **2. Availability (A) ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**
–°–∏—Å—Ç–µ–º–∞ –≤—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã, –¥–∞–∂–µ –µ—Å–ª–∏ —á–∞—Å—Ç—å —É–∑–ª–æ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.
### **3. Partition Tolerance (P) ‚Äî —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é —Å–µ—Ç–∏**
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–µ—Ç—å –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ (network partition).
## üéØ –°—É—Ç—å —Ç–µ–æ—Ä–µ–º—ã:
–ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–µ—Ç–µ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è **–Ω–µ–ª—å–∑—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ Consistency, –∏ Availability**.
–°–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–∏–±–æ:
- **CP** ‚Äî —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–π, –Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–π –ø—Ä–∏ —Å–µ—Ç–µ–≤–æ–º —Å–±–æ–µ  
    (–Ω–∞–ø—Ä–∏–º–µ—Ä, Zookeeper, Etcd)
- **AP** ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ–π, –Ω–æ —Å eventual consistency  
    (–Ω–∞–ø—Ä–∏–º–µ—Ä, Cassandra, Riak)
P ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏ –Ω–µ–∏–∑–±–µ–∂–Ω—ã.
# üîÑ **PACELC theorem**
–≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ CAP, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–µ–µ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã **–Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–±–æ–µ —Å–µ—Ç–∏**, –Ω–æ –∏ **–∫–æ–≥–¥–∞ —Å–µ—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ**.
–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞:
## üìå **PACELC = If P then A or C; Else L or C**
–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞:
1. **If P (Partition)** ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ç–∏,  
    ‚Üí –≤—ã–±–æ—Ä –º–µ–∂–¥—É **A (Availability)** –∏ **C (Consistency)**  
    (–∫–∞–∫ –≤ CAP).
2. **Else (–µ—Å–ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–µ—Ç)** ‚Äî  
    ‚Üí –≤—ã–±–æ—Ä –º–µ–∂–¥—É **L (Latency)** –∏ **C (Consistency)**.
–¢–æ –µ—Å—Ç—å:
- –¥–∞–∂–µ –±–µ–∑ —Å–±–æ–µ–≤ —Å–∏—Å—Ç–µ–º–∞ –≤—ã–±–∏—Ä–∞–µ—Ç:
    - –ª–∏–±–æ –Ω–∏–∑–∫—É—é –∑–∞–¥–µ—Ä–∂–∫—É,
    - –ª–∏–±–æ —Å—Ç—Ä–æ–≥—É—é —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å.
# üß† –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ PACELC
### Cassandra:
- –ø—Ä–∏ P ‚Üí A (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å),
- else ‚Üí L (–ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –Ω–∏–∑–∫—É—é –∑–∞–¥–µ—Ä–∂–∫—É –ø–µ—Ä–µ–¥ —Å—Ç—Ä–æ–≥–æ–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é).  
    –ò—Ç–æ–≥–æ: **PA/EL**.
### Amazon DynamoDB:
- —Ç–æ–∂–µ **PA/EL**.
### Google Spanner:
- –ø—Ä–∏ P ‚Üí C (–≤—ã–±–∏—Ä–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å),
- else ‚Üí C (–ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å, –ø–æ–≤—ã—à–∞—è –∑–∞–¥–µ—Ä–∂–∫—É).  
    –ò—Ç–æ–≥–æ: **PC/EC**.
# üß© –ü–æ—á–µ–º—É PACELC –≤–∞–∂–Ω–µ–µ CAP?
CAP —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ **—ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π —Å–ª—É—á–∞–π** ‚Äî —Å–µ—Ç–µ–≤–æ–π —Å–±–æ–π.
PACELC –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- —á—Ç–æ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç **–≤—Å–µ–≥–¥–∞**,
- —á—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤—ã–±–∏—Ä–∞–µ—Ç –º–µ–∂–¥—É **latency –∏ consistency –¥–∞–∂–µ –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ**.
# ‚≠ê –ò—Ç–æ–≥
### **CAP**
- –ü—Ä–∏ —Å–µ—Ç–µ–≤–æ–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ –Ω—É–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –º–µ–∂–¥—É Consistency –∏ Availability.
### **PACELC**
- –ü—Ä–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏: –≤—ã–±–æ—Ä –º–µ–∂–¥—É Availability –∏ Consistency.
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è: –≤—ã–±–æ—Ä –º–µ–∂–¥—É Latency –∏ Consistency.