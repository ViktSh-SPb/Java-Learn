## 1️⃣ Модели обмена (Exchange types) в RabbitMQ
RabbitMQ реализует **различные типы обменников (exchanges)**, которые позволяют гибко маршрутизировать сообщения:

|Тип обменника|Описание|Отличие от Kafka|
|---|---|---|
|**Direct**|Сообщение маршрутизируется в очередь по точному совпадению routing key|В Kafka нет встроенной поддержки точного маршрута по ключу: есть partition key, но нет динамической маршрутизации в разные очереди|
|**Fanout**|Сообщение дублируется и отправляется во все связанные очереди|Kafka не умеет автоматически дублировать сообщение во все топики/подписки; нужно писать топики/consumers вручную|
|**Topic**|Сообщение маршрутизируется по шаблону (wildcards) на несколько очередей|Kafka поддерживает partitioning по key, но нет встроенной поддержки wildcard-тем, сопоставления по шаблону в рамках топиков|
|**Headers**|Маршрутизация на основе значений заголовков, а не ключа|В Kafka маршрутизация возможна только по key, а не по arbitrary headers|

> RabbitMQ позволяет **создавать сложные правила маршрутизации** без изменения кода потребителей. В Kafka же топики и партиции статичны, и маршрутизация гибкая только через partition key.
## 2️⃣ Типы обмена, ориентированные на очереди и подписки
- **Work queues (Task queues)** — RabbitMQ легко распределяет задачи между несколькими рабочими (workers) с балансировкой нагрузки.
- **Pub/Sub через Fanout/Topic** — один отправитель, несколько подписчиков с разными очередями.
- **Routing через Headers** — отправка сообщений в разные очереди на основе произвольных метаданных.
Kafka имеет **только простую модель Pub/Sub**:
- Продюсер пишет в топик.
- Каждый consumer group читает весь топик независимо.
- Сложная маршрутизация и динамическое дублирование сообщений реализуются вручную или через дополнительные потоки/stream processing.
## 3️⃣ Итоговое отличие
RabbitMQ предлагает **многоуровневую маршрутизацию сообщений с различными типами обменников**, чего **нет в Kafka**:
- Fanout (рассылка всем очередям)
- Direct (маршрут по точному ключу)
- Topic (маршрут по шаблону)
- Headers (маршрут по заголовкам)
- Task queues / work queues с балансировкой нагрузки
Kafka же:
- Основной механизм — топик с партициями
- Routing ограничен partition key
- Нет встроенной поддержки wildcard, fanout или headers-routing