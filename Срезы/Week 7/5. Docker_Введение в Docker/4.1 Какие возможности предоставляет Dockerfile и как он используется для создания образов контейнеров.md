**Dockerfile** ‚Äî —ç—Ç–æ —Å–∫—Ä–∏–ø—Ç (—Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª), –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç **–∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å Docker-–æ–±—Ä–∞–∑**. –í –Ω—ë–º –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã —à–∞–≥–∏, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö Docker —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è, —É–∫–∞–∑–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.
–û–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–æ–ª—å **—Ä–µ—Ü–µ–ø—Ç–∞**, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —Å—Ç—Ä–æ–∏—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
# üîπ –ß—Ç–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Dockerfile
## ‚úÖ 1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞**
–£–∫–∞–∑—ã–≤–∞–µ—à—å, –æ—Ç —á–µ–≥–æ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è —Ç–≤–æ–π –æ–±—Ä–∞–∑:
```dockerfile
FROM openjdk:17-jdk
```
–≠—Ç–æ –æ—Å–Ω–æ–≤–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –Ω–æ–≤—ã–µ —Å–ª–æ–∏.
## ‚úÖ 2. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –æ–±—Ä–∞–∑**
–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ–∞–π–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```dockerfile
COPY . /app
```
## ‚úÖ 3. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ**
–ù–∞–ø—Ä–∏–º–µ—Ä, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–ª–∏ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```dockerfile
RUN apt-get update && apt-get install -y curl
```
–ö–∞–∂–¥—ã–π `RUN` ‚Äî —ç—Ç–æ –Ω–æ–≤—ã–π —Å–ª–æ–π –≤ –æ–±—Ä–∞–∑–µ.
## ‚úÖ 4. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏**
–£–ø—Ä–æ—â–∞–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–∏–µ –∫–æ–º–∞–Ω–¥—ã:
```dockerfile
WORKDIR /app
```
## ‚úÖ 5. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```dockerfile
ENV SPRING_PROFILES_ACTIVE=prod
```
## ‚úÖ 6. **–û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–æ–≤**
```dockerfile
EXPOSE 8080
```
## ‚úÖ 7. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**
–ï—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞:
### **CMD**
–ö–æ–º–∞–Ω–¥–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å `docker run`):
```dockerfile
CMD ["java", "-jar", "app.jar"]
```
### **ENTRYPOINT**
–ö–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä—É—é –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–ª–æ–∂–Ω–µ–µ:
```dockerfile
ENTRYPOINT ["java", "-jar", "app.jar"]
```
## üîπ Dockerfile = —Å–ª–æ–∏ –æ–±—Ä–∞–∑–∞
–ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ `FROM`, `COPY`, `RUN` —Å–æ–∑–¥–∞—ë—Ç **—Å–ª–æ–π**, –∫–æ—Ç–æ—Ä—ã–π –∫—ç—à–∏—Ä—É–µ—Ç—Å—è.  
–ò–∑-–∑–∞ —ç—Ç–æ–≥–æ:
- —Å–±–æ—Ä–∫–∞ –±—ã—Å—Ç—Ä–µ–µ,
- –æ–±—Ä–∞–∑—ã –∑–∞–Ω–∏–º–∞—é—Ç –º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞,
- —É–¥–æ–±–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∞—Å—Ç–∏ —Å–±–æ—Ä–∫–∏.
# üîπ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Dockerfile –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤
1. –ü–∏—à–µ–º Dockerfile:
```dockerfile
FROM openjdk:17-jdk
WORKDIR /app
COPY target/myapp.jar app.jar
CMD ["java", "-jar", "app.jar"]
```
2. –°–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑:
```bash
docker build -t myapp .
```
3. –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker run -p 8080:8080 myapp
```
# üß© –ò—Ç–æ–≥
Dockerfile –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É –æ–±—Ä–∞–∑–æ–≤,
- —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ,
- —É–ø–∞–∫–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ —á—Ç–æ-—Ç–æ –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ–µ,
- –∏–∑–±–µ–∂–∞—Ç—å ¬´—Ä–∞–±–æ—Ç–∞–µ—Ç —É –º–µ–Ω—è ‚Äî –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —É –≤–∞—Å¬ª,
- –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏.