**RabbitMQ** ‚Äî —ç—Ç–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–π **–±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π (message broker)**, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏–ª–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏**.
## 1Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è
RabbitMQ –ø–æ–∑–≤–æ–ª—è–µ—Ç **–æ—Ç–¥–µ–ª–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏**:
- **Producer (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å)** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ RabbitMQ;    
- **Broker (RabbitMQ)** –ø—Ä–∏–Ω–∏–º–∞–µ—Ç, —Ö—Ä–∞–Ω–∏—Ç –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ;
- **Consumer (–ø–æ–ª—É—á–∞—Ç–µ–ª—å)** –∑–∞–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ–≥–æ.
> –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–µ—Ä–≤–∏—Å–∞–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ**, –±–µ–∑ –ø—Ä—è–º–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.
## 2Ô∏è‚É£ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ RabbitMQ
### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
1. **Producer** ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ RabbitMQ.
2. **Exchange** ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—á–µ—Ä–µ–¥–µ–π –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º (bindings).
3. **Queue (–æ—á–µ—Ä–µ–¥—å)** ‚Äî —Ö—Ä–∞–Ω–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–º.
4. **Consumer** ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –æ—á–µ—Ä–µ–¥–∏.
5. **Binding** ‚Äî –ø—Ä–∞–≤–∏–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ —Å–≤—è–∑—ã–≤–∞–µ—Ç exchange —Å –æ—á–µ—Ä–µ–¥—å—é.
### üîπ –¢–∏–ø—ã Exchange

|–¢–∏–ø Exchange|–ü—Ä–∏–Ω—Ü–∏–ø –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏|
|---|---|
|**Direct**|–°–æ–æ–±—â–µ–Ω–∏–µ –∏–¥—ë—Ç –≤ –æ—á–µ—Ä–µ–¥—å —Å —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º routing key|
|**Fanout**|–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤–æ –≤—Å–µ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏|
|**Topic**|–°–æ–æ–±—â–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø–æ —à–∞–±–ª–æ–Ω—É routing key (–Ω–∞–ø—Ä–∏–º–µ—Ä `user.*.created`)|
|**Headers**|–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ —Ö–µ–¥–µ—Ä–∞–º —Å–æ–æ–±—â–µ–Ω–∏–π|
## 3Ô∏è‚É£ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ RabbitMQ
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π** ‚Äî –ø—Ä–æ–¥—é—Å–µ—Ä –Ω–µ –∂–¥—ë—Ç, –ø–æ–∫–∞ consumer –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ.
- **–ì–∞—Ä–∞–Ω—Ç–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏** ‚Äî –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (ack) –∏ –ø–æ–≤—Ç–æ—Ä–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π.
- **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** ‚Äî –æ—á–µ—Ä–µ–¥–∏ –º–æ–∂–Ω–æ —Ä–µ–ø–ª–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ (mirrored queues).
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤** ‚Äî AMQP, MQTT, STOMP.
- **–û—á–µ—Ä–µ–¥–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏, TTL –∏ –∑–∞–¥–µ—Ä–∂–∫–æ–π** ‚Äî –≥–∏–±–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π.
## 4Ô∏è‚É£ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Ç–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π
```
Producer ‚Üí Exchange ‚Üí Queue ‚Üí Consumer
```
1. Producer –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ **Exchange**.
2. Exchange **–º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç** —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—á–µ—Ä–µ–¥–µ–π.
3. Consumer –∑–∞–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ.
4. RabbitMQ —É–¥–∞–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (ack).
## 5Ô∏è‚É£ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è RabbitMQ
- **–û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á (task queues)**: —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á –º–µ–∂–¥—É —Ä–∞–±–æ—á–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤**: –æ–±–º–µ–Ω —Å–æ–±—ã—Ç–∏—è–º–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏**: –Ω–∞–ø—Ä–∏–º–µ—Ä, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å —Ä–∞–∑–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º –≤–∞–∂–Ω–æ—Å—Ç–∏.
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤**: decoupling –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –∏ —Ç—è–∂–µ–ª—ã—Ö –±—ç–∫–µ–Ω–¥-–∑–∞–¥–∞—á.
## 6Ô∏è‚É£ –û—Ç–ª–∏—á–∏–µ RabbitMQ –æ—Ç Kafka

|–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å|RabbitMQ|Kafka|
|---|---|---|
|–ú–æ–¥–µ–ª—å|–û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π|–ü–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π (–ª–æ–≥)|
|–ü–æ—Ä—è–¥–æ–∫|FIFO –≤ –æ—á–µ—Ä–µ–¥–∏|FIFO –≤–Ω—É—Ç—Ä–∏ –ø–∞—Ä—Ç–∏—Ü–∏–∏|
|–•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π|–£–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)|–•—Ä–∞–Ω—è—Ç—Å—è –ø–æ retention policy|
|–ü–æ–¥–ø–∏—Å—á–∏–∫–∏|–°–æ–æ–±—â–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–æ–º—É consumer|–ù–µ—Å–∫–æ–ª—å–∫–æ consumer groups –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —Å–æ–æ–±—â–µ–Ω–∏–µ|
|–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ|–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ, –Ω–æ —Å–ª–æ–∂–Ω–µ–µ|–õ–µ–≥–∫–æ —á–µ—Ä–µ–∑ –ø–∞—Ä—Ç–∏—Ü–∏–∏ –∏ consumer groups|
