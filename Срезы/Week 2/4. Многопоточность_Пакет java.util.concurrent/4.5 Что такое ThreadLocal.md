## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `ThreadLocal`
`ThreadLocal<T>` ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –≤ Java, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç **–ª–æ–∫–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ**.
- –£ –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –±—É–¥–µ—Ç **—Å–≤–æ—è –∫–æ–ø–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π**, –∏ –æ–Ω–∞ **–Ω–µ —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏**.
- –ö–æ–≥–¥–∞ –ø–æ—Ç–æ–∫ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ `ThreadLocal`, –æ–Ω –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ **—Å–≤–æ—ë —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**, –¥–∞–∂–µ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç `ThreadLocal`.
## üîπ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```java
public class ThreadLocalExample {
    private static final ThreadLocal<Integer> threadLocal = ThreadLocal.withInitial(() -> 0);

    public static void main(String[] args) {
        Runnable task = () -> {
            int value = threadLocal.get();
            threadLocal.set(value + 1);
            System.out.println(Thread.currentThread().getName() + " -> " + threadLocal.get());
        };

        Thread t1 = new Thread(task, "–ü–æ—Ç–æ–∫-1");
        Thread t2 = new Thread(task, "–ü–æ—Ç–æ–∫-2");

        t1.start();
        t2.start();
    }
}
```
üëâ –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —Ç–∞–∫–∏–º (–ø–æ—Ä—è–¥–æ–∫ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è):
```
–ü–æ—Ç–æ–∫-1 -> 1
–ü–æ—Ç–æ–∫-2 -> 1
```
–•–æ—Ç—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ `ThreadLocal`**, –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã.
## üîπ –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `ThreadLocal`
1. **–•—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞**:
    - –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.
2. **–†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–∞—Ç** (`SimpleDateFormat` –Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω, –ø–æ—ç—Ç–æ–º—É —É–¥–æ–±–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä –≤ `ThreadLocal`).
3. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ —Å–µ—Å—Å–∏–∏ –≤ –ë–î** (–∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç —Å–≤–æ–π `Connection`).
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —á—Ç–æ–±—ã —Ö—Ä–∞–Ω–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ —Ç–µ–∫—É—â–µ–º—É –ø–æ—Ç–æ–∫—É.
    ## üîπ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–∏—è
- `ThreadLocal` –Ω–µ –¥–µ–ª–∞–µ—Ç –æ–±—ä–µ–∫—Ç **–ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º**, –æ–Ω –ª–∏—à—å **–∏–∑–æ–ª–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞.
- –í–∞–∂–Ω–æ **–æ—á–∏—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è** (`remove()`), –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –ø—É–ª–∞—Ö –ø–æ—Ç–æ–∫–æ–≤ (`ExecutorService`), —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –Ω–µ "—É—Ç–µ–∫–∞–ª–∏" –≤ –¥—Ä—É–≥–æ–π –∑–∞–¥–∞—á–µ (—Ç–∞–∫ –∫–∞–∫ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω).
‚úÖ **–ò—Ç–æ–≥:**  
`ThreadLocal` ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è **–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –∫ –ø–æ—Ç–æ–∫—É**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞–∂–¥–æ–º—É –ø–æ—Ç–æ–∫—É –∏–º–µ—Ç—å **—Å–≤–æ—ë –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**, –¥–∞–∂–µ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç `ThreadLocal`.