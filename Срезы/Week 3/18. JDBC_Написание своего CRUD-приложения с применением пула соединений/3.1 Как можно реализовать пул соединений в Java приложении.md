–ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π ‚Äî —ç—Ç–æ **–º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–∞—Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**.  
–ï—Å—Ç—å 2 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
## üß∞ **1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)** ‚úÖ
–í 99 % —Å–ª—É—á–∞–µ–≤ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≥–æ—Ç–æ–≤—ã–µ, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
- üü¢ **HikariCP** ‚Äî –±—ã—Å—Ç—Ä—ã–π –∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –ø—É–ª
- üü° **Apache DBCP** ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π, —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å Tomcat
- üü† **C3P0** ‚Äî –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–π, –Ω–æ –≤—Å—ë –µ—â—ë –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è
### üìå –ü—Ä–∏–º–µ—Ä: HikariCP + JDBC
```java
import com.zaxxer.hikari.HikariConfig;
import com.zaxxer.hikari.HikariDataSource;

import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.Statement;

public class HikariExample {
    public static void main(String[] args) throws Exception {
        HikariConfig config = new HikariConfig();
        config.setJdbcUrl("jdbc:postgresql://localhost:5432/mydb");
        config.setUsername("user");
        config.setPassword("password");
        config.setMaximumPoolSize(10); // –†–∞–∑–º–µ—Ä –ø—É–ª–∞

        HikariDataSource dataSource = new HikariDataSource(config);

        try (Connection conn = dataSource.getConnection();
             Statement stmt = conn.createStatement();
             ResultSet rs = stmt.executeQuery("SELECT * FROM users")) {

            while (rs.next()) {
                System.out.println(rs.getString("username"));
            }
        }

        dataSource.close();
    }
}
```
‚úÖ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∞:**
- –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–æ–∑–¥–∞—ë—Ç –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π;
- –≤—ã–¥–∞—ë—Ç –≥–æ—Ç–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ –∑–∞–ø—Ä–æ—Å—É;
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ –≤ –ø—É–ª –ø–æ—Å–ª–µ `close()`;
- —Å–ª–µ–¥–∏—Ç –∑–∞ ‚Äú–∂–∏–≤—É—á–µ—Å—Ç—å—é‚Äù —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
## üß† **2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (–¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–∞)** üß™
```java
import java.sql.Connection;
import java.sql.DriverManager;
import java.util.concurrent.BlockingQueue;
import java.util.concurrent.LinkedBlockingQueue;

public class SimpleConnectionPool {

    private final BlockingQueue<Connection> pool;

    public SimpleConnectionPool(String url, String user, String password, int poolSize) throws Exception {
        pool = new LinkedBlockingQueue<>(poolSize);
        for (int i = 0; i < poolSize; i++) {
            Connection conn = DriverManager.getConnection(url, user, password);
            pool.offer(conn);
        }
    }

    public Connection getConnection() throws InterruptedException {
        return pool.take(); // –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
    }

    public void releaseConnection(Connection conn) {
        if (conn != null) {
            pool.offer(conn);
        }
    }

    public void shutdown() throws Exception {
        for (Connection conn : pool) {
            conn.close();
        }
    }
}
```
### üìå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```java
public class App {
    public static void main(String[] args) throws Exception {
        SimpleConnectionPool pool = new SimpleConnectionPool(
                "jdbc:postgresql://localhost:5432/mydb",
                "user",
                "password",
                5
        );

        Connection conn = pool.getConnection();
        // —Ä–∞–±–æ—Ç–∞ —Å –ë–î...
        pool.releaseConnection(conn);
    }
}
```
üìù –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ —Å–∞–º–æ–¥–µ–ª—å–Ω–æ–≥–æ –ø—É–ª–∞:
- –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ ¬´–∂–∏–≤–æ—Å—Ç–∏¬ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π,
- –Ω–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞,
- –Ω–µ—Ç —Ç–∞–π–º–∞—É—Ç–æ–≤ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è,
- –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ –≤—ã—Å–æ–∫—É—é –Ω–∞–≥—Ä—É–∑–∫—É.
‚û° –ü–æ—ç—Ç–æ–º—É –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º **–ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** (HikariCP –∏ –¥—Ä.).
## üß≠ üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—É–ª–∞:**

|–ü–∞—Ä–∞–º–µ—Ç—Ä|–ß—Ç–æ –¥–µ–ª–∞–µ—Ç|–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è|
|---|---|---|
|`maximumPoolSize`|–ú–∞–∫—Å. –∫–æ–ª-–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π|10‚Äì50 –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏|
|`connectionTimeout`|–¢–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏–∑ –ø—É–ª–∞|30 —Å–µ–∫ ‚Äî —Ö–æ—Ä–æ—à–∏–π —Å—Ç–∞—Ä—Ç|
|`idleTimeout`|–¢–∞–π–º–∞—É—Ç –ø—Ä–æ—Å—Ç–æ—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è|10 –º–∏–Ω|
|`maxLifetime`|–ú–∞–∫—Å. ‚Äú–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏‚Äù —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è|< —Ç–∞–π–º–∞—É—Ç–∞ –ë–î|
|`validationTimeout`|–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è|5 —Å–µ–∫|
## ‚ö° –ò—Ç–æ–≥:
- ‚úÖ **–í –ø—Ä–æ–¥–∞–∫—à–Ω–µ** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HikariCP –∏–ª–∏ DBCP.
- üß† **–î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–∞** ‚Äî –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–π –ø—É–ª —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥—å.
- üìà –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.