# **Основные компоненты архитектуры Docker**
## **1. Docker Engine**
Базовый механизм выполнения контейнеров. Включает:
### **Docker Daemon (`dockerd`)**
- Запускается на хост-машине.
- Управляет образами, контейнерами, сетями и томами.
- Обрабатывает API-запросы.
### **Docker CLI**
- Командная оболочка (`docker`), через которую пользователь взаимодействует с Docker Daemon.
### **Docker REST API**
- Интерфейс, через который внешние инструменты (CI/CD, UI-панели) могут управлять Docker.
## **2. Docker Images**
- Шаблоны для создания контейнеров.
- Хранятся как слои (union file system).
- Создаются через `Dockerfile` или с помощью `docker commit`.
## **3. Docker Containers**
- Изолированные рабочие процессы, запущенные на основе образов.
- Лёгкие, быстрые и используют ядро хостовой ОС.
## **4. Dockerfile**
- Скрипт, определяющий, как собрать образ.
- Содержит инструкции (`FROM`, `RUN`, `COPY`, `CMD`, и т.д.).
## **5. Docker Registry**
Репозиторий для хранения и распространения образов.
Типы:
- **Public**: Docker Hub
- **Private**: Harbor, GitHub Container Registry, GitLab Registry
- **Local**: локальный registry внутри сети
Команды:
- `docker pull` — загрузить образ
- `docker push` — отправить образ
## **6. Docker Volumes**
- Механизм для сохранения данных контейнеров вне их файловой системы.
- Используется для БД, логов, конфигураций.
- Не удаляются при пересоздании контейнера.
## **7. Docker Networks**
Система сетей для изоляции и взаимодействия контейнеров.
Типы сетей:
- **bridge** — по умолчанию, для локальных контейнеров
- **host** — контейнер использует сетевой стек хоста
- **overlay** — для межузловых сетей (Docker Swarm, Kubernetes)
- **none** — без сети
## **8. Docker Compose**
- Инструмент для развёртывания нескольких контейнеров как единой системы.
- Конфигурация в файле `docker-compose.yml`.
- Часто применяется для локальной разработки.
# **Схематично**
```
                   +----------------------------+
                   |        Docker CLI          |
                   +--------------+-------------+
                                  |
                                  v
                   +-----------------------------+
                   |        Docker Engine        |
                   |  +-----------------------+  |
                   |  |   Docker Daemon       |  |
                   |  +-----------------------+  |
                   +--------------+--------------+
                                  |
        --------------------------------------------------------
        |           |              |                |          |
        v           v              v                v          v
    Images     Containers     Networks          Volumes    Registries
```