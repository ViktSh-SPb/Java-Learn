# attach
**attach** - вернуться к потоку ввода-вывода запущенного контейнера (если запущена Ubuntu, вернемся в shell).
## Сигнатура:
docker attach \[OPTIONS] CONTAINER
# exec
**exec** - используется для выполнения команды внутри уже запущенного контейнера Docker. Это полезно когда нужно выполнить какие-либо действия внутри контейнера без необходимости останавливать его или создавать новый.
Для интерактивных команд, например запуск оболочки обязательно использовать ключ **-it**
## Сигнатура:
```bash
docker exec [OPTIONS] CONTAINER COMMAND [ARG...]
```
## Ключи:
*-d (detach)* - запустить команду в фоновом режиме (отсоединить от терминала)
*-i (interactive)* - оставить стандартный ввод (stdin) открытым, даже если не подключен терминал
*-t (tty)* - выделить псевдо-TTY (терминал). Обычно используется вместе с *-i* для интерактивного взаимодействия
*-e (environment)* - установить переменные окружения
*-u (user)* - запустить команду от имени указанного пользователя или UID
*-w (workdir)* - указать рабочую директорию для выполнения команды
## Примеры:
```bash
docker exec -it my_container bash # Запуск интерактивно оболочки bash внутри контейнера
```
```bash
docker exec my_container ls /app # Выполнит ls /app внутри контейнера и выведет список файлов в директории /app
```
```bash
docker exec -d my_container python script.py # Команда python script.py будет выполнена в фоновом режиме
```
```bash
docker exec -u user my_container whoami # будет выполнена команда whoami от имени пользователя user
```
# inspect
**inspect** - Выводит подробную информацию Docker-объектах, таких как контейнеры, образы, тома, сети и др. Она выводит метаданные в формате JSON
### Что можно узнать с помощью **docker inspect**?
1. Для контейнеров:
	- Состояние контейнера (запущен, остановлен и т.д.)
	- IP-адрес и сетевые настройки
	- Подключенные порты и тома
	- Переменные окружения
	- Команда запуска
	- Размер контейнера
2. Для образов:
	- Слои образа
	- История создания
	- Размер образа
	- Метки
3. Для томов:
	- Путь к тому на хосте
	- Используемые контейнеры
4. Для сетей:
	- Подключенные контейнеры
	- Настройки IP и DNS
## Сигнатура:
```bash
docker inspect [OPTIONS] CONTAINER|IMAGE|VOLUME|NETWORK [CONTAINERS|IMAGES|VOLUMES|NETWORKS]
```

# images
**images (image ls)** - команда используется для просмотра списка Docker-образов, которые хранятся локально. Команда отображает:
1. *REPOSITORY* - имя образа (например **nginx**, **ubuntu**)
2. *TAG* - версия или вариант образа (например **lastest**, **1.0**)
3. *IMAGE ID* - уникальный идентификатор образа
4. *CREATED* - дата создания
5. *SIZE* - размер образа на диске
## Ключи
-a (all) - показывает все образы, включая промежуточные слои (по умолчанию они скрыты)
## Примеры:
```bash
docker images --filter "dangling=true"  # Показать "висячие" образы
```
```bash
docker images --filter "reference=nginx*"  # Показать образы, начинающиеся с "nginx"
```
```bash
docker images --filter "before=nginx:latest"  # Показать образы, созданные до nginx:latest
```
```bash
docker images --filter "since=nginx:latest"  # Показать образы, созданные после nginx:latest
```
# image prune
**image prune** - удаляет висячие образы - образы, которые не имеют меток и не используются
## Ключи:
*-a* - удалить все неиспользуемые образы(не только "висячие"), включая дочерние образы и метаданные
*-q* - показывает только ID образов (удобно для скриптов)
*--no-trunc* - показывает полный ID образа, без сокращения
*--filter* - фильтрует образы по определенным условиям
## Сигнатура:
```bash
docker inspect [OPTIONS] NAME|ID [NAME/ID]
```

# ps
**ps** - Выводит список контейнеров
## Ключи:
*-a* - показать все контейнеры (по умолчанию показывает только запущенные)
*-q* - показать только ID контейнеров (удобно для скриптов)
# rm
rm - используется для удаления одного или нескольких остановленных контейнеров
## Сигнатура:
```bash
docker rm [OPTIONS] NAME|ID [CONTAINER]
```
## Ключи:
*-f (force)* - принудительное удаление контейнера, даже если он запущен
*-v (volumes)* - удаляет тома, связанные с контейнером
## Примеры:
```bash
docker rm container1 container2 container3 # Удаление нескольких контейнеров
```
```bash
docker rm -f mycontainer # принудительное удаление запущенного контейнера
```
```bash
docker rm $(docker ps -a -q) # Удаление всех остановленных контейнеров 
```
```bash
docker rm $(docker ps -a -q --filter "status=exited") # Удаление всех остановленных контейнеров со статусом "exited"(завершенные)
```
# rmi
**rmi (remove image)** - удаление одного или нескольких Docker-образов с локальной системы.
## Сигнатура:
```bash
docker rmi [OPTIONS] IMAGE [IMAGES]
```
## Ключи:
*-f (force)* - принудительное удаление образа, даже если он используется в контейнерах
--no-prune - отключает удаление "висячих" образов (промежуточных слоев, которые больше не используются)
## Примеры:
```bash
docker rmi $(docker images -q) # Удаление всех образов
```
# run
**run** - Создание контейнера из образа с последующим запуском.
Без ключей запускает контейнер, и если в нем нет задержки, завершает его работу.
Если поле "команда" оставить пустым, то, в случае с Ubuntu запустится shell.
Для того, чтобы выйти из терминала контейнера, но при этом не останавливать контейнер используется сочетание **CTRL +QPQ**.
## Сигнатура:
```bash
docker run [OPTIONS] IMAGE [COMMAND] [ARG...]
```
## Ключи:
*-i (interactive)* - запуск с открытым стандартным потоком ввода (для Ubuntu - shell)
*-t (TTY)* - запуск с открытым псевдо-терминалом
*-d (detached)* - запуск с отсоединенным стандартным потоком ввода-вывода (как бы в фоновом режиме)
*--rm* - удаляет контейнер после его остановки
*-e (environment)* - устанавливает переменные окружения внутри контейнера
## Примеры:
```bash
docker run -p 8080:80 nginx
```
```bash
docker run ubuntu:latest /bin/bash
```
```bash
docker run ubuntu:latest # запустится и сразу закончит работу
```
```bash
docker run -i ubuntu:latest # запустится, откроется терминал, но при закрытии терминала остановится и контейнер
```
```bash
docker run -e MYVAR=myvalue nginx # присваиваем переменной окружения "MYVAR" значение "myvalue"
```
# stats
stats - используется для мониторинга используемых ресурсов (CPU, память, сеть, диск) запущенными контейнерами в реальном времени.
## Сигнатура:
```bash
docker stats [OPTIONS] [CONTAINER]
```
## Ключи:
*-a* - показывает статистику для всех контейнеров (включая остановленные)
*--no-stream* - отключает режим реального времени и выводит статистику один раз
# system prune
**system prune** - используется для очистки неиспользуемых данных в Docker. Она удаляет:
- *Остановленные контейнеры* - все контейнеры, которые были остановлены
- *Неиспользуемые сети* - сети, которые не использует ни один контейнер
- *"Висячие" образы (dangling images)* - образы, которые не имеют меток и не используются
- *Кэш сборки* - кэш, который больше не используется
## Ключи
*--volumes* - удаляет неиспользуемые тома.
*-a* - удаляет все неиспользуемые образы, а не только "висячие".
*-f (force)* - удаление без запроса подтверждения
