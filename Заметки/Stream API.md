**Stream API** - —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–π –∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ, –ø–æ—è–≤–∏–≤—à–∏–π—Å—è –≤ Java 8. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –∏ –¥—Ä—É–≥–∏—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π —Å –¥–∞–Ω–Ω—ã–º–∏.
# –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Stream API
- –ù–µ –∏–∑–º–µ–Ω—è–µ—Ç –∏—Å—Ö–æ–¥–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–ø–∏–µ–π –¥–∞–Ω–Ω—ã—Ö)
- –õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (–º–Ω–æ–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ (*parallelStream()*)
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ *–ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π* –∏ *method references*)
# –°–æ–∑–¥–∞–Ω–∏–µ Stream (–∏—Å—Ç–æ—á–Ω–∏–∫–∏)
Stream –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
## 1. –ò–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–π
```java
List<String> list = Arrays.asList("a", "b", "c");
Stream<String> stream = list.stream(); // –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫
Stream<String> pStream = list.parallelStream() // –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫
```
## 2. –ò–∑ –º–∞—Å—Å–∏–≤–∞
```java
String[] array = {"a", "b", "c"};
Stream<String> stream = Arrays.stream(array);
```
## 3. –ò–∑ –∑–Ω–∞—á–µ–Ω–∏–π (Stream.of())
```java
Stream<String> stream = Stream.of("a", "b", "c");
```
## 4. –ò–∑ —Ñ–∞–π–ª–æ–≤ (Files.lines())
```java
Stream<String> lines = Files.lines(Paths.get("file.txt"));
```
## 5. –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ (Stream.iterate(), Stream.generate())
```java
Stream<Integer> infiniteNumbers = Stream.iterate(0, n -> n + 1); // 0, 1, 2, ...
Stream<Double> randomNumbers = Stream.generate(Math::random); // –°–ª—É—á–∞–π–Ω—ã–µ —á–∏—Å–ª–∞
```
# –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (Intermediate Operations)
–ù–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É, –∞ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç "–∫–æ–Ω–≤–µ–π–µ—Ä" –æ–ø–µ—Ä–∞—Ü–∏–π.

| –û–ø–µ—Ä–∞—Ü–∏—è              | –û–ø–∏—Å–∞–Ω–∏–µ                                                                  | –ü—Ä–∏–º–µ—Ä                                    |
| --------------------- | ------------------------------------------------------------------------- | ----------------------------------------- |
| **filter(Predicate)** | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤  –ø–æ —É—Å–ª–æ–≤–∏—é                                          | `stream.filter(s -> s.length() > 3`       |
| **map(Function)**     | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞                                           | `stream.map(String::toUpperCase)`         |
| **flatMap(Function)** | "–†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç" –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, *List\<List> ‚Üí List*)      | `stream.flatMap(List::stream)`            |
| **distinct()**        | –£–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã                                                         | `stream.distinct()`                       |
| **sorted()**          | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–º–æ–∂–Ω–æ —Å –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–æ–º)                                         | `stream.sorted(Comparator.reverseOrder()` |
| **peek(Consumer)**    | –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ) | `stream.peek(System.out::println)`        |
| **limit(n)**          | –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤                                         | `stream.limit(5)`                         |
| **skip(n)**           | –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –ø–µ—Ä–≤—ã–µ n —ç–ª–µ–º–µ–Ω—Ç–æ–≤                                             | `stream.skip(2)`                          |
# –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (Terminal operations)
–ó–∞–ø—É—Å–∫–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ–≥–æ –∫–æ–Ω–≤–µ–π–µ—Ä–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

| –û–ø–µ—Ä–∞—Ü–∏—è                                  | –û–ø–∏—Å–∞–Ω–∏–µ                                                  | –ü—Ä–∏–º–µ—Ä                                   |
| ----------------------------------------- | --------------------------------------------------------- | ---------------------------------------- |
| **forEach(Consumer)**                     | –í—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞                   | `stream.forEach(System.out::println`     |
| **collect(Collector)**                    | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ø–æ—Ç–æ–∫ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é (*List, Set, Map*, –∏ —Ç.–¥.)  | `stream.collect(Collectors.toList())`    |
| **toArray()**                             | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ø–æ—Ç–æ–∫ –≤ –º–∞—Å—Å–∏–≤                                | `stream.toArray(String[]::new)`          |
| **reduce()**                              | –ê–≥—Ä–µ–≥–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—É–º–º–∞, –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è)       | `stream.reduce(0, Integer::sum)`         |
| **min() / max()**                         | –ù–∞—Ö–æ–¥–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π/–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç (—Å –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–æ–º) | `stream.max(Comparator.naturalOrder())`  |
| **count()**                               | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤                           | `stream.count()`                         |
| **anyMatch() / allMatch() / noneMatch()** | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—Ç –ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã —É—Å–ª–æ–≤–∏—é              | `stream.anyMatch(s -> s.startWith("a"))` |
| **findFirst() / findAny()**               | –ù–∞—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–π/–ª—é–±–æ–π –ø–æ–¥—Ö–æ–¥—è—â–∏–π —ç–ª–µ–º–µ–Ω—Ç                   | `stream.findFirst()`                     |
# –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
## 1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
```java
List<String> names = Arrays.asList("Alice", "Bob", "Charlie", "Anna");

List<String> filtered = names.stream()
	.filter(name -> name.startWith("A"))    // ["Alice", "Anna"]
	.map(String::toUpperCase)               // ["ALICE", "ANNA"]
	.collect(Collectors.toList());          // –°–æ–±–∏—Ä–∞–µ–º –≤ List
```
## 2. –†–∞–±–æ—Ç–∞ —Å —á–∏—Å–ª–∞–º–∏ (—Å—É–º–º–∞, —Å—Ä–µ–¥–Ω–µ–µ)
```java
List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5);
int sum = numbers.stream().reduce(0, Integer::sum);                 // 15
double avg = numbers.stream().mapToInt(i -> i).average().orElse(0); // 3.0
```
## 3. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ (Collectors.groupingBy)
```java
List<String> words = Arrays.asList("apple", "banana", "cherry", "avocado");

Map<Character, List<String>> grouped = words.stream()
	.collect(Collectors.groupingBy(s -> s.charAt(0)));
// {'a' = ["apple", "avocado"], 'b' = ["banana"], 'c' = ["cherry"]}
```
## 4. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
```java
List<Integer> bigList = /* –æ–≥—Ä–æ–º–Ω—ã–π —Å–ø–∏—Å–æ–∫ */
long count = bigList.parallelStream() // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ForkJoinPool
	.filter(i -> i % 2 == 0)
	.count();
```
# –õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (Lazy Evaluation) –≤ Java Stream API
**–õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è** - —ç—Ç–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É, –∞ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –¥–æ –º–æ–º–µ–Ω—Ç–∞, –∫–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω. –í Java Stream API –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (*intermediate operations*) —è–≤–ª—è—é—Ç—Å—è –ª–µ–Ω–∏–≤—ã–º–∏ (*lazy*), –∞ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ (*terminal operations*) - –∂–∞–¥–Ω—ã–º–∏ (*eager*).
## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?
1. –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, *filter, map, sorted*) –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫–æ–Ω–≤–µ–π–µ—Ä, –Ω–æ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É.
2. –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, (–Ω–∞–ø—Ä–∏–º–µ—Ä, *collect, forEach, count*) –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ—Å—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∏ —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è.
### –ü—Ä–∏–º–µ—Ä:
```java
List<String> names = Arrays.asList("Alice", "Bob", "Charlie");

// –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ª–µ–Ω–∏–≤—ã–µ)
Stream<String> stream = names.stream()
	.filter(name -> {
		System.out.println("–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: " + name); // –ù–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Å—Ä–∞–∑—É
		return name.length() > 3;
	})
	.map(name -> {
		System.out.println("–ú–∞–ø–ø–∏–Ω–≥: " + name); // –¢–æ–∂–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è
		return name.toUpperCase();
	});

// –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è (–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)
List<String> result = stream.collect(Collectors.toList())
```
–í—ã–≤–æ–¥:
```bash
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: Alice
–ú–∞–ø–ø–∏–Ω–≥: Alice
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: Bob
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: Charlie
–ú–∞–ø–ø–∏–Ω–≥: Charlie
```
üñù –ü–æ—á–µ–º—É `Bob` –Ω–µ –ø—Ä–æ—à–µ–ª –≤ `map`? –ü–æ—Ç–æ–º—É —á—Ç–æ `filter` –æ—Ç—Å–µ—è–ª –µ–≥–æ (–¥–ª–∏–Ω–∞ ‚â§ 3), –∏ –¥–∞–ª—å—à–µ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –ø–æ—à–ª–∞.
## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ª–µ–Ω–∏–≤—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ù–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ª–∏—à–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–æ—Å–ª–µ *filter* —Å—Ç–æ–∏—Ç *limit(1)*, —Ç–æ *Stream* –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã).
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–∂–µ –ø–æ–ª—É—á–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, *findFirst()*).
### 2. –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ—Ç–æ–∫–∏
–õ–µ–Ω–∏–≤–æ—Å—Ç—å –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–º–∏ *Stream* (–Ω–∞–ø—Ä–∏–º–µ—Ä, *Stream.iterate()*), —Ç–∞–∫ –∫–∞–∫ —ç–ª–µ–º–µ–Ω—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
```java
Stream<Integer> infiniteNumbers = Stream.iterate(0, n -> n + 1);
infiniteNumbers
	.filter(n -> n > 100)
	.limit(5) // –í–æ–∑—å–º–µ–º —Ç–æ–ª—å–∫–æ 5 —á–∏—Å–µ–ª –ø–æ—Å–ª–µ 100
	.forEach(System.out::println); // 101, 102, 103, 104, 105
```
### 3. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
–õ–µ–Ω–∏–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –∑–∞–¥–∞—á–∏ –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ *parallelStream()*.
## –ü—Ä–∏–º–µ—Ä—ã –ª–µ–Ω–∏–≤–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
### 1. filter + findFirst (–∫–æ—Ä–æ—Ç–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ)
```java
List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5);

Optional<Integer> firstEven = numbers.stream()
	.filter(n -> {
		System.out.println("–ü—Ä–æ–≤–µ—Ä–∫–∞: " + n); // –í—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è 1, 2
		return n % 2 == 0;
	})
	.findFirst(); // –ù–∞—à–µ–ª 2 –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è
System.out.println(firstEven.get()); // 2
```
–í—ã–≤–æ–¥:
```bash
–ü—Ä–æ–≤–µ—Ä–∫–∞: 1
–ü—Ä–æ–≤–µ—Ä–∫–∞: 2
2
```
### 2. limit + map (–Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–∏—à–Ω–µ–µ)
```java
Stream.of("a", "b", "c", "d")
	.map(s -> {
		System.out.println("–ú–∞–ø–ø–∏–Ω–≥: " + s); // –¢–æ–ª—å–∫–æ a, b, c
		return s.toUpperCase();
	})
	.limit(3) // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–æ 3 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
	.forEach(System.out::println);
```
–í—ã–≤–æ–¥:
```bash
–ú–∞–ø–ø–∏–Ω–≥: a
A
–ú–∞–ø–ø–∏–Ω–≥: b
B
–ú–∞–ø–ø–∏–Ω–≥: —Å
C
```
–≠–ª–µ–º–µ–Ω—Ç `d` –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ `limit(3)` —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω.
## –ö–æ–≥–¥–∞ –ª–µ–Ω–∏–≤–æ—Å—Ç—å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?
–õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –¥–ª—è:
- –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (*collect, forEach, count*  –∏ –¥—Ä.) - –æ–Ω–∏ –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ JVM (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∏–º—ã *IntStream* –º–æ–≥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –∏–Ω–∞—á–µ).
## –í—ã–≤–æ–¥
- –õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ *Stream API* –ø–æ–∑–≤–æ–ª—è—é—Ç –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –¥–æ –≤—ã–∑–æ–≤–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.
- **–ü–ª—é—Å—ã:** –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ä–∞–±–æ—Ç–∞ —Å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞.
- **–ú–∏–Ω—É—Å—ã:** –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–º –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∑–∞–±—ã—Ç—å –≤—ã–∑–≤–∞—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é, –ø–æ—Ç–æ–∫ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è).