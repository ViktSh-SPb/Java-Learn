# ‚úÖ **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**
## **1. –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**
–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è (Prometheus, Loki, Zabbix, VictoriaMetrics) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:
### **–ö–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è**
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏ (sharding).
- –ó–∞–ø—É—Å–∫ —Ä–µ–ø–ª–∏–∫ –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (replication).
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ load balancer –∏–ª–∏ service mesh.
### **–ü—Ä–∏–º–µ—Ä**
- **Prometheus** —Å–∞–º –ø–æ —Å–µ–±–µ –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è, –Ω–æ **Thanos**, **Cortex** –∏ **VictoriaMetrics** –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–µ–ª–∞—Ç—å —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é.
## **2. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –Ω–∞ —É—Ä–æ–≤–Ω–∏ (multi-tier monitoring)**
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–∞ —É—Ä–æ–≤–Ω–∏ —É–ø—Ä–æ—â–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:
### **–£—Ä–æ–≤–Ω–∏**
1. **Node-level**: CPU, RAM, –¥–∏—Å–∫ ‚Äî —Å–æ–±–∏—Ä–∞—é—Ç—Å—è node exporter.
2. **Service-level**: HTTP latency, –æ—à–∏–±–∫–∏ ‚Äî —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏.
3. **Business-level**: KPI, —Å–æ–±—ã—Ç–∏—è ‚Äî —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ.
### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**
- –ù–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∞ –µ–¥–∏–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.
- –ú–µ—Ç—Ä–∏–∫–∏ —Ä–∞–∑–ª–∏—á–Ω–æ–π –≤–∞–∂–Ω–æ—Å—Ç–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É.
## **3. Federated Monitoring (—Ñ–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å)**
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è Prometheus –∏ Zabbix.
### **–°—É—Ç—å**
- –ù–∞ –∫–∞–∂–¥–æ–º –∫–ª–∞—Å—Ç–µ—Ä–µ/—Ä–µ–≥–∏–æ–Ω–µ ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–π Prometheus –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–±–æ—Ä—â–∏–∫.
- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏.
### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**
- –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å.
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –±–µ–∑ –æ–≥—Ä–æ–º–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫.
## **4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª–∏–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (long-term storage)**
–î–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –≤–∞–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–∏—Ç—å –º–µ—Å—è—Ü—ã –∏ –≥–æ–¥—ã –∏—Å—Ç–æ—Ä–∏–∏.
### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- **Thanos (S3 storage)**
- **Cortex**
- **VictoriaMetrics cluster**
- **Loki (–¥–ª—è –ª–æ–≥–æ–≤)**
### –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:
–û—Å–Ω–æ–≤–Ω–æ–π —Å–±–æ—Ä—â–∏–∫ –º–µ—Ç—Ä–∏–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–æ–ª—å –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ ‚Äî —ç—Ç–æ —Å–∏–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É.
## **5. –°–Ω–∏–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫ (–º–µ—Ç–æ–¥–∏–∫–∞ ‚Äú–º–µ—Ç—Ä–∏–∫–∏ —Å —É–º–æ–º‚Äù)**
### –ú–µ—Ç–æ–¥—ã:
- Drop low-value –º–µ—Ç—Ä–∏–∫.
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ scrape interval (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å 15s ‚Üí 30s ‚Üí 60s).
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –ª–µ–π–±–ª–æ–≤ (labels) ‚Äî —è–≤–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¥–ª—è Prometheus.
### –ü—Ä–∏–º–µ—Ä:
–ú–µ—Ç—Ä–∏–∫–∏ –∏–∑ Kubernetes —á–∞—Å—Ç–æ –∏–º–µ—é—Ç –¥–µ—Å—è—Ç–∫–∏ –ª–µ–π–±–ª–æ–≤ ‚Üí —ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –≤–∑—Ä—ã–≤ –∫–æ–º–±–∏–Ω–∞—Ü–∏–π.
## **6. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ–ª–∂–µ–Ω –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å –ª–æ–≥–∞–º–∏:
### –õ—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥—è—Ç:
- **ELK/Opensearch** (Elasticsearch –∫–ª–∞—Å—Ç–µ—Ä)
- **Loki (horizontally scalable)**
- **Vector/Fluent Bit + Kafka ‚Üí S3**
–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è ‚Äî **–Ω–µ —Å–æ–±–∏—Ä–∞—Ç—å –ª–æ–≥–∏ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä**, –∏–Ω–∞—á–µ –æ–Ω —Å—Ç–∞–Ω–µ—Ç bottleneck.
## **7. –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ —Ä—è–¥–æ–º —Å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º**
‚ÄúMonitoring at the edge‚Äù.
### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ.
- –í —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏.
### –ü—Ä–∏–º–µ—Ä:
- Nginx ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ RPS –∏ latency, –∞ –Ω–µ –≤–µ—Å—å raw-—Ç—Ä–∞—Ñ–∏–∫.
- Kafka ‚Üí JMX –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ.
## **8. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—á–µ—Ä–µ–¥–µ–π –∏ –ø–æ—Ç–æ–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º**
–î–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥:
- Kafka
- RabbitMQ
- Redis streams
### –°—Ü–µ–Ω–∞—Ä–∏–∏:
- –õ–æ–≥–∏ ‚Üí Kafka ‚Üí Elastic/Loki
- –ú–µ—Ç—Ä–∏–∫–∏ ‚Üí Kafka ‚Üí VictoriaMetrics
- –ê–ª–µ—Ä—Ç—ã ‚Üí Kafka ‚Üí Alertmanager
–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ ‚Äî –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –±–µ–∑ –ø–æ—Ç–µ—Ä—å.
## **9. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**
–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ = –Ω–µ —Ç–æ–ª—å–∫–æ –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤, –Ω–æ –∏ –±–æ–ª—å—à–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.
### –°–ø–æ—Å–æ–±—ã:
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ alertmanager.
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è Prometheus.
- –ù–µ—Å–∫–æ–ª—å–∫–æ –≥—Ä–∞—Ñ–∞–Ω —Å –æ–±—â–∏–º backend.
- –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –æ–ø–æ–≤–µ—â–µ–Ω–∏—è.
## **10. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**
–ö–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ—Å –º–Ω–æ–≥–æ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
### –ú–µ—Ç–æ–¥—ã:
- Service discovery (Prometheus SD, Consul, Kubernetes):
    - –ø–æ–¥—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è ‚Üí –º–µ—Ç—Ä–∏–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è
- Terraform/Ansible –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- GitOps (ArgoCD, FluxCD)
–≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏ —É–ª—É—á—à–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.
# üìå **–°–≤–æ–¥–∫–∞**
–î–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- Federated monitoring
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–∏
- Edge monitoring
- Stream-based pipelines
### **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**
- Thanos / Cortex / VictoriaMetrics cluster
- ELK / Loki
- Kafka –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitOps
### **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–µ—Ç—Ä–∏–∫
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ—Ç–µ–Ω—à–µ–Ω–∞
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏