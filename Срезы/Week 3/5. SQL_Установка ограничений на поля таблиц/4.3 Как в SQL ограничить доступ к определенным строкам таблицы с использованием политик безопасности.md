–í SQL –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å—Ç—Ä–æ–∫–∞–º —Ç–∞–±–ª–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **Row-Level Security (RLS)** ‚Äî –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä–æ–∫. RLS –ø–æ–∑–≤–æ–ª—è–µ—Ç **–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤–∏–¥–∏—Ç –∏–ª–∏ –∏–∑–º–µ–Ω—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**, –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –µ–≥–æ —Ä–æ–ª–∏ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —É—Å–ª–æ–≤–∏–π.
### üîπ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ RLS –≤ –°–£–ë–î:
- **PostgreSQL** ‚Äî –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `ROW LEVEL SECURITY`.
- **SQL Server** ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ **Security Policies / Predicate Functions**.
- **Oracle** ‚Äî —á–µ—Ä–µ–∑ **Virtual Private Database (VPD)**.
- **MySQL** ‚Äî –Ω–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –æ–±—ã—á–Ω–æ —Ä–µ–∞–ª–∏–∑—É—é—Ç —á–µ—Ä–µ–∑ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (views) –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.
### üîπ –ü—Ä–∏–º–µ—Ä –≤ PostgreSQL
1. **–°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É:**
```sql
CREATE TABLE employees (
    id INT PRIMARY KEY,
    name VARCHAR(100),
    department_id INT
);
```
2. **–í–∫–ª—é—á–∞–µ–º RLS –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã:**
```sql
ALTER TABLE employees ENABLE ROW LEVEL SECURITY;
```
3. **–°–æ–∑–¥–∞—ë–º –ø–æ–ª–∏—Ç–∏–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
```sql
CREATE POLICY department_policy
ON employees
FOR SELECT
USING (department_id = current_setting('app.current_department')::INT);
```
‚úÖ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
- `FOR SELECT` ‚Äî –ø–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏.
- `USING` ‚Äî —É—Å–ª–æ–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏.
- `current_setting('app.current_department')` ‚Äî –ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –º–æ–∂–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
4. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏:**  
    –ü–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–ª–∞–µ—Ç:
```sql
SELECT * FROM employees;
```
‚Äî –æ–Ω —É–≤–∏–¥–∏—Ç **—Ç–æ–ª—å–∫–æ —Ç–µ —Å—Ç—Ä–æ–∫–∏**, –≥–¥–µ `department_id` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –µ–≥–æ —Ç–µ–∫—É—â–µ–º—É –∑–Ω–∞—á–µ–Ω–∏—é.
### üîπ –ü—Ä–∏–º–µ—Ä –≤ SQL Server
1. **–°–æ–∑–¥–∞—ë–º —Ñ—É–Ω–∫—Ü–∏—é-–ø—Ä–µ–¥–∏–∫–∞—Ç:**
```sql
CREATE FUNCTION dbo.fn_department_access(@department_id INT)
RETURNS TABLE
WITH SCHEMABINDING
AS
RETURN SELECT 1 AS access
WHERE @department_id = CAST(SESSION_CONTEXT(N'department_id') AS INT);
```
2. **–°–æ–∑–¥–∞—ë–º –ø–æ–ª–∏—Ç–∏–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
```sql
CREATE SECURITY POLICY EmployeePolicy
ADD FILTER PREDICATE dbo.fn_department_access(department_id)
ON dbo.employees;
```
‚úÖ –¢–µ–ø–µ—Ä—å SELECT –∏ DML-–∑–∞–ø—Ä–æ—Å—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:
1. RLS –ø–æ–∑–≤–æ–ª—è–µ—Ç **–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä–æ–∫**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∞–±–ª–∏—Ü.
2. –ü–æ–ª–∏—Ç–∏–∫–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å **–¥–ª—è SELECT, INSERT, UPDATE, DELETE**.
3. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–Ω–æ–≥–æ–∞—Ä–µ–Ω–¥–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, –≥–¥–µ —Ä–∞–∑–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ä–∞–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ.
4. –í –°–£–ë–î –±–µ–∑ RLS –∞–Ω–∞–ª–æ–≥ —Ä–µ–∞–ª–∏–∑—É—é—Ç —á–µ—Ä–µ–∑ **–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (views)** —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –≤—ã–¥–∞—á–µ–π –ø—Ä–∞–≤ —Ç–æ–ª—å–∫–æ –Ω–∞ view.
‚úÖ **–ò—Ç–æ–≥:**  
–ü–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä–æ–∫ (`Row-Level Security`) –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏ –≥–∏–±–∫–æ**, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∑–∞—â–∏—Ç—É —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü.