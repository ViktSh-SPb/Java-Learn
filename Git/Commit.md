# Commit
Команда **git commit** создает новый снимок (*snapshot*) изменений, которые были предварительно добавлены в *staging area* (через *git add*). Каждый коммит сохраняет:
- Изменения в файлах
- Автора и дату
- Уникальный хеш
- Сообщение (commit message), объясняющее изменения
## Основное использование
### 1. Стандартный коммит
```bash
git commit -m "Исправил баг в авторизации"
```
### 2. Добавить и закоммитить одной командой (только для уже отслеживаемых файлов)
```bash
git commit -a -m "Сообщение"
```
(аналог `git add -u` + `git commit -m`)
### 3. Редактирование предыдущего коммита
```bash
git commit --amend   # изменяет последний коммит (если еще не запушили в удаленный репозиторий). Полезно если забыли добавить файл или ошиблись в сообщении.
```
## Полезные опции

| Опция                     | Описание                                           |
| ------------------------- | -------------------------------------------------- |
| `-m "текст"`              | Указать сообщение прямо в командной строке         |
| `--amend`                 | Исправить последний коммит                         |
| `--no-verify`             | Пропустить pre-commit хуки (например тесты)        |
| `--author="Имя \<Email>"` | Указать другого автора (например, для исправлений) |
| `--date="..."`            | Указать свою дату коммита                          |
## Как писать хорошие commit message?
Плохо:
```bash
git commit -m "fix"
```
Хорошо:
```bash
git commit -m "Исправил ошибку в расчете цены при скидке 10%"
```
Идеально (многострочное описание):
```bash
git commit
```
Откроется редактор (Vim/Nano), где можно написать:
```
Добавил поддержку темной темы
	- Добавлены стили CSS для dark mode
	- Обновлены настройки пользователя
	- Исправлен баг с переключением темы
```
Правила:
1. Первая строка - краткое описание (до 50 символов).
2. Пустая строка.
3. Подробности (если нужно) - что изменилось и почему.
## Примеры
### 1. Коммит с открытием редактора
```bash
git commit   # заполните сообщение в открывшемся редакторе
```
### 2. Добавить забытый файл в последний коммит
```bash
git add забытый_файл.txt
git commit --amend --no-edit   # --no-edit сохранит старое сообщение
```
### 3. Изменить автора коммита
```bash
git commit --amend --author="Новое Имя <new@email.com>"
```
## Чем git commit отличается от git add?

| git add                            | git commit                                    |
| ---------------------------------- | --------------------------------------------- |
| Добавляет изменения в staging area | Фиксирует изменения в истории                 |
| Можно много раз перед коммитом     | Создает постоянную точку сохранения           |
| Без add коммит ничего не сохранит  | Без commit изменения не попадут в репозиторий |
## Советы
✅ **Делайте атомарные коммиты** - одна логическая задача = один коммит.
✅ **Пишите понятные сообщения** - через год вы (или коллеги) поймете, что было сделано.
✅ **Используйте** `git commit -p` для интерактивного выбора изменений.