–í JPA/Hibernate —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç—Ä–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (`SINGLE_TABLE`, `JOINED`, `TABLE_PER_CLASS`). –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ **–∫–∞—Å—Ç–æ–º–Ω–∞—è (–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è) —Å—Ç—Ä–∞—Ç–µ–≥–∏—è**, —Ç–æ –µ—ë —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç **—Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Å—É—â–Ω–æ—Å—Ç–µ–π –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã**.
## üîπ 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@MappedSuperclass` –∏ —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü
- `@MappedSuperclass` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å **–±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å**, –∫–æ—Ç–æ—Ä—ã–π **–Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç—å—é**, –Ω–æ –ø–µ—Ä–µ–¥–∞—ë—Ç –ø–æ–ª—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º.
- –ö–∞–∂–¥–∞—è –¥–æ—á–µ—Ä–Ω—è—è —Å—É—â–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å–≤–æ–µ–π —Ç–∞–±–ª–∏—Ü–µ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –º–∞–ø–ø–∏–Ω–≥–æ–º.
- –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–∞–±–ª–∏—Ü–∞–º–∏ –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º.
**–ü—Ä–∏–º–µ—Ä:**
```java
@MappedSuperclass
public abstract class PaymentBase {
    @Id
    private Long id;
    private BigDecimal amount;
}

@Entity
@Table(name = "card_payment")
public class CardPayment extends PaymentBase {
    private String cardNumber;
}

@Entity
@Table(name = "cash_payment")
public class CashPayment extends PaymentBase {
    private String cashDesk;
}
```
- –†—É—á–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ—Ö–æ–∂–∞ –Ω–∞ `TABLE_PER_CLASS`, –Ω–æ —Å –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —Ç–∞–±–ª–∏—Ü.
- –ù—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å **–≥–µ–Ω–µ—Ä–∞—Ü–∏—é ID**, –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ —Å–≤—è–∑–∞–Ω—ã.
## üîπ 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@SecondaryTable` –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- `@SecondaryTable` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å **–ø–æ–ª—è –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö**.
- –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–µ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º.
**–ü—Ä–∏–º–µ—Ä:**
```java
@Entity
@Table(name = "payment")
@SecondaryTable(name = "card_details", pkJoinColumns = @PrimaryKeyJoinColumn(name = "payment_id"))
public class CardPayment {
    @Id
    private Long id;
    private BigDecimal amount;

    @Column(table = "card_details")
    private String cardNumber;
}
```
- –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å **–∫–∞—Å—Ç–æ–º–Ω—ã–µ "SINGLE_TABLE + JOIN" –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏**, –æ–±—ä–µ–¥–∏–Ω—è—è —Ç–∞–±–ª–∏—Ü—ã –≤—Ä—É—á–Ω—É—é.
## üîπ 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@Entity` —Å `@Subselect` (Hibernate-specific)
- Hibernate –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å **–≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å**, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç **—Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ SQL-–∑–∞–ø—Ä–æ—Å–∞**.
- –ú–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –ª–æ–≥–∏–∫—É –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.
```java
@Entity
@Subselect(
  "SELECT id, amount, card_number, cash_desk, type FROM card_payment " +
  "UNION ALL SELECT id, amount, NULL as card_number, cash_desk, 'CASH' FROM cash_payment"
)
public class PaymentView {
    @Id
    private Long id;
    private BigDecimal amount;
    private String cardNumber;
    private String cashDesk;
    private String type;
}
```
- –ü–æ —Å—É—Ç–∏, —Å–æ–∑–¥–∞—ë—Ç—Å—è **read-only view** —Å –Ω—É–∂–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∏–µ—Ä–∞—Ä—Ö–∏–π.
## üîπ 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ + DTO
- –í–º–µ—Å—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤ –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å **DTO –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**, –∞ Hibernate –º–∞–ø–ø–∏—Ç —Ç–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏.
- –õ–æ–≥–∏–∫–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ Java, –∞ –Ω–µ —Ç–∞–±–ª–∏—Ü.
```java
public interface Payment { BigDecimal getAmount(); }

@Entity
public class CardPayment implements Payment { ... }

@Entity
public class CashPayment implements Payment { ... }
```
- –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –æ—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º JPA –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.
## üîπ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@MappedSuperclass`**, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã.
2. **`@SecondaryTable`** –∏ **`@Subselect`** –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–µ —Å—Ö–µ–º—ã.
3. –î–ª—è **—Å–ª–æ–∂–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π** –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Hibernate-specific –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏**, —Ç.–∫. JPA —Å—Ç–∞–Ω–¥–∞—Ä—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω.
4. –£—á—Ç–∏—Ç–µ, —á—Ç–æ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å **—Ç—Ä—É–¥–Ω—ã –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ**, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –≤—ã–±–æ—Ä–∫–µ –≤—Å–µ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏.