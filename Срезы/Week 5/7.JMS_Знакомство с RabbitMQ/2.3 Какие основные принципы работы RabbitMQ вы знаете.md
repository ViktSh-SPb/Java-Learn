–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã **RabbitMQ** —Å–≤—è–∑–∞–Ω—ã —Å —Ç–µ–º, –∫–∞–∫ —Å–æ–æ–±—â–µ–Ω–∏—è **–ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è –∏ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è** –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.
## 1Ô∏è‚É£ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- **Producer** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ RabbitMQ.
- **Consumer** –∑–∞–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –∫–æ–≥–¥–∞ –æ–Ω–æ –±—ã–ª–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ.
- Producer –∏ Consumer **–Ω–µ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–∏**, —á—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.
## 2Ô∏è‚É£ –û—á–µ—Ä–µ–¥–∏ (Queues)
- **–û—á–µ—Ä–µ–¥—å** ‚Äî —ç—Ç–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏.
- –°–æ–æ–±—â–µ–Ω–∏—è –≤ –æ—á–µ—Ä–µ–¥–∏ –æ–±—ã—á–Ω–æ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É **FIFO (first in, first out)**.
- –û—á–µ—Ä–µ–¥–∏ –º–æ–≥—É—Ç –±—ã—Ç—å **—Ç—Ä–∞–Ω–∑–∏—Ç–Ω—ã–º–∏** (—É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è) –∏–ª–∏ **—É—Å—Ç–æ–π—á–∏–≤—ã–º–∏** (—Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ –¥–∏—Å–∫–µ).
## 3Ô∏è‚É£ Exchanges –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- **Exchange** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤ –∏ **–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –æ—á–µ—Ä–µ–¥–∏**.
- –¢–∏–ø—ã exchange:
    - **Direct** ‚Äî —Ç–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ routing key;
    - **Fanout** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–æ –≤—Å–µ –æ—á–µ—Ä–µ–¥–∏;
    - **Topic** ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ —à–∞–±–ª–æ–Ω—É –∫–ª—é—á–∞;
    - **Headers** ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ —Ö–µ–¥–µ—Ä–∞–º —Å–æ–æ–±—â–µ–Ω–∏—è.
- **Binding** ‚Äî –ø—Ä–∞–≤–∏–ª–æ, —Å–≤—è–∑—ã–≤–∞—é—â–µ–µ exchange —Å –æ—á–µ—Ä–µ–¥—å—é.
## 4Ô∏è‚É£ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π (Acknowledgements)
- Consumer –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–æ–±—â–µ–Ω–∏—è (`ack`).
- –ï—Å–ª–∏ Consumer —É–ø–∞–ª –∏–ª–∏ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª, RabbitMQ –º–æ–∂–µ—Ç **–ø–µ—Ä–µ–æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –¥—Ä—É–≥–æ–º—É Consumer**.
- –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–Ω–∞–¥—ë–∂–Ω—É—é –¥–æ—Å—Ç–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π**.
## 5Ô∏è‚É£ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
- **Persistent messages** ‚Äî —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ –¥–∏—Å–∫–µ, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å—Å—è –ø—Ä–∏ —Å–±–æ–µ –±—Ä–æ–∫–µ—Ä–∞.
- **Mirrored queues** ‚Äî –∫–æ–ø–∏–∏ –æ—á–µ—Ä–µ–¥–µ–π –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É–∑–ª–∞—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞ –¥–ª—è –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.
## 6Ô∏è‚É£ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –æ–±–º–µ–Ω–∞
- **Point-to-Point**: –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–æ–º—É consumer (–æ–±—ã—á–Ω–∞—è –æ—á–µ—Ä–µ–¥—å).
- **Publish/Subscribe**: –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º (—á–µ—Ä–µ–∑ fanout –∏–ª–∏ topic exchange).
## 7Ô∏è‚É£ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ TTL
- –û—á–µ—Ä–µ–¥–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å **–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã** —Å–æ–æ–±—â–µ–Ω–∏–π, —á—Ç–æ–±—ã –≤–∞–∂–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å —Ä–∞–Ω—å—à–µ.
- **TTL (time-to-live)** –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
### üîπ –ò—Ç–æ–≥
**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã RabbitMQ:**
1. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π.
2. –û—á–µ—Ä–µ–¥–∏ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ–æ–±—â–µ–Ω–∏–π.
3. Exchange –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º.
4. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (ack).
5. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ persistent messages –∏ mirrored queues.
6. –†–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ –æ–±–º–µ–Ω–∞ (point-to-point –∏ publish/subscribe).
7. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.