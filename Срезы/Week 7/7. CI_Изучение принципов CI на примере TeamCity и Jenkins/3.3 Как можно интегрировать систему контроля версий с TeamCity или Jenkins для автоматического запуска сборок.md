–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π (VCS) —Å TeamCity –∏–ª–∏ Jenkins ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–π —à–∞–≥ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–±–æ—Ä–æ–∫ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ, —Å–æ–∑–¥–∞–Ω–∏–∏ pull-request –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–µ—Ç–∫–∏. 
# üîó **1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è VCS —Å Jenkins**
### ‚úÖ **–®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤**
–û–±—ã—á–Ω–æ —ç—Ç–æ:
- **Git plugin**
- **GitHub Integration / GitHub Branch Source**
- **Bitbucket plugin** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- **GitLab plugin** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
–≠—Ç–∏ –ø–ª–∞–≥–∏–Ω—ã –ø–æ–∑–≤–æ–ª—è—é—Ç Jenkins ¬´—Å–ª—É—à–∞—Ç—å¬ª —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
### ‚úÖ **–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º**
–í job-–µ (Freestyle –∏–ª–∏ Pipeline):
**Freestyle Job:**
1. _Source Code Management ‚Üí Git_
2. –£–∫–∞–∑—ã–≤–∞–µ—Ç–µ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
3. –î–æ–±–∞–≤–ª—è–µ—Ç–µ credentials (—Ç–æ–∫–µ–Ω –∏–ª–∏ SSH-key)
**Pipeline Job:**  
–í Jenkinsfile:
```groovy
pipeline {
    agent any
    stages {
        stage('Checkout') {
            steps {
                git branch: 'main', url: 'https://github.com/user/repo.git'
            }
        }
    }
}
```
### ‚úÖ **–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (Webhooks)**
#### üü¶ GitHub
1. –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ GitHub:  
    _Settings ‚Üí Webhooks ‚Üí Add webhook_
2. URL –≤–∏–¥–∞:
    ```
    http://<jenkins-host>/github-webhook/
    ```
3. Events: _Just the push event_ –∏–ª–∏ Full events.
Jenkins –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç job.
#### üüß GitLab
1. Project ‚Üí _Settings ‚Üí Webhooks_
2. URL:
    ```
    http://<jenkins-host>/project/<job-name>
    ```
3. –í–∫–ª—é—á–∞–µ—Ç–µ _Push events_, _Merge request events_.
#### üü© Bitbucket
1. Repo ‚Üí _Settings ‚Üí Webhooks_
2. URL Jenkins job-–∞.
### ‚úÖ **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: Polling SCM
–ï—Å–ª–∏ webhook –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω, Jenkins –º–æ–∂–µ—Ç ¬´–æ–ø—Ä–∞—à–∏–≤–∞—Ç—å¬ª —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```
H/5 * * * *
```
‚Äî –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç.
# üü¶ **2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è VCS —Å TeamCity**
### üëç TeamCity –≤ —ç—Ç–æ–º –ø–ª–∞–Ω–µ –ø—Ä–æ—â–µ –∏ –º–æ—â–Ω–µ–µ ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª.
### ‚úÖ **–®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å VCS Root**
–í TeamCity:
- _Project ‚Üí VCS Roots ‚Üí Create VCS Root_
- –¢–∏–ø: **Git**
- –£–∫–∞–∑—ã–≤–∞–µ—Ç–µ:
    - URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
    - –≤–µ—Ç–∫—É (`refs/heads/main`)
    - credentials (–ø–∞—Ä–æ–ª—å/SSH/—Ç–æ–∫–µ–Ω)
TeamCity –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø.
### ‚úÖ **–®–∞–≥ 2: –ü—Ä–∏–≤—è–∑–∞—Ç—å VCS Root –∫ Build Configuration**
–í _Build Configuration ‚Üí Version Control Settings_ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π VCS Root.
### ‚úÖ **–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ —Å–±–æ—Ä–∫–∏**
–ò–¥—ë—Ç —á–µ—Ä–µ–∑ UI:
1. _Build Configuration ‚Üí Triggers_
2. –î–æ–±–∞–≤–∏—Ç—å **VCS Trigger**
3. –û–ø—Ü–∏–∏:
    - _Trigger on each check-in_ (–∫–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç)
    - Quiet period (–Ω–∞–ø—Ä–∏–º–µ—Ä 30 —Å–µ–∫—É–Ω–¥)
    - –§–∏–ª—å—Ç—Ä–≤–µ—Ç–æ–∫:
        ```
        +:refs/heads/main
        -:refs/heads/experimental/*
        ```
TeamCity –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç —Å–±–æ—Ä–∫—É –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏.
### ‚ùó –û—Ç–ª–∏—á–∏–µ –æ—Ç Jenkins
TeamCity –ù–ï —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ webhooks –≤—Ä—É—á–Ω—É—é ‚Äî –æ–Ω –º–æ–∂–µ—Ç —Å–∞–º –æ–ø—Ä–∞—à–∏–≤–∞—Ç—å VCS –æ—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.  
–ù–æ –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É—Å–∫–æ—Ä–∏—Ç—å, –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å webhooks –≤—Ä—É—á–Ω—É—é (GitLab/Bitbucket) –∏–ª–∏ —á–µ—Ä–µ–∑ TeamCity Commit Hook –¥–ª—è GitHub.
# üîÑ **3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å–±–æ—Ä–æ–∫ –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏?**
## Jenkins
- –ü—Ä–∏ push Git –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç webhook ‚Üí Jenkins –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç build.
## TeamCity
- –ò–ª–∏ Git –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç webhook
- –ò–ª–∏ TeamCity —Å–∞–º –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–ø—É—Å–∫–∞–µ—Ç build.
# üß© **–ò—Ç–æ–≥**

|–ö—Ä–∏—Ç–µ—Ä–∏–π|Jenkins|TeamCity|
|---|---|---|
|–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Git|–ß–µ—Ä–µ–∑ –ø–ª–∞–≥–∏–Ω—ã|¬´–ò–∑ –∫–æ—Ä–æ–±–∫–∏¬ª|
|Webhooks|–ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é|–ú–æ–∂–Ω–æ, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ|
|–¢—Ä–∏–≥–≥–µ—Ä—ã|–ß–µ—Ä–µ–∑ webhooks –∏–ª–∏ polling|–ß–µ—Ä–µ–∑ VCS Trigger|
|–ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏|–¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã|–û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π UI|
