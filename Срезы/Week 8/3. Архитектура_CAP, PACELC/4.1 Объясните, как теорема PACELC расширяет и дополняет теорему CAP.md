Теорема **PACELC** является расширением **CAP** и дополняет её, показывая, что компромиссы распределённых систем существуют **не только при сетевых разделениях (Partition, P), но и в нормальной работе сети**.
# 1️⃣ Ограничение CAP
**CAP** утверждает:
> В условиях сетевого разделения (Partition, P) невозможно одновременно обеспечить:
> - **Consistency (C)** — согласованность данных,
> - **Availability (A)** — доступность.
То есть CAP рассматривает **только экстремальную ситуацию — сетевой сбой**, и говорит о выборе: **C или A при P**.
❌ Недостаток CAP: она **не учитывает компромиссы, когда сеть работает нормально**.
# 2️⃣ Расширение PACELC
**PACELC** добавляет вторую часть компромисса для обычного состояния системы:
### Формула PACELC:
- **P → (A или C)** — если разделение сети, выбираем между доступностью и согласованностью (как в CAP).
- **Else → (L или C)** — если сеть работает нормально, выбираем между **Latency (L)** и **Consistency (C)**.
То есть PACELC учитывает:
1. **При сбое сети** — как в CAP: выбор между C и A.
2. **При нормальной работе** — необходимо балансировать между:
    - **L (Latency)** — низкой задержкой,
    - **C (Consistency)** — строгой согласованностью.
# 3️⃣ Почему PACELC важнее CAP
- CAP отвечает только на вопрос «что делать при разделении сети».
- PACELC показывает, что **компромиссы существуют всегда**, даже без сбоев.
- Позволяет системным архитекторам выбирать стратегию **точности данных vs быстродействие**, а не только «доступность vs согласованность».
# 4️⃣ Пример

|Система|P → ?|Else → ?|
|---|---|---|
|Cassandra|A (доступность при Partition)|L (скорость при нормальной работе)|
|DynamoDB|A|L|
|Google Spanner|C|C|
- Cassandra и DynamoDB ориентированы на **доступность и низкую задержку** → eventual consistency.
- Spanner ориентирован на **строгую консистентность** даже с ценой задержки.
# ⭐ Итог
- **CAP** = компромисс **только при сетевых сбоях** (Partition).
- **PACELC** = компромисс **при сбоях и в нормальном режиме работы**, добавляя параметр **Latency**.
Таким образом PACELC делает модель CAP **более полной и практичной для реальных распределённых систем**.