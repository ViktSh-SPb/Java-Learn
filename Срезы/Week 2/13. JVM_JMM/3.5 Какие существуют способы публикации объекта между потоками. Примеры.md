–í **Java** –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞ –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏ ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç, –∞ –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç –∫ –Ω–µ–º—É —Å—Å—ã–ª–∫—É **—Ç–∞–∫, —á—Ç–æ–±—ã –≤—Å–µ –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–∞ –±—ã–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–∏–¥–Ω—ã**. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:
### 1Ô∏è‚É£ –ß–µ—Ä–µ–∑ `final` –ø–æ–ª—è
- –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω, –∞ –µ–≥–æ –ø–æ–ª—è –æ–±—ä—è–≤–ª–µ–Ω—ã `final`, –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–π.
```java
class Person {
    final String name;
    final int age;

    Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
}

Person person = new Person("Alice", 30); // –ø—É–±–ª–∏–∫–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–∞
```
- –ü–æ—Ç–æ–∫, –ø–æ–ª—É—á–∏–≤—à–∏–π —Å—Å—ã–ª–∫—É –Ω–∞ `person`, **—É–≤–∏–¥–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è final-–ø–æ–ª–µ–π**.
### 2Ô∏è‚É£ –ß–µ—Ä–µ–∑ `volatile` –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
- –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, —Ö—Ä–∞–Ω—è—â–µ–π –æ–±—ä–µ–∫—Ç, –∫–∞–∫ `volatile` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ **—Å—Å—ã–ª–∫–∞ –∏ –≤—Å–µ –∑–∞–ø–∏—Å–∏ –¥–æ –Ω–µ—ë –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –¥—Ä—É–≥–∏–º –ø–æ—Ç–æ–∫–∞–º**.
```java
class SafePublisher {
    private static volatile Person person;

    static void init() {
        person = new Person("Alice", 30);
    }

    static Person getPerson() {
        return person;
    }
}
```
- –ó–¥–µ—Å—å –ª—é–±–æ–π –ø–æ—Ç–æ–∫, –≤—ã–∑–≤–∞–≤—à–∏–π `getPerson()`, —É–≤–∏–¥–∏—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.
### 3Ô∏è‚É£ –ß–µ—Ä–µ–∑ `synchronized` –±–ª–æ–∫
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –∏ —á—Ç–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **happens-before** –æ—Ç–Ω–æ—à–µ–Ω–∏—è.
```java
class SafePublisher {
    private static Person person;

    static synchronized void init() {
        person = new Person("Alice", 30);
    }

    static synchronized Person getPerson() {
        return person;
    }
}
```
- –ü–æ—Ç–æ–∫, –≤—ã–∑–≤–∞–≤—à–∏–π `getPerson()`, –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —É–≤–∏–¥–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞.
### 4Ô∏è‚É£ –ß–µ—Ä–µ–∑ –∫–ª–∞—Å—Å—ã –∏–∑ `java.util.concurrent`
- –ù–∞–ø—Ä–∏–º–µ—Ä, `AtomicReference` –∏–ª–∏ `ConcurrentHashMap` –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é.
```java
import java.util.concurrent.atomic.AtomicReference;

class SafePublisher {
    private static AtomicReference<Person> personRef = new AtomicReference<>();

    static void init() {
        personRef.set(new Person("Alice", 30));
    }

    static Person getPerson() {
        return personRef.get();
    }
}
```
- –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞—é—Ç happens-before –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É –æ–±—ä–µ–∫—Ç –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ.
### 5Ô∏è‚É£ –ß–µ—Ä–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–ª–∞—Å—Å–∞
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è –∫–ª–∞—Å—Å–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ, –±–µ–∑–æ–ø–∞—Å–Ω—ã –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏.
```java
class SafePublisher {
    static final Person person = new Person("Alice", 30); // –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è
}
```
- –ü–æ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞—Ç–∏—Ç—Å—è –∫ `SafePublisher.person`, —É–≤–∏–¥–∏—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.
üí° **–ò—Ç–æ–≥:**  
–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:
- `final` –ø–æ–ª—è
- `volatile` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- `synchronized` –±–ª–æ–∫–∏
- –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –∫–ª–∞—Å—Å—ã (`AtomicReference`)
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–ª–∞—Å—Å–∞