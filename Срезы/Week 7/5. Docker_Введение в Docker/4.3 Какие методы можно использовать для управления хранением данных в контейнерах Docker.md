–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ Docker —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å, —Ä–∞–∑–¥–µ–ª—è—Ç—å –∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤. –í–æ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
# ‚≠ê **1. Volumes ‚Äî —Ç–æ–º–∞ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)**
**Volumes** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π Docker.
### ‚úî –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è _–≤–Ω–µ_ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ –µ–≥–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏;
- –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏;
- –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–∞–∑–¥–µ–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏;
- –º–æ–≥—É—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö –∏–ª–∏ –≤ –æ–±–ª–∞–∫–µ;
- —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Docker (`docker volume create`, `docker volume ls`, –∏ —Ç.–¥.).
### ‚úî –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
docker run -v mydata:/var/lib/mysql mysql
```
–°–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–º `mydata`, –∏ –¥–∞–Ω–Ω—ã–µ MySQL –±—É–¥—É—Ç –∂–∏—Ç—å —Ç–∞–º, –¥–∞–∂–µ –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω.
# ‚≠ê **2. Bind mounts ‚Äî –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ö–æ—Å—Ç–æ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏**
–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Ö–æ—Å—Ç–∞ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
### ‚úî –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (hot reload —Ñ–∞–π–ª–æ–≤);
- –¥–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º —Ö–æ—Å—Ç–∞.
### ‚úî –ü—Ä–∏–º–µ—Ä:
```bash
docker run -v /home/user/app:/app node
```
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã —Ö–æ—Å—Ç–∞ ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É.
### ‚ùó –ú–∏–Ω—É—Å—ã:
- –Ω–µ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è Docker;
- –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏;
- –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ.
# ‚≠ê **3. tmpfs ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ (RAM)**
–î–∞–Ω–Ω—ã–µ –∂–∏–≤—É—Ç —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ ‚Äî –∞–Ω—Ç–∏–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
### ‚úî –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:
- –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–∞—Ç—å –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–∫–µ—à–∏);
- —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –≤–∞–∂–Ω–æ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å;
- –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–æ–Ω–∏ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –Ω–∞ –¥–∏—Å–∫).
### ‚úî –ü—Ä–∏–º–µ—Ä:
```bash
docker run --tmpfs /app/cache myimage
```
# ‚≠ê **4. Storage drivers (aufs, overlay2, btrfs –∏ –¥—Ä.)**
–≠—Ç–æ –Ω–∏–∂–Ω–∏–π —Å–ª–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã Docker, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π:
- Copy-on-write,
- —Å–ª–æ–∏ –æ–±—Ä–∞–∑–æ–≤,
- —Ñ–∞–π–ª–æ–≤—É—é –∏–∑–æ–ª—è—Ü–∏—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.
### ‚ùó –û–±—ã—á–Ω–æ **–Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é**, –Ω–æ –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:
- Overlay2 ‚Äî –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä –Ω–∞ Linux.
- Windows –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≤–æ–π –¥—Ä–∞–π–≤–µ—Ä (windowsfilter).
# ‚≠ê **5. Docker volumes plugins ‚Äî –≤–Ω–µ—à–Ω–∏–µ –ø–ª–∞–≥–∏–Ω—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è**
–ü–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è:
- AWS EBS
- Azure Disk
- Google Persistent Disk
- NFS
- Ceph
- GlusterFS
### –ü—Ä–∏–º–µ—Ä:
```bash
docker volume create \
  --driver rexray/ebs \
  --name my-ebs-volume
```
# ‚≠ê **6. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ Docker Compose**
Compose –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä—è–º–æ –≤ `docker-compose.yml`.
### –ü—Ä–∏–º–µ—Ä:
```yaml
services:
  db:
    image: postgres
    volumes:
      - pgdata:/var/lib/postgresql/data

volumes:
  pgdata:
```
# üìå **–ò—Ç–æ–≥**

|–ú–µ—Ç–æ–¥|–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å|–£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Docker|–°–∫–æ—Ä–æ—Å—Ç—å|–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ|
|---|---|---|---|---|
|**Volumes**|‚úî –î–∞|‚úî –î–∞|‚≠ê –ë—ã—Å—Ç—Ä–æ|–ü—Ä–æ–¥–∞–∫—à–Ω, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö|
|**Bind mounts**|–ó–∞–≤–∏—Å–∏—Ç|‚ùå –ù–µ—Ç|‚≠ê –ë—ã—Å—Ç—Ä–æ|–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞|
|**tmpfs**|‚ùå –ù–µ—Ç|‚úî –î–∞|üöÄ –°–∞–º–æ–µ –±—ã—Å—Ç—Ä–æ–µ|–í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ|
|**Storage drivers**|–î–∞|–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–µ—Ö–∞–Ω–∏–∑–º|–°—Ä–µ–¥–Ω—è—è|–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞|
|**Volume plugins**|‚úî –î–∞|–ß–∞—Å—Ç—å Docker|–ó–∞–≤–∏—Å–∏—Ç|–û–±–ª–∞–∫–∞, –∫–ª–∞—Å—Ç–µ—Ä—ã|
