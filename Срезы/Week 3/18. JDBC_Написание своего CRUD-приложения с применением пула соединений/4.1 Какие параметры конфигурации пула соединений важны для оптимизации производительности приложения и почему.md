## üßÆ 1. `maximumPoolSize` ‚Äî **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**
> üìå _–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10_
- üìñ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**  
    –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —Å–∫–æ–ª—å–∫–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ø—É–ª –º–æ–∂–µ—Ç –¥–µ—Ä–∂–∞—Ç—å.
- üöÄ **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:**
    - –°–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Üí –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –∂–¥–∞—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, —É–≤–µ–ª–∏—á–∏–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∏.
    - –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ ‚Üí –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —Å–Ω–∏–∂–µ–Ω–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–ª–∏ –æ—Ç–∫–∞–∑–∞–º.
- üß† **–°–æ–≤–µ—Ç:**  
    –û–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∏—Å—Ö–æ–¥—è –∏–∑:
    - –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
    - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤;
    - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ë–î (`max_connections` –≤ PostgreSQL –∏ –¥—Ä.).
–ü—Ä–∏–º–µ—Ä:
```yaml
spring.datasource.hikari.maximum-pool-size: 20
```
## üí§ 2. `minimumIdle` ‚Äî **–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**
> üìå _–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ä–∞–≤–Ω–æ `maximumPoolSize` –≤ Hikari_
- üìñ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**  
    –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤ –ø—É–ª–µ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –∫–∞–∫ –º–∏–Ω–∏–º—É–º N –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö (–≥–æ—Ç–æ–≤—ã—Ö) —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
- üöÄ **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:**
    - –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ 0, –ø—Ä–∏ –≤—Å–ø–ª–µ—Å–∫–µ –Ω–∞–≥—Ä—É–∑–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è ¬´–Ω–∞ –ª–µ—Ç—É¬ª, —á—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è.
    - –ï—Å–ª–∏ –≤—ã—Å—Ç–∞–≤–∏—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ ‚Äî –º–æ–∂–Ω–æ –¥–µ—Ä–∂–∞—Ç—å –ª–∏—à–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∑—Ä—è, –Ω–∞–≥—Ä—É–∂–∞—è –ë–î.
- üß† **–°–æ–≤–µ—Ç:**  
    –û–±—ã—á–Ω–æ ‚Äî 20‚Äì50% –æ—Ç `maximumPoolSize`.
–ü—Ä–∏–º–µ—Ä:
```yaml
spring.datasource.hikari.minimum-idle: 5
```
## ‚è≥ 3. `connectionTimeout` ‚Äî **—Ç–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**
> üìå _–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30 —Å–µ–∫_
- üìñ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**  
    –£–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –º–∞–∫—Å–∏–º—É–º –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥ –ø–æ—Ç–æ–∫ –±—É–¥–µ—Ç –∂–¥–∞—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–∑ –ø—É–ª–∞, –ø—Ä–µ–∂–¥–µ —á–µ–º –≤—ã–±—Ä–æ—Å–∏—Ç—å `SQLException`.
- üöÄ **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:**
    - –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç ¬´–ø–æ–¥–≤–µ—Å–∏—Ç—å¬ª –ø–æ—Ç–æ–∫.
    - –°–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ ‚Äî –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ —á–∞—Å—Ç—ã–º –æ—à–∏–±–∫–∞–º –ø—Ä–∏ –ø–∏–∫–∞—Ö –Ω–∞–≥—Ä—É–∑–∫–∏.
- üß† **–°–æ–≤–µ—Ç:**  
    1‚Äì5 —Å–µ–∫—É–Ω–¥ ‚Äî —Ö–æ—Ä–æ—à–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
–ü—Ä–∏–º–µ—Ä:
```yaml
spring.datasource.hikari.connection-timeout: 5000
```
## ‚åõ 4. `idleTimeout` ‚Äî **–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**
> üìå _–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 600 000 –º—Å (10 –º–∏–Ω)_
- üìñ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**  
    –£–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–æ–∂–µ—Ç ¬´–ø—Ä–æ—Å—Ç–∞–∏–≤–∞—Ç—å¬ª –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø—É–ª –µ–≥–æ –∑–∞–∫—Ä–æ–µ—Ç.
- üöÄ **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:**
    - –ü–æ–º–æ–≥–∞–µ—Ç –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã.
    - –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ ‚Äî –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —á–∞—Å—Ç–æ–º—É —Å–æ–∑–¥–∞–Ω–∏—é –Ω–æ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
- üß† **–°–æ–≤–µ—Ç:**  
    –ü–æ–¥–±–∏—Ä–∞–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–±—ã—á–Ω–æ 30 —Å–µ–∫ ‚Äî 5 –º–∏–Ω.
–ü—Ä–∏–º–µ—Ä:
```yaml
spring.datasource.hikari.idle-timeout: 30000
```
## üß® 5. `maxLifetime` ‚Äî **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**
> üìå _–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30 –º–∏–Ω_
- üìñ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**  
    –ß–µ—Ä–µ–∑ —ç—Ç–æ –≤—Ä–µ–º—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç–æ –∏ –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–æ–≤—ã–º, –¥–∞–∂–µ –µ—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ.
- üöÄ **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:**
    - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç ¬´–ø—Ä–æ—Ç—É—Ö–∞–Ω–∏–µ¬ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, –µ—Å–ª–∏ –ë–î –æ–±—Ä—ã–≤–∞–µ—Ç —Å–µ—Å—Å–∏–∏ –ø–æ —Ç–∞–π–º–∞—É—Ç—É.
    - –£—Å—Ç—Ä–∞–Ω—è–µ—Ç —É—Ç–µ—á–∫–∏ –∏ –∑–∞–≤–∏—Å—à–∏–µ –∫–æ–Ω–Ω–µ–∫—Ç—ã.
- ‚ö†Ô∏è –í–∞–∂–Ω–æ:  
    –≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ **–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–Ω—å—à–µ**, —á–µ–º —Ç–∞–π–º–∞—É—Ç –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ –ë–î, —á—Ç–æ–±—ã –ø—É–ª —É—Å–ø–µ–ª –∑–∞–∫—Ä—ã—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
–ü—Ä–∏–º–µ—Ä:
```yaml
spring.datasource.hikari.max-lifetime: 1800000
```
## üß™ 6. `validationTimeout` ‚Äî **—Ç–∞–π–º–∞—É—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**
- üìñ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**  
    –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è, –≤ —Ç–µ—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—É–ª –ø—Ä–æ–≤–µ—Ä—è–µ—Ç ¬´–∂–∏–≤–æ–µ¬ª –ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.
- üöÄ **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:**  
    –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –±—É–¥–µ—Ç –≤–∏—Å–µ—Ç—å —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ ‚Äî —É–≤–µ–ª–∏—á–∏—Ç—Å—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω–Ω–µ–∫—Ç–∞.
–ü—Ä–∏–º–µ—Ä:
```yaml
spring.datasource.hikari.validation-timeout: 3000
```
## ‚ö° 7. `leakDetectionThreshold` ‚Äî **–ø–æ—Ä–æ–≥ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**
- üìñ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**  
    –ï—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ –±—ã–ª–æ –∑–∞–∫—Ä—ã—Ç–æ –≤ —Ç–µ—á–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, Hikari –≤—ã–≤–µ–¥–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –ª–æ–≥.
- üöÄ **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:**  
    –ü–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –º–µ—Å—Ç–∞ –≤ –∫–æ–¥–µ, –≥–¥–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –ø—É–ª.
- üß† **–°–æ–≤–µ—Ç:**  
    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á—É—Ç—å –±–æ–ª—å—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä 2‚Äì5 —Å–µ–∫—É–Ω–¥.
–ü—Ä–∏–º–µ—Ä:
```yaml
spring.datasource.hikari.leak-detection-threshold: 5000
```
## üß≠ –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

|–ü–∞—Ä–∞–º–µ—Ç—Ä|–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ|–í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å|–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏|
|---|---|---|---|
|`maximumPoolSize`|–ú–∞–∫—Å. —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π|–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏|10‚Äì50 –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏|
|`minimumIdle`|–ú–∏–Ω–∏–º—É–º –ø—Ä–æ—Å—Ç–∞–∏–≤–∞—é—â–∏—Ö|–ë—ã—Å—Ç—Ä–µ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–Ω–µ–∫—Ç–∞|20‚Äì50% –æ—Ç max|
|`connectionTimeout`|–¢–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è|–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ–≤|1‚Äì5 —Å–µ–∫—É–Ω–¥|
|`idleTimeout`|–ñ–∏–∑–Ω—å –ø—Ä–æ—Å—Ç–∞–∏–≤–∞—é—â–∏—Ö|–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤|30 —Å–µ–∫ ‚Äî 5 –º–∏–Ω|
|`maxLifetime`|–°—Ä–æ–∫ –∂–∏–∑–Ω–∏ –∫–æ–Ω–Ω–µ–∫—Ç–∞|–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –¥–æ–ª–≥–∏—Ö –∞–ø—Ç–∞–π–º–∞—Ö|–ß—É—Ç—å –º–µ–Ω—å—à–µ —Ç–∞–π–º–∞—É—Ç–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ë–î|
|`validationTimeout`|–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è|–£—Å–∫–æ—Ä—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π|2‚Äì5 —Å–µ–∫—É–Ω–¥|
|`leakDetectionThreshold`|–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫|–ü–æ–º–æ–≥–∞–µ—Ç –Ω–∞–π—Ç–∏ –∑–∞–±—ã—Ç—ã–µ `close()`|2‚Äì5 —Å–µ–∫—É–Ω–¥|
## üèÅ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- üß† **–ù–µ —Å—Ç–∞–≤—å `maximumPoolSize` —Ä–∞–≤–Ω—ã–º `max_connections` –ë–î** ‚Äî –æ—Å—Ç–∞–≤—å –∑–∞–ø–∞—Å –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
- üß≠ **–¢–µ—Å—Ç–∏—Ä—É–π –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π** ‚Äî –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- üîÑ **–°–ª–µ–¥–∏ –∑–∞ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –ø—É–ª–∞** ‚Äî Hikari –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Micrometer / Prometheus / Grafana.
- üßº **–ó–∞–∫—Ä—ã–≤–∞–π —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** (try-with-resources) ‚Äî –¥–∞–∂–µ —Å –ø—É–ª–æ–º —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ.