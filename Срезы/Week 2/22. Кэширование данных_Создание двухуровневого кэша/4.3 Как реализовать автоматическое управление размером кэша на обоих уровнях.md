–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–º –∫—ç—à–∞ –Ω–∞ –æ–±–æ–∏—Ö —É—Ä–æ–≤–Ω—è—Ö (L1 –∏ L2) –ø–æ–∑–≤–æ–ª—è–µ—Ç **–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**. –í Java —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ **–ø–æ–ª–∏—Ç–∏–∫–∏ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è, –ª–∏–º–∏—Ç—ã –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –ø–æ –æ–±—ä—ë–º—É –ø–∞–º—è—Ç–∏**, –∞ —Ç–∞–∫–∂–µ —á–µ—Ä–µ–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ TTL.
### **1Ô∏è‚É£ L1 (–ª–æ–∫–∞–ª—å–Ω—ã–π in-memory –∫—ç—à)**
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:** Caffeine, Guava Cache.
- **–ü–æ–¥—Ö–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–º:**
    - **Maximum size:** –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
    - **Maximum weight / custom size:** —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞ –≤ –ø–∞–º—è—Ç–∏.
    - **–ü–æ–ª–∏—Ç–∏–∫–∏ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è:** LRU (Least Recently Used), LFU (Least Frequently Used).
**–ü—Ä–∏–º–µ—Ä Caffeine:**
```java
Cache<String, Object> l1Cache = Caffeine.newBuilder()
    .maximumSize(1000)               // –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    .expireAfterWrite(Duration.ofMinutes(5)) // TTL
    .build();
```
### **2Ô∏è‚É£ L2 (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∫—ç—à)**
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ / –°–µ—Ä–≤–∏—Å—ã:** Redis, Memcached.
- **–ü–æ–¥—Ö–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–º:**
    - **maxmemory (Redis):** –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –æ–±—â–∏–π –æ–±—ä—ë–º –ø–∞–º—è—Ç–∏, –¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–ª—è –∫—ç—à–∞.
    - **–ü–æ–ª–∏—Ç–∏–∫–∞ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è:** `allkeys-lru`, `volatile-lru`, `allkeys-random`, `volatile-ttl`.
    - **TTL / Expiration:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏.
**–ü—Ä–∏–º–µ—Ä Redis:**
```text
maxmemory 512mb
maxmemory-policy allkeys-lru
```
### **3Ô∏è‚É£ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ **hit ratio, –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –±–∞–∑—É, –ø–∞–º—è—Ç—å** ‚Üí –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä—ã –∫—ç—à–∞.
- –ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å L1 –∏ L2 —Å —Ä–∞–∑–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–æ–π:
    - L1: –º–∞–ª–µ–Ω—å–∫–∏–π, –±—ã—Å—Ç—Ä—ã–π, LRU
    - L2: –±–æ–ª—å—à–æ–π, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π, LFU –∏–ª–∏ TTL
### **4Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—á–∏—â–µ–Ω–∏–µ**
- –î–ª—è L1: –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å–∞–º–∏ —É–¥–∞–ª—è—é—Ç ¬´—Å—Ç–∞—Ä—ã–µ¬ª —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞.
- –î–ª—è L2: Redis/Memcached —É–ø—Ä–∞–≤–ª—è—é—Ç –ø–∞–º—è—Ç—å—é –∏ –≤—ã—Ç–µ—Å–Ω—è—é—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —Å–æ–≥–ª–∞—Å–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–µ.
üí° **–ò—Ç–æ–≥:**  
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–º –∫—ç—à–∞ = **–ª–∏–º–∏—Ç—ã –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É/–æ–±—ä—ë–º—É, –ø–æ–ª–∏—Ç–∏–∫–∞ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è, TTL, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**.
- L1 ‚Üí –±—ã—Å—Ç—Ä–æ–µ in-memory —Ä–µ—à–µ–Ω–∏–µ —Å LRU/LFU.
- L2 ‚Üí —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∫—ç—à —Å maxmemory –∏ –ø–æ–ª–∏—Ç–∏–∫–æ–π –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è.