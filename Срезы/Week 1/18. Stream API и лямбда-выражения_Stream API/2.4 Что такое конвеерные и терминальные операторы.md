В **Stream API** операции делятся на два типа: **конвеерные (intermediate)** и **терминальные (terminal)**. Это ключевое понятие для понимания работы потоков в Java.
## 1. Конвеерные операции (Intermediate)
### Основные характеристики:
- **Возвращают новый Stream**
- **Ленивые** — не выполняются сразу, а только при вызове терминальной операции
- Позволяют **цепочку операций**, формируя «конвейер» обработки данных
### Примеры:

|Операция|Описание|
|---|---|
|`filter`|отбор элементов по условию (`Predicate`)|
|`map`|преобразование элементов (`Function`)|
|`sorted`|сортировка|
|`distinct`|удаление дубликатов|
|`limit`|ограничение количества элементов|

### Пример:
```java
List<String> names = List.of("Anna", "Bob", "Charlie");

Stream<String> stream = names.stream()
                             .filter(s -> s.length() > 3)
                             .map(String::toUpperCase); // конвеерные операции
```
> На этом этапе **ничего ещё не выполнено**, stream «готовится к обработке».
## 2. Терминальные операции (Terminal)
### Основные характеристики:
- **Запускают обработку потока**
- **Возвращают результат**, а не Stream
- После терминальной операции поток **не может использоваться повторно**
### Примеры:

|Операция|Описание|
|---|---|
|`forEach`|выполнение действия над каждым элементом (`Consumer`)|
|`collect`|сбор результата в коллекцию или другой контейнер|
|`reduce`|агрегация элементов|
|`count`|подсчёт элементов|
|`anyMatch`, `allMatch`, `noneMatch`|проверка условия для элементов|
### Пример:
```java
List<String> result = names.stream()
                           .filter(s -> s.length() > 3) // промежуточная
                           .map(String::toUpperCase)    // промежуточная
                           .toList();                   // терминальная
System.out.println(result);
```
> Только вызов `toList()` **заставляет поток обработать элементы**.
## 3. Важные моменты
1. Конвеерные операции **ленивы** — выполняются только при терминальной операции.
2. Терминальная операция **«закрывает» поток**, дальше использовать его нельзя.
3. Можно строить цепочки конвеерных операций **любого размера**, но результат появится только при терминальном вызове.