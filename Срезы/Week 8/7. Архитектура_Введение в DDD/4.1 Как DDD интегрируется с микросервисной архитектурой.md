–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è **DDD (Domain-Driven Design)** —Å **–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π** —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∏–∑ —Å–∞–º—ã—Ö —É–¥–∞—á–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫, –ø–æ—Ç–æ–º—É —á—Ç–æ DDD –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã —Å–µ—Ä–≤–∏—Å–æ–≤, –∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ.
# ‚úÖ –ö–∞–∫ DDD –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏?
## 1. **Bounded Context = –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å**
–°–∞–º–∞—è –≤–∞–∂–Ω–∞—è —Å–≤—è–∑—å:
> **–û–¥–∏–Ω –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å = –æ–¥–∏–Ω Bounded Context (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç)**
Bounded Context –∑–∞–¥–∞—ë—Ç:
- –≥—Ä–∞–Ω–∏—Ü—ã –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏,
- —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö,
- —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞,
- —Å–≤–æ—é —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é.
–≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞.
**–ü—Ä–∏–º–µ—Ä:**
- –ö–æ–Ω—Ç–µ–∫—Å—Ç _Billing_ ‚Üí —Å–µ—Ä–≤–∏—Å Billing
- –ö–æ–Ω—Ç–µ–∫—Å—Ç _Delivery_ ‚Üí —Å–µ—Ä–≤–∏—Å Delivery
- –ö–æ–Ω—Ç–µ–∫—Å—Ç _Customer_ ‚Üí —Å–µ—Ä–≤–∏—Å Customer
–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–Ω–æ–º–µ–Ω –∏ –∏–º–µ–µ—Ç —Å–≤–æ—é –º–æ–¥–µ–ª—å.
# 2. **–ê–≥—Ä–µ–≥–∞—Ç—ã —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–µ—Ä–≤–∏—Å–∞**
–í–Ω—É—Ç—Ä–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è DDD-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:
- Entities
- Value Objects
- Aggregates
- Domain Services
- Repositories
- Domain Events
–ê–≥—Ä–µ–≥–∞—Ç—ã –ø–æ–º–æ–≥–∞—é—Ç:
- –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–∏–≤–∞—Ç—å –º–æ–¥–µ–ª—å,
- –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞,
- –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞ (strong consistency).
# 3. **–û–±–º–µ–Ω –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏ —á–µ—Ä–µ–∑ Domain Events**
DDD + –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç:
- **Domain Events**
- **Event-Driven –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é (Kafka, RabbitMQ, NATS)**
–ü—Ä–∏–º–µ—Ä:
- OrderService —Å–æ–∑–¥–∞—ë—Ç –∑–∞–∫–∞–∑ ‚Üí –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ _OrderCreated_
- InventoryService —Å–ª—É—à–∞–µ—Ç ‚Üí —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä
- BillingService —Å–ª—É—à–∞–µ—Ç ‚Üí —Å–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–Ω—å–≥–∏
–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –æ—Å—Ç–∞—ë—Ç—Å—è –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–º –∏ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
# 4. **–ê–Ω—Ç–∏-–∫–æ—Ä—Ä—É–ø—Ü–∏–æ–Ω–Ω—ã–µ —Å–ª–æ–∏ (ACL)**
–ü—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ –¥–≤—É—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –º–æ–¥–µ–ª–∏ –Ω–µ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è.
DDD –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç **Anti-Corruption Layer**, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏—Ö—Å—è –º–æ–¥–µ–ª–µ–π –∏ —É—Ç–µ—á–µ–∫ –¥–æ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤.
–ü—Ä–∏–º–µ—Ä:
- –°–µ—Ä–≤–∏—Å Payments –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `PaymentInfo`
- –°–µ—Ä–≤–∏—Å Orders –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `OrderPaymentStatus`
- –ú–µ–∂–¥—É –Ω–∏–º–∏ —Å–ª–æ–π –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è DTO ‚Üí domain ‚Üí external DTO
–¢.–µ. –Ω–∏–∫—Ç–æ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.
# 5. **Ubiquitous Language –≤ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ —Å–≤–æ—è**
–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞–∂–¥–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –∏–º–µ—Ç—å **—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å**.
–ü—Ä–∏–º–µ—Ä:
- –í —Å–µ—Ä–≤–∏—Å–µ _Delivery_ —Å–ª–æ–≤–æ "Order" –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å "–ó–∞–∫–∞–∑ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫—É".
- –í —Å–µ—Ä–≤–∏—Å–µ _E-Commerce_ —Å–ª–æ–≤–æ "Order" ‚Äî —ç—Ç–æ –ø–æ–∫—É–ø–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞.
–û–Ω–∏ –Ω–µ –æ–±—è–∑–∞–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å.
DDD –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Ç–µ—Ä–º–∏–Ω–æ–≤.
# 6. **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ = –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å –¥–æ–º–µ–Ω–æ–≤**
DDD –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å –¥–æ–º–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π.
–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã —É—Å–∏–ª–∏–≤–∞—é—Ç —ç—Ç—É –∏–¥–µ—é:
- —Å–≤–æ—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö,
- —Å–≤–æ–π API,
- —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è,
- —Å–≤–æ–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã.
–ê–≥—Ä–µ–≥–∞—Ç—ã –ø—Ä–∏ —ç—Ç–æ–º –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω—è—Ç—å—Å—è **–≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**, –∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Ö –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–∏—Å–∞.
# 7. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: Strong –≤–Ω—É—Ç—Ä–∏, Eventual –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏**
DDD –≥–æ–≤–æ—Ä–∏—Ç:
> –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–≥–æ–π.
–ù–æ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö:
- **–≤–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞** ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ACID,
- **–º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏** ‚Äî eventual consistency.
–≠—Ç–æ –±–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.
–ü—Ä–∏–º–µ—Ä:
- OrderService —Å–æ–∑–¥–∞–ª –∑–∞–∫–∞–∑ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- InventoryService –ø–æ–ª—É—á–∏—Ç —Å–æ–±—ã—Ç–∏–µ –ø–æ–∑–∂–µ –∏ –æ–±–Ω–æ–≤–∏—Ç –æ—Å—Ç–∞—Ç–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
# 8. **–°–∞–≥–∞ ‚Üí —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏**
DDD –æ–ø–∏—Å—ã–≤–∞–µ—Ç –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã –∫–∞–∫ –¥–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è.
–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã —Ä–µ–∞–ª–∏–∑—É—é—Ç —ç—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã —á–µ—Ä–µ–∑:
- Saga (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∏–ª–∏ —Ö–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—è)
- Event sourcing
- Kafka-based workflows
–≠—Ç–æ —Å–≤—è–∑—ã–≤–∞–µ—Ç DDD-—Å–æ–±—ã—Ç–∏—è –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã–µ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏.
# üéØ –ò—Ç–æ–≥: –ö–∞–∫ DDD –ø–æ–º–æ–≥–∞–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã?

|–ß—Ç–æ –¥–∞—ë—Ç DDD|–ö–∞–∫ –ø–æ–º–æ–≥–∞–µ—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º|
|---|---|
|Bounded Context|–ß—ë—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã —Å–µ—Ä–≤–∏—Å–æ–≤|
|Aggregates|–ú–æ–¥–µ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π|
|Domain Events|–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤|
|ACL|–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–º–µ—à–∏–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π|
|Ubiquitous Language|–ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤|
|Entities / Value Objects|–Ø—Å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞|
