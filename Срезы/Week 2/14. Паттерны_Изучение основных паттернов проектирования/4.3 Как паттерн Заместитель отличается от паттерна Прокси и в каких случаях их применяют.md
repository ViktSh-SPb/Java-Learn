На самом деле, **паттерн Заместитель (Proxy)** и **Прокси** — это **один и тот же паттерн** в классической терминологии GoF. Иногда в русской литературе слово «Заместитель» используется как перевод слова **Proxy**.
Однако, бывают **разные виды прокси**, и их используют в разных ситуациях:
### 1️⃣ Суть паттерна Proxy / Заместитель
- Создаётся объект, который **представляет другой объект** и контролирует к нему доступ.
- Клиент работает с **интерфейсом прокси**, не зная, что это не сам реальный объект.
- Прокси может:
    1. **Контролировать доступ** (например, проверка прав).
    2. **Лениво инициализировать** объект (Lazy Loading).
    3. **Добавлять функциональность** (логирование, кэширование).
### 2️⃣ Виды Proxy и примеры применения

|Тип прокси|Описание|Пример использования|
|---|---|---|
|**Защитный (Protection Proxy)**|Контролирует права доступа к объекту|Проверка роли пользователя перед вызовом метода|
|**Виртуальный (Virtual Proxy)**|Лениво создаёт тяжёлый объект только при необходимости|Загрузка изображений по требованию в GUI|
|**Удалённый (Remote Proxy)**|Представляет объект, находящийся в другой JVM или на сервере|RMI, gRPC, REST-клиенты|
|**Смарт-прокси (Smart Proxy)**|Добавляет дополнительное поведение при доступе к объекту|Логирование, подсчёт обращений|
### 3️⃣ Отличие от Decorator
- **Decorator:** динамически добавляет функциональность к объекту.
- **Proxy:** контролирует доступ к объекту, а дополнительная функциональность вторична.
Пример:
```java
interface Image { void display(); }

// Реальный объект
class RealImage implements Image {
    private String filename;
    RealImage(String filename) { this.filename = filename; }
    public void display() { System.out.println("Displaying " + filename); }
}

// Proxy
class ProxyImage implements Image {
    private RealImage realImage;
    private String filename;
    ProxyImage(String filename) { this.filename = filename; }
    public void display() {
        if(realImage == null) realImage = new RealImage(filename); // lazy load
        System.out.println("Proxy controlling access");
        realImage.display();
    }
}

// Использование
public class Main {
    public static void main(String[] args){
        Image img = new ProxyImage("photo.jpg");
        img.display(); // Proxy controlling access + Displaying photo.jpg
        img.display(); // объект уже создан, повторно lazy load не происходит
    }
}
```
### ✅ Итог
- **Proxy / Заместитель** — один и тот же паттерн, используется для контроля доступа или оптимизации.
- **Decorator** — для расширения функциональности.
- Прокси применяют, когда:
    1. Нужно **отложенное создание** ресурсоёмких объектов.
    2. Нужна **защита доступа**.
    3. Требуется **логирование или кэширование**.