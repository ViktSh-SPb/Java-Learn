–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –¥–∞—ë—Ç —Ü–µ–ª—ã–π —Ä—è–¥ **—Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤**, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π üëá
### üèé 1. **–ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ –ë–î ‚Äî –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è:
- —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è,
- –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è,
- –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏.
‚úÖ –ü—É–ª –ø–æ–∑–≤–æ–ª—è–µ—Ç **–ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**, —Å–≤–æ–¥—è —ç—Ç–∏ –∑–∞—Ç—Ä–∞—Ç—ã –∫ –º–∏–Ω–∏–º—É–º—É.  
üìà –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –∑–∞–º–µ—Ç–Ω–æ –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.
### üïí 2. **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞**
–ë–µ–∑ –ø—É–ª–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∂–¥—ë—Ç —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.  
–° –ø—É–ª–æ–º ‚Äî —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ **–≤—ã–¥–∞—ë—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ**, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ.  
‚è≥ –≠—Ç–æ –¥–∞—ë—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –¥–∞–∂–µ –ø—Ä–∏ —Ä–æ—Å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏.
### üß† 3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –±–∞–∑—É**
–ü—É–ª –ø–æ–∑–≤–æ–ª—è–µ—Ç **–∑–∞–¥–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**.  
‚û° –≠—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –ë–î –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –∏ –ø–æ–º–æ–≥–∞–µ—Ç —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É.
üìå –ù–∞–ø—Ä–∏–º–µ—Ä:  
–ï—Å–ª–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ 500 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞ –ø—É–ª –æ–≥—Ä–∞–Ω–∏—á–µ–Ω 50 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏, —Ç–æ –±–∞–∑–∞ –Ω–µ ‚Äú—Å–ª–æ–º–∞–µ—Ç—Å—è‚Äù –∏–∑-–∑–∞ 500 –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å–µ—Å—Å–∏–π.
### üßπ 4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äú–ø—Ä–æ—Ç—É—Ö—à–∏–º–∏‚Äù —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏**
–•–æ—Ä–æ—à–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—É–ª–æ–≤:
- –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –≤—ã–¥–∞—á–µ–π;
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç ‚Äú–º–µ—Ä—Ç–≤—ã–µ‚Äù –∏–ª–∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ;
- –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∑–¥–æ—Ä–æ–≤—å–µ –ø—É–ª–∞ –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.
‚úÖ –≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–æ–∫ —Ç–∏–ø–∞ _"connection is closed"_.
### üß∞ 5. **–ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å JDBC –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏**
–ü—É–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, **HikariCP**, **C3P0**, **Apache DBCP**) –ª–µ–≥–∫–æ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫ JDBC –∏ Spring.  
–û–±—ã—á–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `DataSource`, –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äú–ø—Ä–æ–∑—Ä–∞—á–Ω–æ‚Äù.
### üîÅ 6. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
–° –ø—É–ª–æ–º –º–æ–∂–Ω–æ:
- –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å **–±–æ–ª—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤** –ø—Ä–∏ —Ç–æ–º –∂–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π,
- –≥–∏–±–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –ø—É–ª–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏,
- —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã —Å–µ—Ä–≤–µ—Ä–∞.
### üõ° 7. **–ö–æ–Ω—Ç—Ä–æ–ª—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç:
- –º–µ—Ç—Ä–∏–∫–∏ (–∑–∞–Ω—è—Ç–æ—Å—Ç—å, –æ–∂–∏–¥–∞–Ω–∏–µ, idle-–∫–æ–Ω–Ω–µ–∫—Ç—ã),
- –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ,
- –≥–∏–±–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—Ç–∞–π–º–∞—É—Ç—ã, –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π).
–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –ø–æ–¥ —Ä–µ–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è.
### üìå –ü—Ä–∏–º–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º HikariCP:
```java
HikariConfig config = new HikariConfig();
config.setJdbcUrl("jdbc:postgresql://localhost:5432/mydb");
config.setUsername("user");
config.setPassword("pass");
config.setMaximumPoolSize(20);
HikariDataSource ds = new HikariDataSource(config);

try (Connection conn = ds.getConnection()) {
    // –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –ë–î –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
}
```
‚úÖ **–ò—Ç–æ–≥:**

|–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ|–ß—Ç–æ –¥–∞—ë—Ç|
|---|---|
|–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π|–£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤|
|–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø|–ú–µ–Ω—å—à–µ –∑–∞–¥–µ—Ä–∂–µ–∫|
|–ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–≥—Ä—É–∑–∫–∏|–ó–∞—â–∏—Ç–∞ –ë–î –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏|
|–ê–≤—Ç–æ—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏|–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã|
|–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å|–†–∞–±–æ—Ç–∞ –ø–æ–¥ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π|
|–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥|–õ—ë–≥–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∞|
üëâ –ü–æ—ç—Ç–æ–º—É **–ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–µ-—Ñ–∞–∫—Ç–æ** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–∏—Å—Ç–µ–º –Ω–∞ JDBC.