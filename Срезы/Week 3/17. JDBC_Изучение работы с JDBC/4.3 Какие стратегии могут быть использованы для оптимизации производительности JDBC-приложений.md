JDBC –ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ –¥–æ–≤–æ–ª—å–Ω–æ ‚Äú–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π‚Äù API, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–ª—å–Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, **–∫–∞–∫ –∏–º–µ–Ω–Ω–æ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏**.  
## üß± 1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (Connection Pooling)** ‚Äî _–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ_
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ –ë–î ‚Äî **–æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –¥–æ—Ä–æ–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:
- –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø—É–ª–µ;
- –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤;
- —Å–æ–∫—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞–∫–ª–∞–¥–Ω–æ–π —Ä–∞—Å—Ö–æ–¥ –∏ –∑–∞–¥–µ—Ä–∂–∫–∏.
‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- [HikariCP](https://github.com/brettwooldridge/HikariCP) ‚Äî –±—ã—Å—Ç—Ä—ã–π –∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –ø—É–ª.
- Apache DBCP, C3P0 ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã.
üìÑ –ü—Ä–∏–º–µ—Ä:
```java
HikariConfig config = new HikariConfig();
config.setJdbcUrl("jdbc:postgresql://localhost:5432/mydb");
config.setUsername("user");
config.setPassword("pass");
config.setMaximumPoolSize(10);
HikariDataSource dataSource = new HikariDataSource(config);

try (Connection conn = dataSource.getConnection()) {
    // –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
}
```
## üß† 2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `PreparedStatement` –≤–º–µ—Å—Ç–æ `Statement`**
- –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –æ–¥–∏–Ω —Ä–∞–∑, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–Ω–æ–≥–æ —Ä–∞–∑.
- –£–º–µ–Ω—å—à–∞–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –ø–∞—Ä—Å–∏–Ω–≥ –∏ –ø–ª–∞–Ω –∑–∞–ø—Ä–æ—Å–∞.
- –ó–∞—â–∏—â–∞–µ—Ç –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π.
üìÑ –ü—Ä–∏–º–µ—Ä:
```java
String sql = "SELECT * FROM users WHERE id = ?";
try (PreparedStatement ps = conn.prepareStatement(sql)) {
    ps.setInt(1, 10);
    try (ResultSet rs = ps.executeQuery()) { ... }
}
```
üëâ –ß–∞—Å—Ç–æ –°–£–ë–î –∫—ç—à–∏—Ä—É–µ—Ç –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é.
## üß≠ 3. **–ü–∞–∫–µ—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (Batching)**
–ï—Å–ª–∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç–µ **–º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫**, –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `addBatch()`:
üìÑ –ü—Ä–∏–º–µ—Ä:
```java
String sql = "INSERT INTO users(name) VALUES (?)";
try (PreparedStatement ps = conn.prepareStatement(sql)) {
    for (int i = 0; i < 1000; i++) {
        ps.setString(1, "User " + i);
        ps.addBatch();
    }
    ps.executeBatch();  // –æ–¥–Ω–∞ —Å–µ—Ç–µ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ 1000
}
```
‚úÖ –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –ë–î.
## üïí 4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –≤—ã–±–æ—Ä–æ–∫ (fetch size)**
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é JDBC –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–µ—Å—å ResultSet –≤ –ø–∞–º—è—Ç—å ‚Äî –ø–ª–æ—Ö–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö.
üìÑ –ü—Ä–∏–º–µ—Ä:
```java
Statement stmt = conn.createStatement();
stmt.setFetchSize(500); // –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å –ø–æ 500 —Å—Ç—Ä–æ–∫ –∑–∞ —Ä–∞–∑
ResultSet rs = stmt.executeQuery("SELECT * FROM big_table");
```
üëâ –ü–æ–∑–≤–æ–ª—è–µ—Ç:
- —ç–∫–æ–Ω–æ–º–∏—Ç—å –ø–∞–º—è—Ç—å;
- —É–º–µ–Ω—å—à–∞—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏;
- –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Ç–æ–∫–æ–≤–æ.
## üîÅ 5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏**
- –ù–µ –¥–µ—Ä–∂–∏—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –¥–æ–ª—å—à–µ, —á–µ–º –Ω—É–∂–Ω–æ.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **batched commits**, –µ—Å–ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã.
- –Ø–≤–Ω–æ –æ—Ç–∫–ª—é—á–∞–π—Ç–µ `autoCommit`, –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞ –æ–¥–Ω—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.
üìÑ –ü—Ä–∏–º–µ—Ä:
```java
conn.setAutoCommit(false);
try {
    // –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π
    conn.commit();
} catch (Exception e) {
    conn.rollback();
}
```
## üöÄ 6. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ –¥—Ä–∞–π–≤–µ—Ä–æ–≤**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ **–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π JDBC-–¥—Ä–∞–π–≤–µ—Ä** (–Ω–∞–ø—Ä–∏–º–µ—Ä, native PostgreSQL Driver, –∞ –Ω–µ ODBC bridge).
- –°–æ–≥–ª–∞—Å—É–π—Ç–µ —Ç–∏–ø—ã Java –∏ SQL ‚Äî —ç—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏.
## üìä 7. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è)**
- –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑.
- –ú–æ–∂–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å:
    - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã SELECT-–∑–∞–ø—Ä–æ—Å–æ–≤,
    - –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è,
    - –æ–±—ä–µ–∫—Ç—ã —Å—É—â–Ω–æ—Å—Ç–µ–π.
‚úÖ –ü–æ–¥—Ö–æ–¥—ã:
- –õ–æ–∫–∞–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (`ConcurrentHashMap`, Caffeine)
- Redis / Memcached
- 2nd level cache –≤ ORM (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö JDBC).
## üìâ 8. **–í—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤ –∏ —Ç—é–Ω–∏–Ω–≥ –¥—Ä–∞–π–≤–µ—Ä–∞**
–ú–Ω–æ–≥–∏–µ JDBC-–¥—Ä–∞–π–≤–µ—Ä—ã –∏–º–µ—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `reWriteBatchedInserts` –≤ PostgreSQL), –∫–æ—Ç–æ—Ä—ã–µ:
- —É–º–µ–Ω—å—à–∞—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ round-trips –∫ –ë–î,
- –ø–æ–∑–≤–æ–ª—è—é—Ç –¥—Ä–∞–π–≤–µ—Ä—É –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è.
üìÑ –ü—Ä–∏–º–µ—Ä –¥–ª—è PostgreSQL:
```
jdbc:postgresql://localhost:5432/mydb?reWriteBatchedInserts=true
```
## üßº 9. **–ó–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ try-with-resources)**
- –£—Ç–µ—á–∫–∏ `Connection`, `Statement` –∏ `ResultSet` ‚Üí –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `try-with-resources`, —á—Ç–æ–±—ã —Ä–µ—Å—É—Ä—Å—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–ª–∏—Å—å.
üìÑ –ü—Ä–∏–º–µ—Ä:
```java
try (Connection conn = ds.getConnection();
     PreparedStatement ps = conn.prepareStatement(sql);
     ResultSet rs = ps.executeQuery()) {
    ...
}
```
## üß≠ 10. **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –ø–ª–∞–Ω–∞ –∑–∞–ø—Ä–æ—Å–æ–≤**
- –ú–µ–¥–ª–µ–Ω–Ω—ã–µ JDBC-–∑–∞–ø—Ä–æ—Å—ã —á–∞—Å—Ç–æ –Ω–µ –∏–∑-–∑–∞ –∫–æ–¥–∞, –∞ –∏–∑-–∑–∞ –ø–ª–æ—Ö–∏—Ö SQL.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
    - `EXPLAIN` / `EXPLAIN ANALYZE`
    - SQL logging (`log4jdbc`)
    - JFR / JMC –∏–ª–∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä—ã.
## üèÅ –†–µ–∑—é–º–µ

|–°—Ç—Ä–∞—Ç–µ–≥–∏—è|–ß—Ç–æ —É–ª—É—á—à–∞–µ—Ç|–ì–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å|
|---|---|---|
|–ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π|–õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, –Ω–∞–≥—Ä—É–∑–∫–∞|–í—Å–µ–≥–¥–∞|
|PreparedStatement|–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å|–ß–∞—Å—Ç–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–ø—Ä–æ—Å—ã|
|Batch –æ–ø–µ—Ä–∞—Ü–∏–∏|–ú–∞—Å—Å–æ–≤–∞—è –≤—Å—Ç–∞–≤–∫–∞/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ|ETL, –º–∏–≥—Ä–∞—Ü–∏–∏|
|Fetch size|–†–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º–∏ –≤—ã–±–æ—Ä–∫–∞–º–∏|–û—Ç—á—ë—Ç—ã, —Å—Ç—Ä–∏–º–∏–Ω–≥|
|–ö–æ–Ω—Ç—Ä–æ–ª—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π|–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å, —Å–∫–æ—Ä–æ—Å—Ç—å|–õ—é–±—ã–µ —Å–ª–æ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏|
|–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã –∏ –¥—Ä–∞–π–≤–µ—Ä|–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è overhead|–ë–∞–∑–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è|
|–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ|–£–º–µ–Ω—å—à–µ–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –ë–î|–ß–∞—Å—Ç—ã–µ SELECT|
|–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–∞|–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è round-trips|–í—Å—Ç–∞–≤–∫–∏, batch|
|–ó–∞–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤|–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫|–í—Å–µ–≥–¥–∞|
|–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ|–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —É–∑–∫–∏—Ö –º–µ—Å—Ç|–ù–∞ —ç—Ç–∞–ø–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏|
