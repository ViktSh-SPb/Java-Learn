**Функциональный интерфейс в Java** — это интерфейс, который содержит **ровно один абстрактный метод**. Он служит _контрактом_ для лямбда-выражений и method reference.
## 1. Формальное определение
Функциональный интерфейс — интерфейс с:
- **1 абстрактным методом**
- любым количеством:
    - `default`-методов
    - `static`-методов
    - методов из `Object` (`toString`, `equals`, `hashCode`)
```java
@FunctionalInterface
public interface Runnable {
    void run();
}
```
## 2. Зачем он нужен
Лямбда **не существует сама по себе** — она всегда приводится к типу функционального интерфейса.
```java
Runnable r = () -> System.out.println("Hello");
```
Здесь:
- `Runnable` — функциональный интерфейс
- лямбда реализует его метод `run()`
## 3. Аннотация `@FunctionalInterface`
Не обязательна, но **крайне полезна**:
```java
@FunctionalInterface
public interface Calculator {
    int calculate(int a, int b);
}
```
Преимущества:
- компилятор проверит, что метод ровно один
- защита от случайного добавления второго абстрактного метода
- документация намерения
❌ Ошибка компиляции:
```java
@FunctionalInterface
interface Bad {
    void a();
    void b(); // ошибка
}
```
## 4. Методы `Object` не считаются
Следующий интерфейс **всё ещё функциональный**:
```java
@FunctionalInterface
interface Printer {
    void print(String s);

    @Override
    String toString();
}
```
Методы `Object` не увеличивают счётчик абстрактных методов.
## 5. Встроенные функциональные интерфейсы (`java.util.function`)
Самые используемые:

|Интерфейс|Метод|Назначение|
|---|---|---|
|`Predicate<T>`|`boolean test(T)`|проверка условия|
|`Function<T,R>`|`R apply(T)`|преобразование|
|`Consumer<T>`|`void accept(T)`|потребление|
|`Supplier<T>`|`T get()`|поставщик|
|`UnaryOperator<T>`|`T apply(T)`|`T → T`|
|`BinaryOperator<T>`|`T apply(T, T)`|`T × T → T`|
Пример:

```java
Predicate<Integer> isPositive = x -> x > 0;
```
## 6. Пользовательский функциональный интерфейс
```java
@FunctionalInterface
public interface Validator<T> {
    boolean validate(T value);
}
```
Использование:
```java
Validator<String> notEmpty = s -> !s.isBlank();
```
## 7. Связь с method reference
Method reference — это тоже реализация функционального интерфейса:
```java
Consumer<String> printer = System.out::println;
```
Эквивалентно:
```java
Consumer<String> printer = s -> System.out.println(s);
```
## 8. Частые ошибки
❌ Больше одного абстрактного метода  
❌ Попытка использовать лямбду без функционального интерфейса  
❌ Сложная логика в лямбде (падает читаемость)
## 9. Кратко
> Функциональный интерфейс — это интерфейс с одним абстрактным методом. Он используется как тип для лямбда-выражений и method reference, позволяя передавать поведение как объект.