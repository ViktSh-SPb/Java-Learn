# Cherry-pick
**Git cherry-pick** - позволяет перенести конкретный коммит из одной ветки в другую, создавая его копию с новым хешем. Это полезно для выборочного копирования изменений без слияния всей ветки.
## Основное использование
```bash
git cherry-pick <хеш_коммита>
```
Пример:
```bash
git cherry-pick a1b2c3d   # применить коммит с хешем a1b2c3d
```
## Ключи

| Опция                             | Описание                                                              |
| --------------------------------- | --------------------------------------------------------------------- |
| <nobr>`-n` / `--no-commit`</nobr> | Применить изменения, но не создавать коммит                           |
| `-e` / `--edit`                   | Позволить изменить сообщение коммита                                  |
| `-x`                              | Добавить в сообщение строку (cherry picked from commit...)            |
| `--abort`                         | Отменить cherry-pick при конфликте                                    |
| `--continue`                      | Продолжить после разрешения конфликтов                                |
| `-m 1`                            | Указать родителя для коммита слияния (если cherry-pick merge-коммита) |
## Примеры
### 1. Перенос одного коммита в текущую ветку
```bash
git checkout main
git cherry-pick a1b2c3d          # скопирует коммит из feature-ветки
```
### 2. Перенос нескольких коммитов
```bash
git cherry-pick a1b2c3d e4f5g6h  # два коммита подряд
```
### 3. Перенос без автоматического коммита
```bash
git cherry-pick -n a1b2c3d       # измененияв рабочей директории
git commit -m "Ручное объединение изменений"
```
### 4. Разрешение конфликтов
Если возник конфликт
1. Исправить файлы вручную
2. Добавить их в индекс: `git add file.txt`
3. Продолжить cherry-pick `git cherry-pick --continue`
## Сценарии использования
### 1. Перенос исправления бага
Допустим, баг исправлен в ветке *fix/login*, а вам нужно применить это исправление в main:
```bash
git checkout main
git cherry-pick abc123        # хеш коммита с исправлением
```
### 2. Выборочное обновление функционала
Если в *feature/new-ui* есть полезные изменения, но вся ветка еще не готова:
```bash
git checkout main
git cherry-pick xyz789        # только нужные коммиты
```
### 3. Отмена ошибочного коммита
```bash
git revert a1b2c3d            # создаем коммит-отмену
git cherry-pick -m 1 a1b2c3d  # для merge-коммитов
```
## Ограничения
1. **Конфликты** - если изменения в целевом коммите противоречат текущей ветке.
2. **Новый хеш** - cherry-pick создает копию коммита, а не переносит оригинал.
3. **История** - может усложнить граф, если использовать бездумно.
## Отличия git cherry-pick от git merge

| git cherry-pick            | git merge                    |
| -------------------------- | ---------------------------- |
| Копирует отдельные коммиты | Сливает всю ветку            |
| Точечное применение        | Полная интеграция            |
| Подходит для исправлений   | Лучше для долгоживущих веток |

