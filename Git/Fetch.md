# Fetch
**Git fetch** - загружает последние изменения из удаленного репозитория, но не сливает их с вашей веткой. Это безопасный способ проверить обновления перед интеграцией.
## Как работает git fetch?
1. Скачивает новые коммиты, ветки и теги из удаленного репозитория.
2. Сохраняет их в локальном *.git/*, но не изменяет рабочие файлы.
3. Позволяет вручную решить, как объединить изменения (через *merge* или *rebase*).
## Основное использование
### 1. Загрузить все изменения с удаленного сервера
```bash
git fetch            # По умолчанию скачивает данные из origin
```
### 2. Загрузить изменения из конкретного удаленного репозитория
```bash
git fetch upstream   # Если у вас несколько remotes
```
### 3. Загрузить конкретную ветку
```bash
git fetch origin main
```
## Полезные опции

| Опция       | Описание                                                   |
| ----------- | ---------------------------------------------------------- |
| `--all`     | Загрузить изменения со всех удаленных репозиториев         |
| `--prune`   | Удалить локальные ссылки на несуществующие удаленные ветки |
| `--dry-run` | Показать, что будет загружено (без реального скачивания)   |
| `--tags`    | Загрузить все теги                                         |
## Примеры
### 1. Проверить новые ветки без слияния
```bash
git fetch
git branch -r   # Показать удаленные ветки
```
### 2. Сравнить локальную и удаленную ветки
```bash
git fetch
git diff main ofigin/main
```
### 3. Обновить локальные ветки, соответствующие удаленным
```bash
git fetch --prune # Удалит локальные ссылки на удаленные ветки, которые уже удалены на сервере
```
## Что происходит после git fetch?
1. Новые данные сохраняются в:
	- *origin/main* - удаленная ветка
	- *.git/refs/remotes/origin/* - ссылки на удаленные ветки.
2. Чтобы обновить локальную ветку, нужно выполнить:
	- `git merge origin/main`   # или` git rebase origin/main`
## Отличие от git pull

| git fetch                      | git pull                          |
| ------------------------------ | --------------------------------- |
| Только загружает изменения     | Загружает + автоматически сливает |
| Безопасен (не трогает ваш код) | Может вызвать конфликты           |
| Трубует ручного merge/rebase   | Делает все за вас                 |
## Сценарии использования
### 1. Проверка обновлений перед работой
```bash
git fetch
git log origin/main --oneline   # Посмотреть новые коммиты
```
### 2. Синхронизация fork-репозитория
```bash
git fetch upstream   # upstream - оригинальный репозиторий
git merge upstream/main
```
### 3. Безопасный просмотр чужого кода
```bash
git fetch origin feature/new-design
git checkout origin/feature/new-design   # Посмотреть без слияния
```
## Советы
- Чаще используйте **fetch** вместо **pull** - это дает больше контроля.
- Перед слиянием проверяйте изменения:
`git diff main origin main`
- Для очистки устаревших веток:
`git fetch --prune`