## üîπ –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤?
–ö–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ **–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `balance` –∏–ª–∏ —Å–ø–∏—Å–∫–æ–º), –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å **–≥–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö (race condition)**.  
–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º.
üëâ –ß—Ç–æ–±—ã —ç—Ç–æ–≥–æ –∏–∑–±–µ–∂–∞—Ç—å, –≤ Java –µ—Å—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º **—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**: –æ–Ω –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω –ø–æ—Ç–æ–∫** –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –∫–æ–¥–∞ –≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.
## üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
### 1. `synchronized`
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ —è–∑—ã–∫ –º–µ—Ö–∞–Ω–∏–∑–º.
- –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –≤ Java –∏–º–µ–µ—Ç **–º–æ–Ω–∏—Ç–æ—Ä** (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∑–∞–º–æ–∫).
- –ö–æ–≥–¥–∞ –ø–æ—Ç–æ–∫ –≤—Ö–æ–¥–∏—Ç –≤ `synchronized`-–±–ª–æ–∫ –∏–ª–∏ –º–µ—Ç–æ–¥, –æ–Ω **–∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞**.
- –î—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏ –∂–¥—É—Ç, –ø–æ–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è.
#### üî∏ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥
```java
class Counter {
    private int count = 0;

    public synchronized void increment() {
        count++;
    }

    public synchronized int getCount() {
        return count;
    }
}
```
#### üî∏ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–ª–æ–∫
```java
class Counter {
    private int count = 0;
    private final Object lock = new Object();

    public void increment() {
        synchronized (lock) {
            count++;
        }
    }
}
```
‚ö†Ô∏è –í–∞–∂–Ω–æ: –º–æ–Ω–∏—Ç–æ—Ä –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ **–æ–±—ä–µ–∫—Ç–µ**, –∞ –Ω–µ –Ω–∞ –∫–æ–¥–µ.
### 2. `volatile`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç **–≤–∏–¥–∏–º–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π** –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤—Å–µ–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ (–∫–∞–∂–¥—ã–π —Ä–∞–∑ —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–º—è—Ç–∏, –∞ –Ω–µ –∏–∑ –∫–µ—à–∞).
- –ù–æ `volatile` **–Ω–µ –¥–µ–ª–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏**.
```java
volatile boolean running = true;
```
### 3. –ú–µ—Ç–æ–¥—ã `wait()`, `notify()`, `notifyAll()`
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å `synchronized`.
- –ü–æ–∑–≤–æ–ª—è—é—Ç –ø–æ—Ç–æ–∫–∞–º **–∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**: –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –∂–¥—ë—Ç —Å–∏–≥–Ω–∞–ª–∞ (`wait()`), –¥—Ä—É–≥–æ–π –ø–æ–¥–∞—ë—Ç —Å–∏–≥–Ω–∞–ª (`notify()`).
–ü—Ä–∏–º–µ—Ä:
```java
synchronized (lock) {
    while (!—É—Å–ª–æ–≤–∏–µ) {
        lock.wait();   // –ø–æ—Ç–æ–∫ –∂–¥—ë—Ç
    }
    // —Ä–∞–±–æ—Ç–∞ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É—Å–ª–æ–≤–∏—è
}
```
### 4. –ö–ª–∞—Å—Å—ã –∏–∑ `java.util.concurrent.locks`
- –ë–æ–ª–µ–µ –≥–∏–±–∫–∏–µ, —á–µ–º `synchronized`.
- –ù–∞–ø—Ä–∏–º–µ—Ä:
    - `ReentrantLock` ‚Äî —è–≤–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞.
    - `ReadWriteLock` ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –Ω–∞ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å.
    - `Condition` ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ `wait/notify`.
–ü—Ä–∏–º–µ—Ä:
```java
import java.util.concurrent.locks.*;

class Counter {
    private int count = 0;
    private final Lock lock = new ReentrantLock();

    public void increment() {
        lock.lock();
        try {
            count++;
        } finally {
            lock.unlock();
        }
    }
}
```
### 5. –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã (`java.util.concurrent`)
- `CountDownLatch` ‚Äî –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤.
- `CyclicBarrier` ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≥—Ä—É–ø–ø—ã –ø–æ—Ç–æ–∫–æ–≤ –≤ —Ç–æ—á–∫–µ.
- `Semaphore` ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Ç–æ–∫–æ–≤, –∏–º–µ—é—â–∏—Ö –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å—É.
- `Exchanger`, `Phaser` –∏ –¥—Ä.
## üîπ –ò—Ç–æ–≥
–ú–µ—Ö–∞–Ω–∏–∑–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ Java –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ **–º–æ–Ω–∏—Ç–æ—Ä–∞—Ö –æ–±—ä–µ–∫—Ç–æ–≤**:
- `synchronized` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç **–≤–∑–∞–∏–º–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ**.
- `volatile` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç **–≤–∏–¥–∏–º–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**.
- `wait/notify` –∏ `java.util.concurrent` –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç **–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –ø–æ—Ç–æ–∫–æ–≤**.