## üß© 1Ô∏è‚É£ –ß—Ç–æ —Ç–∞–∫–æ–µ DAO
**DAO (Data Access Object)** ‚Äî —ç—Ç–æ **—Å–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å **–∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –¥–∞–Ω–Ω—ã—Ö** (–æ–±—ã—á–Ω–æ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö).  
–ï–≥–æ –∑–∞–¥–∞—á–∞ ‚Äî **–∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º**: –∑–∞–ø—Ä–æ—Å—ã, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏ —Ç.–ø.
üìò –ü—Ä–∏–º–µ—Ä:
```java
public interface UserDao {
    User findById(Long id);
    void save(User user);
}
```
> –°–ª–æ–π DAO –æ—Ç–¥–µ–ª—è–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –æ—Ç –¥–µ—Ç–∞–ª–µ–π —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –ª—ë–≥–∫—É—é –∑–∞–º–µ–Ω—É –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö.
## ‚öôÔ∏è 2Ô∏è‚É£ –ö–∞–∫ Spring —É–ø—Ä–æ—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ DAO
Spring –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –º–æ—â–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ ‚Äî **Spring Data Access Layer**
–û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ (—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏);
- –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π: **JDBC**, **JPA**, **Hibernate**, **MyBatis** –∏ –¥—Ä.;
- —É–ø—Ä–æ—â—ë–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤.
## üß± 3Ô∏è‚É£ –≠—Ç–∞–ø—ã —Å–æ–∑–¥–∞–Ω–∏—è DAO –≤ Spring
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ **Spring Data JPA** (–Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç).
### üîπ –®–∞–≥ 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
–í `application.properties`:
```properties
spring.datasource.url=jdbc:postgresql://localhost:5432/testdb
spring.datasource.username=postgres
spring.datasource.password=1234
spring.jpa.hibernate.ddl-auto=update
```
### üîπ –®–∞–≥ 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ (Entity)
```java
@Entity
@Table(name = "users")
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;
    private String email;
}
```
### üîπ –®–∞–≥ 3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ DAO-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (Repository)
Spring –ø–æ–∑–≤–æ–ª—è–µ—Ç **–Ω–µ –ø–∏—Å–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é** ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
```java
@Repository
public interface UserRepository extends JpaRepository<User, Long> {
    List<User> findByName(String name);
}
```
> `JpaRepository` —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ CRUD-–º–µ—Ç–æ–¥—ã: `save`, `findById`, `delete`, `findAll` –∏ –¥—Ä.
### üîπ –®–∞–≥ 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DAO –≤ —Å–µ—Ä–≤–∏—Å–µ
```java
@Service
public class UserService {
    private final UserRepository repository;

    @Autowired
    public UserService(UserRepository repository) {
        this.repository = repository;
    }

    public User getUser(Long id) {
        return repository.findById(id).orElseThrow();
    }

    public void addUser(User user) {
        repository.save(user);
    }
}
```
## üí° 4Ô∏è‚É£ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Spring DAO

|–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ|–û–ø–∏—Å–∞–Ω–∏–µ|
|---|---|
|**–°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å**|–ö–æ–¥, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å –ë–î, –æ—Ç–¥–µ–ª—ë–Ω –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏|
|**–ú–∏–Ω–∏–º—É–º —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞**|–ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –ø–∏—Å–∞—Ç—å JDBC –∏–ª–∏ Hibernate –∫–æ–¥|
|**–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π**|–ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É JDBC, JPA, Hibernate|
|**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏**|Spring –±–µ—Ä—ë—Ç –Ω–∞ —Å–µ–±—è –æ—Ç–∫—Ä—ã—Ç–∏–µ, –∫–æ–º–º–∏—Ç –∏ rollback —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π|
|**–õ–µ–≥–∫–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**|DAO –º–æ–∂–Ω–æ –º–æ–∫–∞—Ç—å –ø—Ä–∏ unit-—Ç–µ—Å—Ç–∞—Ö|
|**–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**|–õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º|
## üß† 5Ô∏è‚É£ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: JDBC DAO –±–µ–∑ JPA
–ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `JdbcTemplate`:
```java
@Repository
public class UserDao {
    private final JdbcTemplate jdbcTemplate;

    @Autowired
    public UserDao(JdbcTemplate jdbcTemplate) {
        this.jdbcTemplate = jdbcTemplate;
    }

    public List<User> findAll() {
        return jdbcTemplate.query("SELECT * FROM users",
            (rs, rowNum) -> new User(rs.getLong("id"), rs.getString("name"), rs.getString("email")));
    }
}
```
> Spring –≤—Å—ë —Ä–∞–≤–Ω–æ –±–µ—Ä—ë—Ç –Ω–∞ —Å–µ–±—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
## üìå 6Ô∏è‚É£ –ö—Ä–∞—Ç–∫–∏–π –∏—Ç–æ–≥
**Spring DAO (Data Access Object)**:
- –æ—Ç–¥–µ–ª—è–µ—Ç —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏;
- —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `@Repository` –∏ Spring Data API (`JpaRepository`, `CrudRepository`);
- —Å–Ω–∏–∂–∞–µ—Ç —à–∞–±–ª–æ–Ω–Ω—ã–π –∫–æ–¥ –∏ –ø–æ–≤—ã—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å;
- –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å, —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å.