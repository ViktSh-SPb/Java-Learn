–í **Spring Framework** –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ (scope) –±–∏–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, **–∫–∞–∫ –¥–æ–ª–≥–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–±—ä–µ–∫—Ç –∏ —Å–∫–æ–ª—å–∫–æ –µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Å–æ–∑–¥–∞—ë—Ç—Å—è** –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Spring. –†–∞–∑–Ω—ã–µ scopes –ø–æ–∑–≤–æ–ª—è—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–Ω–æ–≤.
## 1Ô∏è‚É£ **Singleton (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)**
- **–û–ø–∏—Å–∞–Ω–∏–µ:** —Å–æ–∑–¥–∞—ë—Ç—Å—è **–æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä** –±–∏–Ω–∞ –Ω–∞ –≤–µ—Å—å **ApplicationContext**.
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
    - –û–¥–∏–Ω –æ–±—ä–µ–∫—Ç –¥–ª—è –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –≤—Å–µ—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π.
    - –≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏, –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å.
    - –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–≥–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ —Å–µ—Å—Å–∏–∏.
- **–ü—Ä–∏–º–µ—Ä:**
```java
@Service
public class UserService { }
```
> `@Service` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî singleton.
## 2Ô∏è‚É£ **Prototype**
- **–û–ø–∏—Å–∞–Ω–∏–µ:** **–Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä** —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ **–∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ** –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É.
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
    - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è.
    - –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–∑–¥–µ–ª—è—Ç—å—Å—è.
- **–ü—Ä–∏–º–µ—Ä:**
```java
@Component
@Scope("prototype")
public class Task { }
```
> –ö–∞–∂–¥—ã–π `context.getBean(Task.class)` –≤–µ—Ä–Ω—ë—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç.
## 3Ô∏è‚É£ **Request** (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** **–æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ HTTP-–∑–∞–ø—Ä–æ—Å**.
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞.
    - –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤ –≤–µ–±-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ (Spring MVC).
- **–ü—Ä–∏–º–µ—Ä:**
```java
@Component
@Scope(value = "request", proxyMode = ScopedProxyMode.TARGET_CLASS)
public class RequestData { }
```
> –ö–∞–∂–¥—ã–π HTTP-–∑–∞–ø—Ä–æ—Å –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä.
## 4Ô∏è‚É£ **Session** (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** **–æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ HTTP-—Å–µ—Å—Å–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**.
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
    - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    - –ñ–∏–≤—ë—Ç –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏.
- **–ü—Ä–∏–º–µ—Ä:**
```java
@Component
@Scope(value = "session", proxyMode = ScopedProxyMode.TARGET_CLASS)
public class UserSession { }
```
> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –ø–æ–ª—É—á–∞—é—Ç **—Ä–∞–∑–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã**.
## 5Ô∏è‚É£ **Application** (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** **–æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ ServletContext**.
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
    - –î–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ –∑–∞–ø—Ä–æ—Å–∞–º.
    - –ñ–∏–≤—ë—Ç —Å—Ç–æ–ª—å–∫–æ –∂–µ, —Å–∫–æ–ª—å–∫–æ –∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
- **–ü—Ä–∏–º–µ—Ä:**
```java
@Component
@Scope(value = "application", proxyMode = ScopedProxyMode.TARGET_CLASS)
public class AppConfig { }
```

---

## 6Ô∏è‚É£ **WebSocket (Websocket scope)**

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ WebSocket-—Å–µ—Å—Å–∏—é.
    
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:** —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
    

---

## üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è scopes

- **Singleton** ‚Äî —ç–∫–æ–Ω–æ–º–Ω—ã–π, –Ω–æ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ —Å–µ—Å—Å–∏–∏.
    
- **Prototype** ‚Äî –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, –Ω–æ lifecycle –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º.
    
- **Request / Session / Application / WebSocket** ‚Äî —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã –¥–ª—è **–≤–µ–±-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** –∏ —Ç—Ä–µ–±—É—é—Ç **proxyMode**, –µ—Å–ª–∏ –≤–Ω–µ–¥—Ä—è—é—Ç—Å—è –≤ singleton.
    

### ProxyMode –¥–ª—è –≤–µ–±-—Å–∫–æ–ø–æ–≤

```java
@Scope(value = "session", proxyMode = ScopedProxyMode.TARGET_CLASS)
```

- –ü–æ–∑–≤–æ–ª—è–µ—Ç **–≤–Ω–µ–¥—Ä—è—Ç—å request/session beans –≤ singleton**.
    
- Spring —Å–æ–∑–¥–∞—ë—Ç **–ø—Ä–æ–∫—Å–∏**, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –¥–ª—è —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–∞.
    

---

## üìå –ö—Ä–∞—Ç–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞

|Scope|–ö–æ–ª-–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤|–ö–æ–Ω—Ç–µ–∫—Å—Ç|–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏|
|---|---|---|---|
|**singleton**|1|ApplicationContext|–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –æ–±—â–∏–π –Ω–∞ –≤–µ—Å—å –∫–æ–Ω—Ç–µ–∫—Å—Ç|
|**prototype**|–º–Ω–æ–≥–æ|ApplicationContext|–ù–æ–≤—ã–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ|
|**request**|1 –Ω–∞ –∑–∞–ø—Ä–æ—Å|Web|–¢–æ–ª—å–∫–æ –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö|
|**session**|1 –Ω–∞ —Å–µ—Å—Å–∏—é|Web|–î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö|
|**application**|1 –Ω–∞ ServletContext|Web|–û–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π|
|**websocket**|1 –Ω–∞ WebSocket-—Å–µ—Å—Å–∏—é|Web|–î–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π WebSocket|

---

üí° **–í—ã–≤–æ–¥:**  
–í—ã–±–æ—Ä scope –∑–∞–≤–∏—Å–∏—Ç –æ—Ç **–∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –æ–±—ä–µ–∫—Ç–∞** –∏ **–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:

- **Singleton** ‚Äî –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö.
    
- **Prototype** ‚Äî –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.
    
- **Request / Session** ‚Äî –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
    
- **Application / WebSocket** ‚Äî –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
    

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å **–Ω–∞–≥–ª—è–¥–Ω—É—é —Å—Ö–µ–º—É**, –ø–æ–∫–∞–∑—ã–≤–∞—é—â—É—é **–∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±–∏–Ω–æ–≤ Spring –¥–ª—è —Ä–∞–∑–Ω—ã—Ö scopes** ‚Äî —ç—Ç–æ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –ø–æ–º–æ–≥–∞–µ—Ç –∑–∞–ø–æ–º–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É.

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è –µ—ë —Å–¥–µ–ª–∞–ª?