–í **Java** `synchronized` –∏ `volatile` —á–∞—Å—Ç–æ —É–ø–æ–º–∏–Ω–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ, –Ω–æ —Ä–µ—à–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ. –†–∞–∑–±–µ—Ä—ë–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º –∞—Å–ø–µ–∫—Ç–∞–º:

|–ê—Å–ø–µ–∫—Ç|`volatile`|`synchronized`|
|---|---|---|
|**–í–∏–¥–∏–º–æ—Å—Ç—å (Visibility)**|–î–∞ ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π **–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤–∏–¥–Ω—ã –¥—Ä—É–≥–∏–º –ø–æ—Ç–æ–∫–∞–º**|–î–∞ ‚Äî –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ –≤–∏–¥–Ω—ã –¥—Ä—É–≥–∏–º –ø–æ—Ç–æ–∫–∞–º, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–º —Ç—É –∂–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É|
|**–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å**|–ù–µ—Ç ‚Äî –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—Ä–æ–¥–µ `count++` **–Ω–µ –∞—Ç–æ–º–∞—Ä–Ω—ã**|–î–∞ ‚Äî –≤–µ—Å—å –±–ª–æ–∫ –∫–æ–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–∞—Ç–æ–º–∞—Ä–Ω–æ** –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö —Ç—É –∂–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É|
|**–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ / –º–æ–Ω–∏—Ç–æ—Ä**|–ù–µ—Ç ‚Äî –ø–æ—Ç–æ–∫ –Ω–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä|–î–∞ ‚Äî –ø–æ—Ç–æ–∫ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∂–¥—É—Ç|
|**Happens-before**|–¢–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π|–ü–æ–ª–Ω—ã–π happens-before –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞|
|**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**|–î–ª—è —Ñ–ª–∞–≥–∞ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –≥–¥–µ **–Ω–µ –Ω—É–∂–Ω—ã —Å–ª–æ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**|–î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –≥–¥–µ –Ω—É–∂–Ω–æ **–æ–±–µ—Å–ø–µ—á–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∏ –ø–æ—Ä—è–¥–æ–∫**|
|**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**|–û–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä–µ–µ, —Ç.–∫. –Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫|–ú–µ–¥–ª–µ–Ω–Ω–µ–µ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏, —Ç.–∫. –µ—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞|
### –ü—Ä–∏–º–µ—Ä—ã
**volatile (–≤–∏–¥–∏–º–æ—Å—Ç—å, –Ω–æ –Ω–µ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å)**
```java
class Flag {
    volatile boolean stop = false;
    
    void requestStop() {
        stop = true; // –≤–∏–¥–∏–º–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞
    }
    
    void run() {
        while (!stop) {
            // –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–æ–ª–≥–æ
        }
    }
}
```
**synchronized (–≤–∏–¥–∏–º–æ—Å—Ç—å + –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å)**
```java
class Counter {
    private int count = 0;

    public synchronized void increment() { // –∞—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
        count++;
    }

    public synchronized int getCount() {
        return count;
    }
}
```
üí° **–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ:**
- –ò—Å–ø–æ–ª—å–∑—É–π `volatile`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ **–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å** –æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏.
- –ò—Å–ø–æ–ª—å–∑—É–π `synchronized`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ **–∞—Ç–æ–º–∞—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±–ª–æ–∫–∞ –∫–æ–¥–∞ –∏ –≤–∏–¥–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ**.