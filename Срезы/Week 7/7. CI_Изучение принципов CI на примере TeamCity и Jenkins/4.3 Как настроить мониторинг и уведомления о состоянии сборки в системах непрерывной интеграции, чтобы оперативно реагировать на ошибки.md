# üö® –ó–∞—á–µ–º –Ω—É–∂–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ CI
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç:
- –±—ã—Å—Ç—Ä–æ —É–∑–Ω–∞–≤–∞—Ç—å –æ _–ø–∞–¥–µ–Ω–∏–∏ —Å–±–æ—Ä–æ–∫_;
- –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –ø—Ä–∏ _–æ—à–∏–±–∫–∞—Ö —Ç–µ—Å—Ç–æ–≤_;
- –æ–ø–æ–≤–µ—â–∞—Ç—å –æ _—É—Å–ø–µ—à–Ω—ã—Ö —Ä–µ–ª–∏–∑–∞—Ö_;
- –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å _–∞–Ω–æ–º–∞–ª–∏–∏_ (–¥–æ–ª–≥–∏–µ —Å–±–æ—Ä–∫–∏, –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤).
# ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ **Jenkins**
## 1. üì¨ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Email Extension Plugin)
### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
**Manage Jenkins ‚Üí Plugins ‚Üí Available ‚Üí Email Extension Plugin**
### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP:
**Manage Jenkins ‚Üí Configure System ‚Üí Extended E-mail Notification**
–£–∫–∞–∑–∞—Ç—å:
- SMTP-—Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä smtp.gmail.com)
- –ø–æ—Ä—Ç (–æ–±—ã—á–Ω–æ 465/587)
- –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å
- default sender
### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –ø—Ä–æ–µ–∫—Ç–µ:
–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö job:
```
Post-build Actions ‚Üí Editable Email Notification
```
–¢–∏–ø–∏—á–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:
- **Failure** ‚Äî –µ—Å–ª–∏ —Å–±–æ—Ä–∫–∞ —É–ø–∞–ª–∞
- **Always** ‚Äî –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **Unstable** ‚Äî —Ç–µ—Å—Ç—ã —É–ø–∞–ª–∏
- **Fixed** ‚Äî —Å–±–æ—Ä–∫–∞ —Å–Ω–æ–≤–∞ –∑–µ–ª—ë–Ω–∞—è
## 2. üí¨ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Slack (—Å–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ)
### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```
Slack Notification Plugin
```
### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:
1. –°–æ–∑–¥–∞—Ç—å Slack App ‚Üí Incoming WebHook
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å WebHook URL
3. –í Jenkins:  
    **Manage Jenkins ‚Üí Configure System ‚Üí Slack**
–í job –¥–æ–±–∞–≤–∏—Ç—å:
```
Post-build Actions ‚Üí Slack Notifications
```
–í—ã–±—Ä–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã:
- Notify Failure
- Notify Success
- Notify Unstable
- Notify Aborted
## 3. üîî Webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å:
- GitLab/GitHub
- PagerDuty
- Prometheus Alertmanager
- —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
–ß–µ—Ä–µ–∑ **HTTP Request Plugin** –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å POST-–∑–∞–ø—Ä–æ—Å –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏.
## 4. üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Prometheus + Grafana
–ü–ª–∞–≥–∏–Ω:
```
Prometheus metrics plugin
```
–ü–æ–∑–≤–æ–ª—è–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å:
- –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–±–æ—Ä–æ–∫
- —Å—Ç–∞—Ç—É—Å
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
- –∑–∞–≥—Ä—É–∑–∫—É –∞–≥–µ–Ω—Ç–æ–≤
–î–∞–ª–µ–µ ‚Äî —Ä–∏—Å—É–µ—Ç–µ –∫—Ä–∞—Å–∏–≤—ã–π –¥–∞—à–±–æ—Ä–¥ –≤ Grafana.
# ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ **TeamCity**
## 1. üì¨ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
TeamCity ‚Üí  
**My Settings & Tools ‚Üí Notification Rules**
–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
- –æ –ø–∞–¥–µ–Ω–∏–∏ —Å–±–æ—Ä–∫–∏,
- –æ –≤–æ–∑–≤—Ä–∞—Ç–µ –∫ –Ω–æ—Ä–º–µ,
- –æ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –≤–∞—à–∏—Ö —Å–±–æ—Ä–∫–∞—Ö.
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP:  
**Administration ‚Üí Email Notifier**
## 2. üí¨ Slack –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
–°–ø–æ—Å–æ–±–æ–≤ –¥–≤–∞:
### A. Slack Notifier –ø–ª–∞–≥–∏–Ω
–ê–¥–º–∏–Ω–∫–∞:
```
Administration ‚Üí Plugins List ‚Üí Slack Notifier
```
–í –ø—Ä–æ–µ–∫—Ç–µ:  
**Project Settings ‚Üí Slack Notifications**
### B. WebHook —á–µ—Ä–µ–∑ Slack Incoming Webhooks
1. –°–æ–∑–¥–∞–µ—Ç–µ Webhook –≤ Slack.
2. –í TeamCity:
    ```
    Project ‚Üí Hooks ‚Üí Add WebHook
    ```
3. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–∫—É –ø—Ä–∏:
    - buildFailed
    - buildStarted
    - buildSuccessful
## 3. üì≤ Telegram –±–æ—Ç—ã
–ß–µ—Ä–µ–∑ WebHook Notifier Plugin:
1. –°–æ–∑–¥–∞—ë—Ç–µ Telegram Bot (BotFather)
2. –í—Å—Ç–∞–≤–ª—è–µ—Ç–µ —Ç–æ–∫–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. –î–æ–±–∞–≤–ª—è–µ—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
## 4. üìä Prometheus Monitoring Plugin
TeamCity —É–º–µ–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏:
- —Å—Ç–∞—Ç—É—Å –∞–≥–µ–Ω—Ç–æ–≤
- –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —ç—Ç–∞–ø–æ–≤
- —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–±–æ—Ä–æ–∫
–ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å Grafana –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏, –∫–∞–∫ –∏ —Å Jenkins.
# üéØ –ö–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–∞–º—ã–µ –ø–æ–ª–µ–∑–Ω—ã–µ?
–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –∫–æ–º–∞–Ω–¥:

|–°–æ–±—ã—Ç–∏–µ|–¢–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è|–ö–æ–º—É|
|---|---|---|
|‚ùå –°–±–æ—Ä–∫–∞ —É–ø–∞–ª–∞|Slack/Email|–≤—Å–µ–π –∫–æ–º–∞–Ω–¥–µ|
|‚ö†Ô∏è –¢–µ—Å—Ç—ã —É–ø–∞–ª–∏ (Unstable)|Slack|—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –º–æ–¥—É–ª—è|
|‚úîÔ∏è –°–±–æ—Ä–∫–∞ –ø–æ—á–∏–Ω–∏–ª–∞—Å—å|Slack|–≤—Å–µ–π –∫–æ–º–∞–Ω–¥–µ|
|üöÄ –†–µ–ª–∏–∑ –ø—Ä–æ—à—ë–ª|Email/Slack|DevOps + –º–µ–Ω–µ–¥–∂–µ—Ä—ã|
|üïí –°–±–æ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ–ª—å—à–µ –æ–±—ã—á–Ω–æ–≥–æ|Prometheus Alertmanager|DevOps|
# üß© –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ª—É—á—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–µ
‚úî –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Slack –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–Ω–∞–ª  
‚úî –ù–µ —Å–ª–∞—Ç—å –ø–∏—Å—å–º–∞ –ø–æ –∫–∞–∂–¥–æ–º—É —á–∏—Ö—É ‚Äî —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è  
‚úî –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫–∏ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, —á—Ç–æ–±—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–ª—É—á–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –æ —Å–≤–æ–∏—Ö –º–æ–¥—É–ª—è—Ö  
‚úî –°–ª–µ–¥–∏—Ç—å –∑–∞ –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî –¥–æ–ª–≥–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–µ  
‚úî –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∞–≥–µ–Ω—Ç–æ–≤ CI (–º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ, –Ω–∞–≥—Ä—É–∑–∫—É)
