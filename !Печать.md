–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è, –∫–∞–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ `HashMap` (—Å–∞–º–∞—è –ø–æ–ø—É–ª—è—Ä–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `Map` –≤ Java) —Ä–∞–±–æ—Ç–∞–µ—Ç **"–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º"**.  

---

## **1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ HashMap –≤–Ω—É—Ç—Ä–∏**
`HashMap` —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **–º–∞—Å—Å–∏–≤–∞ –∫–æ—Ä–∑–∏–Ω (buckets)**, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç **—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫** (–∏–ª–∏ **–∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ** –≤ Java 8+ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö).  

```
HashMap
‚îÇ
‚îú‚îÄ‚îÄ Bucket 0 ‚Üí [Entry<K,V>] ‚Üí [Entry<K,V>] ‚Üí ... (LinkedList/Tree)
‚îú‚îÄ‚îÄ Bucket 1 ‚Üí [Entry<K,V>] ‚Üí ...
‚îú‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ Bucket N ‚Üí [Entry<K,V>] ‚Üí ...
```

–ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç (`Entry` –∏–ª–∏ `Node`) —Ö—Ä–∞–Ω–∏—Ç:
- **–ö–ª—é—á (Key)**
- **–ó–Ω–∞—á–µ–Ω–∏–µ (Value)**
- **–•–µ—à –∫–ª—é—á–∞ (hash)**
- **–°—Å—ã–ª–∫–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç** (–µ—Å–ª–∏ –µ—Å—Ç—å –∫–æ–ª–ª–∏–∑–∏—è)

---

## **2. –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ (`put`)**
–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `map.put(key, value)`, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

### **–®–∞–≥ 1: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ö–µ—à–∞ –∫–ª—é—á–∞**
1. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è **—Ö–µ—à-–∫–æ–¥ –∫–ª—é—á–∞** —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `hashCode()`.
2. –≠—Ç–æ—Ç —Ö–µ—à –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ **"–ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ—Ç—Å—è"** (—á–µ—Ä–µ–∑ `hash ^ (hash >>> 16)`), —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–ª–∏–∑–∏–∏.

```java
static final int hash(Object key) {
    int h;
    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);
}
```
- **`null` –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç —Ö–µ—à `0`** –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ **–ø–µ—Ä–≤–æ–π –∫–æ—Ä–∑–∏–Ω–µ**.

### **–®–∞–≥ 2: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã (bucket)**
–í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å –∫–æ—Ä–∑–∏–Ω—ã, –∫—É–¥–∞ –ø–æ–ø–∞–¥—ë—Ç —ç–ª–µ–º–µ–Ω—Ç:
```java
int index = (n - 1) & hash;  // n = —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ –∫–æ—Ä–∑–∏–Ω (—Å—Ç–µ–ø–µ–Ω—å –¥–≤–æ–π–∫–∏)
```
- `n` ‚Äì –≤—Å–µ–≥–¥–∞ —Å—Ç–µ–ø–µ–Ω—å –¥–≤–æ–π–∫–∏ (16, 32, 64, ...), –ø–æ—ç—Ç–æ–º—É `(n - 1) & hash` —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ `hash % n`, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ.

### **–®–∞–≥ 3: –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –∫–æ—Ä–∑–∏–Ω–µ**
1. –ï—Å–ª–∏ –∫–æ—Ä–∑–∏–Ω–∞ **–ø—É—Å—Ç–∞—è** ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π `Node` –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ç—É–¥–∞.
2. –ï—Å–ª–∏ –∫–æ—Ä–∑–∏–Ω–∞ **–Ω–µ –ø—É—Å—Ç–∞—è**:
   - –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–µ–π:
     - –ï—Å–ª–∏ –∫–ª—é—á **—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** (–ø–æ `equals()`), –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ **–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è**.
     - –ï—Å–ª–∏ –∫–ª—é—á **–Ω–æ–≤—ã–π**, —ç–ª–µ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ **–∫–æ–Ω–µ—Ü —Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞** (–∏–ª–∏ –≤ **–∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ**, –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π).

### **–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (resize)**
–ï—Å–ª–∏ `HashMap` –∑–∞–ø–æ–ª–Ω–µ–Ω –Ω–∞ **75%** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **—É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞**:
1. –°–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ **–≤–¥–≤–æ–µ –±–æ–ª—å—à–µ**.
2. –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã **–ø–µ—Ä–µ—Ö–µ—à–∏—Ä—É—é—Ç—Å—è** –∏ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ –Ω–æ–≤—ã–º –∫–æ—Ä–∑–∏–Ω–∞–º.

---

## **3. –ö–æ–ª–ª–∏–∑–∏–∏ –∏ –∫–∞–∫ –æ–Ω–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è**
**–ö–æ–ª–ª–∏–∑–∏—è** ‚Äì —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ —Ä–∞–∑–Ω—ã–µ –∫–ª—é—á–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–¥–Ω—É –∫–æ—Ä–∑–∏–Ω—É (–∏–∑-–∑–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ `hashCode` –∏–ª–∏ –ø–æ—Å–ª–µ `& (n-1)`).

### **Java 7: –°–≤—è–∑–Ω—ã–µ —Å–ø–∏—Å–∫–∏**
- –≠–ª–µ–º–µ–Ω—Ç—ã —Å –∫–æ–ª–ª–∏–∑–∏—è–º–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **–æ–¥–Ω–æ—Å–≤—è–∑–Ω–æ–º —Å–ø–∏—Å–∫–µ**.
- –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∫–æ–ª–ª–∏–∑–∏–π –ø–æ–∏—Å–∫ –∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è –¥–æ **O(n)**.

### **Java 8+: –ö—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è (–ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –∫–æ–ª–ª–∏–∑–∏—è—Ö)**
- –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –≤ –∫–æ—Ä–∑–∏–Ω–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è **–¥–ª–∏–Ω–Ω–µ–µ 8 —ç–ª–µ–º–µ–Ω—Ç–æ–≤**, –æ–Ω –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ **–∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ** (–ø–æ–∏—Å–∫ –∑–∞ **O(log n)**).
- –ï—Å–ª–∏ —Ä–∞–∑–º–µ—Ä —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –¥–æ **6 —ç–ª–µ–º–µ–Ω—Ç–æ–≤**, –¥–µ—Ä–µ–≤–æ —Å–Ω–æ–≤–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫.

```java
// –ü—Ä–∏–º–µ—Ä –∫–æ–ª–ª–∏–∑–∏–∏:
map.put("Aa", 1);  // –•–µ—à "Aa" = 2112
map.put("BB", 2);  // –•–µ—à "BB" = 2112 (–∫–æ–ª–ª–∏–∑–∏—è!)
```

---

## **4. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ `putIfAbsent`?**
–ú–µ—Ç–æ–¥ `putIfAbsent` —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–∞:
```java
if (map.get(key) == null) {
    map.put(key, value);
}
```
- –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `put`, –æ–Ω **–Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç** —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

---

## **5. –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π**
| –û–ø–µ—Ä–∞—Ü–∏—è  | –°—Ä–µ–¥–Ω–∏–π —Å–ª—É—á–∞–π (O) | –•—É–¥—à–∏–π —Å–ª—É—á–∞–π (O) |
|-----------|-------------------|-------------------|
| `put()`   | O(1)              | O(log n)*         |
| `get()`   | O(1)              | O(log n)*         |
| `remove()`| O(1)              | O(log n)*         |

(*) ‚Äì –í Java 8+ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥–µ—Ä–µ–≤—å–µ–≤ –≤–º–µ—Å—Ç–æ —Å–ø–∏—Å–∫–æ–≤.

---

## **–í—ã–≤–æ–¥**
- `HashMap` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–º–∞—Å—Å–∏–≤ –∫–æ—Ä–∑–∏–Ω** + **—Å–≤—è–∑–Ω—ã–µ —Å–ø–∏—Å–∫–∏/–¥–µ—Ä–µ–≤—å—è** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞:
  1. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ö–µ—à –∫–ª—é—á–∞.
  2. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–æ—Ä–∑–∏–Ω–∞.
  3. –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–ª–ª–∏–∑–∏—è, —ç–ª–µ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫/–¥–µ—Ä–µ–≤–æ.
  4. –ü—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ `HashMap` –Ω–∞ 75%, —Ä–∞–∑–º–µ—Ä —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –≤–¥–≤–æ–µ.
- –í Java 8+ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –∫–æ–ª–ª–∏–∑–∏—è—Ö —Å–ø–∏—Å–∫–∏ –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ **–∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è** –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞.

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≥–ª—É–±–∂–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ rehashing –∏–ª–∏ —Ä–∞–±–æ—Ç–µ –¥–µ—Ä–µ–≤—å–µ–≤ –≤ `HashMap`, —Å–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ! üòä