## üß© –ß—Ç–æ —Ç–∞–∫–æ–µ `FetchType`
`FetchType` ‚Äî —ç—Ç–æ **—Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π** –≤ JPA. –û–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, **–∫–æ–≥–¥–∞ –∏–º–µ–Ω–Ω–æ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ `@OneToMany`, `@ManyToOne`, `@OneToOne`, `@ManyToMany`).
–¢–æ –µ—Å—Ç—å: **–ø–æ–ª—É—á–∏—Ç—å –ª–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É –≤–º–µ—Å—Ç–µ —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é –∏–ª–∏ —Ç–æ–ª—å–∫–æ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏**.
## üîπ –¢–∏–ø—ã FetchType
–í JPA –µ—Å—Ç—å –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:

|–¢–∏–ø|–û–ø–∏—Å–∞–Ω–∏–µ|–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è|
|---|---|---|
|**EAGER**|–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è **—Å—Ä–∞–∑—É –≤–º–µ—Å—Ç–µ** —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é (join –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å).|–ö–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –Ω—É–∂–Ω—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä `@ManyToOne` —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é.|
|**LAZY**|–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –Ω–∏–º** (–ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞).|–ö–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω—ã –Ω–µ –≤—Å–µ–≥–¥–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä `@OneToMany` —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤.|
## üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
### 1. `@ManyToOne` —Å EAGER (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```java
@Entity
public class Order {
    @Id
    private Long id;

    @ManyToOne(fetch = FetchType.EAGER) // –∑–∞–∫–∞–∑ –≤—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    private User user;
}
```
–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ `Order order = em.find(Order.class, 1L);` –æ–±—ä–µ–∫—Ç `User` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è **—Å—Ä–∞–∑—É**.
### 2. `@OneToMany` —Å LAZY (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```java
@Entity
public class User {
    @Id
    private Long id;

    @OneToMany(mappedBy = "user", fetch = FetchType.LAZY)
    private List<Order> orders;
}
```
–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ `User user = em.find(User.class, 1L);` **—Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É**, –∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏:
```java
user.getOrders().size(); // —Ç–µ–ø–µ—Ä—å JPA –¥–µ–ª–∞–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å
```
## ‚ö†Ô∏è –í–∞–∂–Ω–æ
1. **LAZY –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å `LazyInitializationException`**, –µ—Å–ª–∏ —Å—É—â–Ω–æ—Å—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∞ –≤–Ω–µ `EntityManager` –∏–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
2. **EAGER** –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ª–∏—à–Ω–∏–º JOIN-–∑–∞–ø—Ä–æ—Å–∞–º –∏ –∑–∞–º–µ–¥–ª–∏—Ç—å —Ä–∞–±–æ—Ç—É, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –º–Ω–æ–≥–æ.
3. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
    - `@ManyToOne` –∏ `@OneToOne` ‚Äî —á–∞—â–µ **EAGER**
    - `@OneToMany` –∏ `@ManyToMany` ‚Äî —á–∞—â–µ **LAZY**
## üß† –ö–æ—Ä–æ—Ç–∫–æ
- `FetchType` —É–ø—Ä–∞–≤–ª—è–µ—Ç **–∫–æ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏**.
- `EAGER` ‚Äî —Å—Ä–∞–∑—É, `LAZY` ‚Äî –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- –í—ã–±–æ—Ä –≤–ª–∏—è–µ—Ç –Ω–∞ **–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –∏ **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤**.