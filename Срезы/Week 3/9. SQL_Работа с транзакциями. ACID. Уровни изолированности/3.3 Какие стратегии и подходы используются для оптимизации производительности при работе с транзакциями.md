## 1Ô∏è‚É£ –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- **–î–µ—Ä–∂–∏—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∫–∞–∫ –º–æ–∂–Ω–æ –∫–æ—Ä–æ—á–µ**:
    - –ß–µ–º –¥–æ–ª—å—à–µ –æ—Ç–∫—Ä—ã—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è, —Ç–µ–º –¥–æ–ª—å—à–µ —É–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.
    - –û–ø–µ—Ä–∞—Ü–∏–∏, –Ω–µ —Ç—Ä–µ–±—É—é—â–∏–µ —É—á–∞—Å—Ç–∏—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –ª—É—á—à–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å **–¥–æ `BEGIN` –∏–ª–∏ –ø–æ—Å–ª–µ `COMMIT`**.
- **–ü—Ä–∏–º–µ—Ä**:
```sql
-- –ü–ª–æ—Ö–æ
BEGIN;
SELECT * FROM orders;
UPDATE accounts SET balance = balance - 100 WHERE id = 1;
WAITFOR DELAY '00:00:05';
COMMIT;

-- –õ—É—á—à–µ
SELECT * FROM orders;  -- –≤–Ω–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
BEGIN;
UPDATE accounts SET balance = balance - 100 WHERE id = 1;
COMMIT;
```
## 2Ô∏è‚É£ –í—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –∏–∑–æ–ª—è—Ü–∏–∏
- **–ù–µ –≤—Å–µ–≥–¥–∞ –Ω—É–∂–µ–Ω SERIALIZABLE**:
    - –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤ **READ COMMITTED** –∏–ª–∏ **REPEATABLE READ** –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.
    - SERIALIZABLE —Å–Ω–∏–∂–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –∏–∑-–∑–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ –æ—Ç–∫–∞—Ç–æ–≤.
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è**: –≤—ã–±—Ä–∞—Ç—å **–Ω–∞–∏–º–µ–Ω—å—à–∏–π —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å**.
## 3Ô∏è‚É£ –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ **–∏–Ω–¥–µ–∫—Å—ã –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º, —É—á–∞—Å—Ç–≤—É—é—â–∏–º –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è—Ö**, —á—Ç–æ–±—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å –±—ã—Å—Ç—Ä–µ–µ.
- –ò–∑–±–µ–≥–∞–π—Ç–µ **Seq Scan –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö** –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ JOIN, GROUP BY –∏ ORDER BY —Å –ø–æ–º–æ—â—å—é –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π.
## 4Ô∏è‚É£ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–∞ –º–µ–Ω—å—à–∏–µ
- **Batch processing**:
    - –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –º–∏–ª–ª–∏–æ–Ω—ã —Å—Ç—Ä–æ–∫, –ª—É—á—à–µ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –±–ª–æ–∫–∏ –ø–æ 1000‚Äì10000.
    - –≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –∂—É—Ä–Ω–∞–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ —É–º–µ–Ω—å—à–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
```sql
-- –ü—Å–µ–≤–¥–æ-–∫–æ–¥
FOR EACH batch IN large_table LOOP
  BEGIN;
  UPDATE batch;
  COMMIT;
END LOOP;
```
## 5Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Savepoints
- **Savepoint** –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å **—á–∞—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**, –∞ –Ω–µ –≤—Å—é.
- –ü–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —à–∞–≥–æ–≤.
```sql
BEGIN;
SAVEPOINT step1;
-- –æ–ø–µ—Ä–∞—Ü–∏–∏
ROLLBACK TO step1;  -- –æ—Ç–∫–∞—Ç —Ç–æ–ª—å–∫–æ –¥–æ savepoint
COMMIT;
```
## 6Ô∏è‚É£ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –°–£–ë–î (PostgreSQL, SQL Server) –º–æ–∂–Ω–æ **—Ä–∞–∑–¥–µ–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø–æ—Ç–æ–∫–∏**:
    - –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö
    - –°–Ω–∏–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
## 7Ô∏è‚É£ –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö **–¥–æ –Ω–∞—á–∞–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ.
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ **–ø–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–ª—é—á–∞–º**, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**, –µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, PostgreSQL —Å Serializable Snapshot Isolation).
## 8Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–æ–≤ –∏ –±–∞—Ç—á–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –í –±–æ–ª—å—à–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç:
    - **–ñ—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (WAL)** –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ –¥–æ–ª–≥–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
    - **Bulk insert/update** –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
## 9Ô∏è‚É£ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –°–Ω–∏–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏–π –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ —á–∏—Ç–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è**, –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω—É–∂–Ω—ã –∞–≥—Ä–µ–≥–∞—Ç—ã –∏–ª–∏ —Å–ª–æ–∂–Ω—ã–µ –ø–æ–¥–∑–∞–ø—Ä–æ—Å—ã
## 1Ô∏è‚É£0Ô∏è‚É£ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏–∑ –ø–ª–∞–Ω–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –°–º–æ—Ç—Ä–∏—Ç–µ **EXPLAIN / EXPLAIN ANALYZE** –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–π—Ç–µ:
    - Seq Scan –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
    - –î–æ—Ä–æ–≥–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏–ª–∏ JOIN
    - –í–æ–∑–º–æ–∂–Ω—ã–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö
### ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
1. üìè –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
2. ‚öñ –í—ã–±–∏—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏
3. üß© –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
4. üîÄ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–∞ –±–∞—Ç—á–∏
5. ‚õì –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ savepoints –¥–ª—è —á–∞—Å—Ç–∏—á–Ω—ã—Ö –æ—Ç–∫–∞—Ç–æ–≤
6. üöÄ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
7. üõ° –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
8. üíæ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –±–∞—Ç—á–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
9. üóÇ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
10. üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–ª–∞–Ω–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑ —É–∑–∫–∏—Ö –º–µ—Å—Ç