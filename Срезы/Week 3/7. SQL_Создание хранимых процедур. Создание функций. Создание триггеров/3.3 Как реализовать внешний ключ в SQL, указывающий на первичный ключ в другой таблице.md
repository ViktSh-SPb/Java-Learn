–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å üëå
**–í–Ω–µ—à–Ω–∏–π –∫–ª—é—á** (_foreign key_) –≤ SQL ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π **—Å–≤—è–∑—ã–≤–∞–µ—Ç –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã** –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **—Å—Å—ã–ª–æ—á–Ω—É—é —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**.  
–û–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º —Å—Ç–æ–ª–±—Ü–µ (–∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö) –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—é **–ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ –≤ –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü–µ**.
## üìå **–ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```sql
ALTER TABLE –∏–º—è_—Ç–∞–±–ª–∏—Ü—ã_—Å_–≤–Ω–µ—à–Ω–∏–º_–∫–ª—é—á–æ–º
ADD CONSTRAINT –∏–º—è_–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
FOREIGN KEY (–ø–æ–ª–µ_–≤_—ç—Ç–æ–π_—Ç–∞–±–ª–∏—Ü–µ)
REFERENCES –∏–º—è_–¥—Ä—É–≥–æ–π_—Ç–∞–±–ª–∏—Ü—ã(–ø–æ–ª–µ_–ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ_–∫–ª—é—á–∞);
```
–ò–ª–∏ —Å—Ä–∞–∑—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü—ã:
```sql
CREATE TABLE –∏–º—è_—Ç–∞–±–ª–∏—Ü—ã (
    ...
    –ø–æ–ª–µ_–≤–Ω–µ—à–Ω–µ–≥–æ_–∫–ª—é—á–∞ –¢–ò–ü,
    FOREIGN KEY (–ø–æ–ª–µ_–≤–Ω–µ—à–Ω–µ–≥–æ_–∫–ª—é—á–∞) REFERENCES –¥—Ä—É–≥–∞—è_—Ç–∞–±–ª–∏—Ü–∞(–ø–µ—Ä–≤–∏—á–Ω—ã–π_–∫–ª—é—á)
);
```
## üßæ **–ü—Ä–∏–º–µ—Ä:**
–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü—ã:
- `users` ‚Äî —Ö—Ä–∞–Ω–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `orders` ‚Äî —Ö—Ä–∞–Ω–∏—Ç –∑–∞–∫–∞–∑—ã
### 1. –°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É —Å –ø–µ—Ä–≤–∏—á–Ω—ã–º –∫–ª—é—á–æ–º
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name TEXT NOT NULL
);
```
### 2. –°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É —Å –≤–Ω–µ—à–Ω–∏–º –∫–ª—é—á–æ–º
```sql
CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    user_id INT NOT NULL,
    order_date DATE NOT NULL,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```
üìå –¢–µ–ø–µ—Ä—å:
- `orders.user_id` –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `users.id`.
- –ï—Å–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—Å—Ç–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑ —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `user_id` ‚Äî –°–£–ë–î –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É.
## ‚ö° **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π**
### üëâ `ON DELETE` –∏ `ON UPDATE`
–ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–ø–∏—Å–∏ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ (`users`):
```sql
FOREIGN KEY (user_id) REFERENCES users(id)
ON DELETE CASCADE
ON UPDATE CASCADE
```
- `CASCADE` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏.
- `SET NULL` ‚Äî –ø–æ—Å—Ç–∞–≤–∏—Ç—å `NULL` –≤ `user_id`.
- `RESTRICT` / `NO ACTION` ‚Äî –∑–∞–ø—Ä–µ—Ç–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ –µ—Å—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏.
üìù –ü—Ä–∏–º–µ—Ä:
```sql
CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    user_id INT,
    order_date DATE NOT NULL,
    FOREIGN KEY (user_id) REFERENCES users(id)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);
```
–ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –≤—Å–µ –µ–≥–æ –∑–∞–∫–∞–∑—ã —É–¥–∞–ª—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
## üß≠ **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã**
```sql
ALTER TABLE orders
ADD CONSTRAINT fk_orders_user
FOREIGN KEY (user_id)
REFERENCES users(id)
ON DELETE CASCADE;
```
## ‚úÖ **–ò—Ç–æ–≥:**
- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å–≤—è–∑—ã–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–æ—á–µ—Ä–Ω–∏–µ –∑–∞–ø–∏—Å–∏ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ.
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å: `FOREIGN KEY (...) REFERENCES ... (...)`.
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ (`ON DELETE`, `ON UPDATE`) –ø–æ–º–æ–≥–∞—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.
- –≠—Ç–æ –æ–¥–∏–Ω –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è **—Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö** –≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –ë–î.