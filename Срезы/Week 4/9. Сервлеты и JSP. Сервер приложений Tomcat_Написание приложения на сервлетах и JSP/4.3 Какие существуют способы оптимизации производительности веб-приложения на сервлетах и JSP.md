–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ **–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–ª–µ—Ç–∞—Ö –∏ JSP** ‚Äî –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∑–∞–¥–∞—á–∞, –≤–∫–ª—é—á–∞—é—â–∞—è —Å–µ—Ä–≤–µ—Ä–Ω—É—é, –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –∏ –±–∞–∑–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é.
## **1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–ª–µ—Ç–æ–≤**
### üîπ 1.1 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ç—è–∂–µ–ª—ã–µ –æ–±—ä–µ–∫—Ç—ã –æ–¥–∏–Ω —Ä–∞–∑ –≤ –º–µ—Ç–æ–¥–µ `init()`, –∞ –Ω–µ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å (`service()`/`doGet()`/`doPost()`).
```java
@Override
public void init() {
    this.dao = new UserDao(); // —Å–æ–∑–¥–∞–µ–º –æ–¥–∏–Ω —Ä–∞–∑
}
```
### üîπ 1.2 –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫ —Å–µ—Ä–≤–µ—Ä–∞; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- –õ—É—á—à–µ –¥–µ–ª–∞—Ç—å **–ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –º–µ—Ç–æ–¥–µ**, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
### üîπ 1.3 –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π
- –•—Ä–∞–Ω–∏—Ç–µ –≤ —Å–µ—Å—Å–∏–∏ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ø–∞–º—è—Ç—å.
- –£–¥–∞–ª—è–π—Ç–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –æ–±—ä–µ–∫—Ç—ã —á–µ—Ä–µ–∑ `session.invalidate()`.
## **2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è JSP**
### üîπ 2.1 –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ JSP —Ç–æ–ª—å–∫–æ –¥–ª—è **–≤—ã–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö**, –∞ –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–Ω–µ—Å–∏—Ç–µ –≤ —Å–µ—Ä–≤–ª–µ—Ç –∏–ª–∏ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π.
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ **JSTL –∏ EL**, —á—Ç–æ–±—ã —Å–Ω–∏–∑–∏—Ç—å overhead scriptlet‚Äô–æ–≤.
### üîπ 2.2 –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í–∫–ª—é—á–∞–π—Ç–µ **–∫–æ–º–ø–∏–ª—è—Ü–∏—é JSP –≤ —Å–µ—Ä–≤–ª–µ—Ç—ã –∑–∞—Ä–∞–Ω–µ–µ** –ø—Ä–∏ –¥–µ–ø–ª–æ–µ (`precompile`).
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** —Å –ø–æ–º–æ—â—å—é JSTL `<c:cache>` –∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞.
### üîπ 2.3 –ò–∑–±–µ–≥–∞—Ç—å –ª–∏—à–Ω–∏—Ö include
- `jsp:include` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `include file=""` –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤.
## **3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö**
### üîπ 3.1 –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **JNDI DataSource** —Å –ø—É–ª–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
- –ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å.
### üîπ 3.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SQL
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ (JOIN –≤–º–µ—Å—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö SELECT).
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **PreparedStatement** –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤.
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
## **4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤ –∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏**
- –°–µ—Ä–≤–ª–µ—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—Ç–æ–∫–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞; –Ω–µ –±–ª–æ–∫–∏—Ä—É–π—Ç–µ –ø–æ—Ç–æ–∫–∏ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.
- –î–æ–ª–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–Ω–æ—Å–∏—Ç–µ –≤ **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏** (`@Async`, `ExecutorService`).
- –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—Å–µ–≥–æ —Å–µ—Ä–≤–ª–µ—Ç–∞.
## **5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤**
### üîπ 5.1 –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–∂–∞—Ç–∏–µ
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Tomcat/—Å–µ—Ä–≤–µ—Ä –Ω–∞ **gzip —Å–∂–∞—Ç–∏–µ** (`compression="on"`).
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ **Cache-Control / ETag** –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏.
### üîπ 5.2 –ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ
- –ú–∏–Ω–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ CSS –∏ JS.
- –û–±—ä–µ–¥–∏–Ω—è–π—Ç–µ —Ñ–∞–π–ª—ã, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.
## **6. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Tomcat –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ **–ø—É–ª –ø–æ—Ç–æ–∫–æ–≤** –≤ `server.xml`:
```xml
<Connector port="8080" protocol="HTTP/1.1"
           maxThreads="200"
           minSpareThreads="20"
           connectionTimeout="20000"/>
```
- `maxThreads` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.
- `connectionTimeout` ‚Äî –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **JNDI-–ø—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**, —á—Ç–æ–±—ã —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.
## **7. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
- –ö—ç—à–∏—Ä—É–π—Ç–µ **—á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ** (—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã) –≤ –ø–∞–º—è—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `ConcurrentHashMap` –∏–ª–∏ `Ehcache`).
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.
## **8. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
- –°–µ—Ä–≤–ª–µ—Ç 3.0 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
```java
@WebServlet(asyncSupported = true)
public class AsyncServlet extends HttpServlet {
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) {
        AsyncContext async = req.startAsync();
        async.start(() -> {
            // –¥–ª–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞
            async.complete();
        });
    }
}
```
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö.
## **9. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **JVisualVM**, **JConsole**, **YourKit** –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ª–æ–≥–∏ Tomcat.
- –°–º–æ—Ç—Ä–∏—Ç–µ **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤**, **–≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞**, **SQL-–∑–∞–ø—Ä–æ—Å—ã**.
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∏—Ö.
### ‚úÖ –ò—Ç–æ–≥–æ: –∫–ª—é—á–µ–≤—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

|–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ|–ü–æ–¥—Ö–æ–¥—ã|
|---|---|
|–°–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞|init() –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å, –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏|
|JSP|–ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å scriptlet, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSTL/EL, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ|
|–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö|–ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, PreparedStatement, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ|
|–°—Ç–∞—Ç–∏–∫–∞|–°–∂–∞—Ç–∏–µ, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤|
|Tomcat|–ü—É–ª –ø–æ—Ç–æ–∫–æ–≤, connectionTimeout, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤|
|–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å|Servlet async, ExecutorService|
|–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥|–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–æ–≥–∏, –º–µ—Ç—Ä–∏–∫–∏|
